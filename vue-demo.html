<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Strudel ä¸­æ–‡æ•™å­¸ - ç”¨ç¨‹å¼ç¢¼å¯«éŸ³æ¨‚ (Vueç‰ˆ)</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/@strudel/web@1.0.3"></script>
    <script src="https://unpkg.com/@strudel/repl@latest"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }
      
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }
      
      header {
        text-align: center;
        color: white;
        margin-bottom: 40px;
      }
      
      h1 {
        font-size: 3em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      }
      
      .subtitle {
        font-size: 1.2em;
        opacity: 0.9;
      }
      
      .section {
        background: white;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      }
      
      .section h2 {
        color: #5a67d8;
        margin-bottom: 20px;
        border-bottom: 3px solid #e2e8f0;
        padding-bottom: 10px;
      }
      
      .tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }
      
      .tab {
        padding: 10px 20px;
        background: #e2e8f0;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
      }
      
      .tab.active {
        background: #5a67d8;
        color: white;
      }
      
      .tab:hover {
        background: #cbd5e0;
      }
      
      .tab.active:hover {
        background: #4c51bf;
      }
      
      .tab-content {
        display: none;
      }
      
      .tab-content.active {
        display: block;
        animation: fadeIn 0.3s ease-in;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      .example-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }
      
      .example-card {
        background: #f7fafc;
        border-radius: 10px;
        padding: 20px;
        border-left: 4px solid #5a67d8;
        transition: all 0.3s;
      }
      
      .example-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      }
      
      .example-card h4 {
        color: #2d3748;
        margin-bottom: 10px;
      }
      
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
        font-family: 'Courier New', monospace;
        overflow-x: auto;
        font-size: 14px;
      }
      
      .controls {
        display: flex;
        gap: 10px;
        margin: 20px 0;
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        transition: all 0.3s;
        text-decoration: none;
        display: inline-block;
      }
      
      .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }
      
      .btn-primary {
        background: #5a67d8;
        color: white;
      }
      
      .btn-primary:hover:not(:disabled) {
        background: #4c51bf;
        transform: translateY(-2px);
      }
      
      .btn-secondary {
        background: #e2e8f0;
        color: #2d3748;
      }
      
      .btn-secondary:hover:not(:disabled) {
        background: #cbd5e0;
      }
      
      .btn-success {
        background: #48bb78;
        color: white;
      }
      
      .btn-success:hover:not(:disabled) {
        background: #38a169;
      }
      
      .editor-area {
        background: #2d3748;
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
      }
      
      .custom-editor {
        width: 100%;
        height: 300px;
        background: #1a202c;
        color: #e2e8f0;
        border: none;
        border-radius: 8px;
        padding: 15px;
        font-family: 'Courier New', monospace;
        font-size: 14px;
        resize: vertical;
      }
      
      .sound-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }
      
      .sound-card {
        background: #f7fafc;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        border: 2px solid transparent;
        transition: all 0.3s;
      }
      
      .sound-card:hover {
        border-color: #5a67d8;
        transform: translateY(-2px);
      }
      
      .iframe-container {
        background: white;
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        text-align: center;
      }
      
      .iframe-container iframe {
        border-radius: 10px;
        border: 2px solid #e2e8f0;
        width: 100%;
        height: 400px;
      }
      
      .special-card {
        grid-column: 1 / -1;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-left: 4px solid #ffd700;
      }
      
      .special-card .code-block {
        background: rgba(0,0,0,0.3);
        color: #fff;
      }
      
      .special-card .btn {
        background: #ffd700;
        color: #333;
      }
      
      .special-card .btn:hover {
        background: #f6e05e;
      }
      
      .advanced-section {
        margin-top: 30px;
        padding: 20px;
        background: #f0f4f8;
        border-radius: 10px;
      }
      
      .status-indicator {
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-left: 10px;
        animation: pulse 2s infinite;
      }
      
      .status-playing {
        background: #48bb78;
      }
      
      .status-stopped {
        background: #e53e3e;
      }
      
      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
      
      .loading {
        opacity: 0.6;
        pointer-events: none;
      }
      
      @media (max-width: 768px) {
        .example-grid {
          grid-template-columns: 1fr;
        }
        
        .tabs {
          flex-direction: column;
        }
        
        .tab {
          text-align: center;
        }
        
        h1 {
          font-size: 2em;
        }
        
        .controls {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="container">
        <!-- Header -->
        <header>
          <h1>ğŸµ Strudel ä¸­æ–‡æ•™å­¸</h1>
          <p class="subtitle">ç”¨ç¨‹å¼ç¢¼å¯«éŸ³æ¨‚ï¼Œæ¢ç´¢ Live Coding çš„é­…åŠ›</p>
          <div class="status-indicator" :class="isPlaying ? 'status-playing' : 'status-stopped'"></div>
        </header>

        <!-- åŸå§‹ä½œå“å±•ç¤º -->
        <div class="iframe-container">
          <h3>ğŸŒŠ ç¶“å…¸ä½œå“ï¼šCoastline by eddyflux</h3>
          <p>é€™æ˜¯ä¸€å€‹ç¶“å…¸çš„ Strudel ä½œå“ï¼Œå±•ç¾äº† live coding éŸ³æ¨‚çš„é­…åŠ›</p>
          <iframe src="https://strudel.cc/#Ly8gImNvYXN0bGluZSIgQGJ5IGVkZHlmbHV4Ci8vIEB2ZXJzaW9uIDEuMApzYW1wbGVzKCdnaXRodWI6ZWRkeWZsdXgvY3JhdGUnKQpzZXRjcHMoLjc1KQpsZXQgY2hvcmRzID0gY2hvcmQoIjxCYm05IEZtOT4vNCIpLmRpY3QoJ2lyZWFsJykKc3RhY2soCiAgc3RhY2soIC8vIERSVU1TCiAgICBzKCJiZCIpLnN0cnVjdCgiPFt4KjwxIDI%2BIFt%2BQDMgeF1dIHg%2BIiksCiAgICBzKCJ%2BIFtyaW0sIHNkOjwyIDM%2BXSIpLnJvb20oIjwwIC4yPiIpLAogICAgbigiWzAgPDEgMz5dKjwyITMgND4iKS5zKCJoaCIpLAogICAgcygicmQ6PDEhMyAyPioyIikubWFzaygiPDAgMCAxIDE%2BLzE2IikuZ2FpbiguNSkKICApLmJhbmsoJ2NyYXRlJykKICAubWFzaygiPFswIDFdIDEgMSAxPi8xNiIuZWFybHkoLjUpKQogICwgLy8gQ0hPUkRTCiAgY2hvcmRzLm9mZnNldCgtMSkudm9pY2luZygpLnMoImdtX2VwaWFubzE6MSIpCiAgLnBoYXNlcig0KS5yb29tKC41KQogICwgLy8gTUVMT0RZCiAgbigiPDAhMyAxKjI%2BIikuc2V0KGNob3JkcykubW9kZSgicm9vdDpnMiIpCiAgLnZvaWNpbmcoKS5zKCJnbV9hY291c3RpY19iYXNzIiksCiAgY2hvcmRzLm4oIlswIDw0IDMgPDIgNT4%2BKjJdKDwzIDU%2BLDgpIikKICAuYW5jaG9yKCJENSIpLnZvaWNpbmcoKQogIC5zZWdtZW50KDQpLmNsaXAocmFuZC5yYW5nZSguNCwuOCkpCiAgLnJvb20oLjc1KS5zaGFwZSguMykuZGVsYXkoLjI1KQogIC5mbShzaW5lLnJhbmdlKDMsOCkuc2xvdyg4KSkKICAubHBmKHNpbmUucmFuZ2UoNTAwLDEwMDApLnNsb3coOCkpLmxwcSg1KQogIC5yYXJlbHkocGx5KCIyIikpLmNodW5rKDQsIGZhc3QoMikpCiAgLmdhaW4ocGVybGluLnJhbmdlKC42LCAuOSkpCiAgLm1hc2soIjwwIDEgMSAwPi8xNiIpCikKLmxhdGUoIlswIC4wMV0qNCIpLmxhdGUoIlswIC4wMV0qMiIpLnNpemUoNCk%3D"></iframe>
        </div>

        <!-- æ•™å­¸å€å¡Š -->
        <div class="section">
          <h2>ğŸ“š Strudel æ•™å­¸</h2>
          <div class="tabs">
            <button 
              v-for="(tab, key) in tabs" 
              :key="key"
              class="tab" 
              :class="{ active: activeTab === key }"
              @click="activeTab = key"
            >
              {{ tab.title }}
            </button>
          </div>

          <div v-for="(tab, key) in tabs" :key="key" class="tab-content" :class="{ active: activeTab === key }">
            <h3>{{ tab.icon }} {{ tab.subtitle }}</h3>
            
            <!-- åŸºç¤èªæ³• -->
            <div v-if="key === 'basics'" class="example-grid">
              <div class="example-card" v-for="example in basicExamples" :key="example.title">
                <h4>{{ example.title }}</h4>
                <div class="code-block">{{ example.code }}</div>
                <p>{{ example.description }}</p>
                <button class="btn btn-primary" @click="playExample(example.jsCode)" :disabled="loading">
                  {{ loading ? 'è¼‰å…¥ä¸­...' : 'è©¦è½' }}
                </button>
              </div>
              
              <!-- å®Œæ•´ç¯„ä¾‹ -->
              <div class="example-card special-card">
                <h4>ğŸµ å®Œæ•´éŸ³æ¨‚ç¯„ä¾‹ï¼šDub é¢¨æ ¼</h4>
                <div class="code-block">{{ dubExampleDisplay }}</div>
                <p>å››è²éƒ¨ç·¨æ’ï¼šé›»å‰ä»– + é¼“çµ„ + æ‰‹é¢¨ç´ + è²æ–¯ï¼Œå±•ç¾ Dub éŸ³æ¨‚çš„ç¶“å…¸ç‰¹è‰²</p>
                <button class="btn" @click="playCompleteExample" :disabled="loading">
                  ğŸ§ {{ loading ? 'è¼‰å…¥ä¸­...' : 'æ’­æ”¾å®Œæ•´ç¯„ä¾‹' }}
                </button>
              </div>
            </div>

            <!-- éŸ³è‰²ä»‹ç´¹ -->
            <div v-if="key === 'sounds'" class="sound-grid">
              <div class="sound-card" v-for="sound in soundExamples" :key="sound.title">
                <h4>{{ sound.title }}</h4>
                <div v-for="item in sound.items" :key="item.name">
                  <p><strong>{{ item.name }}</strong> - {{ item.description }}</p>
                </div>
                <button class="btn btn-secondary" @click="playExample(sound.jsCode)" :disabled="loading">
                  {{ loading ? 'è¼‰å…¥ä¸­...' : 'è©¦è½' }}
                </button>
              </div>
            </div>

            <!-- Pattern æŠ€å·§ -->
            <div v-if="key === 'patterns'" class="example-grid">
              <div class="example-card" v-for="pattern in patternExamples" :key="pattern.title">
                <h4>{{ pattern.title }}</h4>
                <div class="code-block">{{ pattern.code }}</div>
                <p>{{ pattern.description }}</p>
                <button class="btn btn-primary" @click="playExample(pattern.jsCode)" :disabled="loading">
                  {{ loading ? 'è¼‰å…¥ä¸­...' : 'è©¦è½' }}
                </button>
              </div>
            </div>

            <!-- æ•ˆæœå™¨ -->
            <div v-if="key === 'effects'">
              <div class="example-grid">
                <div class="example-card" v-for="effect in effectExamples" :key="effect.title">
                  <h4>{{ effect.title }}</h4>
                  <div class="code-block">{{ effect.code }}</div>
                  <p>{{ effect.description }}</p>
                  <button class="btn btn-primary" @click="playExample(effect.jsCode)" :disabled="loading">
                    {{ loading ? 'è¼‰å…¥ä¸­...' : 'è©¦è½' }}
                  </button>
                </div>
              </div>
              
              <div class="advanced-section">
                <h4>ğŸŒŠ é€²éšï¼šæ³¢å½¢èª¿åˆ¶æŠ€å·§</h4>
                <p>Strudel æ”¯æ´ç”¨æ³¢å½¢ä¾†è‡ªå‹•æ§åˆ¶æ•ˆæœå™¨åƒæ•¸ï¼š</p>
                <ul style="margin: 15px 0; padding-left: 20px;">
                  <li><strong>sine</strong> - æ­£å¼¦æ³¢ï¼Œå¹³æ»‘è®ŠåŒ–</li>
                  <li><strong>saw</strong> - é‹¸é½’æ³¢ï¼Œç·šæ€§ä¸Šå‡</li>
                  <li><strong>square</strong> - æ–¹æ³¢ï¼Œçªç„¶è·³èº</li>
                  <li><strong>tri</strong> - ä¸‰è§’æ³¢ï¼Œç·šæ€§ä¸Šä¸‹</li>
                  <li><strong>rand</strong> - éš¨æ©Ÿå€¼</li>
                  <li><strong>perlin</strong> - å¹³æ»‘éš¨æ©Ÿ</li>
                </ul>
                <div class="code-block">note("c2 c3").s("sawtooth").lpf(sine.range(100, 2000).slow(4))</div>
                <button class="btn btn-secondary" @click="playWaveModulation" :disabled="loading">
                  {{ loading ? 'è¼‰å…¥ä¸­...' : 'è©¦è½æ³¢å½¢èª¿åˆ¶' }}
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- è‡ªè¨‚ç·¨è¼¯å™¨ -->
        <div class="section">
          <h2>ğŸ¹ è‡ªè¨‚éŸ³æ¨‚ç·¨è¼¯å™¨</h2>
          <p>åœ¨ä¸‹æ–¹ç·¨è¼¯å™¨ä¸­å¯«ä½ çš„ Strudel ç¨‹å¼ç¢¼ï¼ŒæŒ‰ä¸‹æ’­æ”¾ä¾†è½è½æ•ˆæœï¼</p>
          
          <div class="editor-area">
            <textarea 
              v-model="customCode" 
              class="custom-editor" 
              placeholder="åœ¨é€™è£¡å¯«ä½ çš„ Strudel ç¨‹å¼ç¢¼..."
            ></textarea>
          </div>

          <div class="controls">
            <button class="btn btn-primary" @click="playCustomCode" :disabled="loading">
              â–¶ï¸ {{ loading ? 'è¼‰å…¥ä¸­...' : 'æ’­æ”¾æˆ‘çš„éŸ³æ¨‚' }}
            </button>
            <button class="btn btn-secondary" @click="stopAll" :disabled="loading">
              â¹ï¸ {{ loading ? 'è¼‰å…¥ä¸­...' : 'åœæ­¢æ’­æ”¾' }}
            </button>
            <button class="btn btn-secondary" @click="clearEditor">
              ğŸ—‘ï¸ æ¸…ç©ºç·¨è¼¯å™¨
            </button>
            <button class="btn btn-success" @click="loadDubExample">
              ğŸ“ è¼‰å…¥ Dub ç¯„ä¾‹
            </button>
          </div>
        </div>

        <!-- å…§å»ºç·¨è¼¯å™¨ -->
        <div class="section">
          <h2>ğŸ”§ é€²éšç·¨è¼¯å™¨</h2>
          <p>é€™æ˜¯å…§å»ºçš„ Strudel ç·¨è¼¯å™¨ï¼Œå…·æœ‰èªæ³•é«˜äº®åŠŸèƒ½ï¼š</p>
          <strudel-editor>
            <!--
// è©¦è©¦çœ‹ä¿®æ”¹é€™å€‹ç¯„ä¾‹
setcps(1)
stack(
  s("bd*2 sd*2"),
  s("hh*8").gain(0.4),
  note("<c4 e4 g4 b4>*2").scale('C4 minor')
  .s("sawtooth")
  .clip(sine.range(.2,.8).slow(8))
  .jux(rev)
  .room(0.5)
  .lpf(perlin.range(200,2000).slow(4))
)
-->
          </strudel-editor>
        </div>
      </div>
    </div>

    <script>
      const { createApp } = Vue;

      createApp({
        data() {
          return {
            isPlaying: false,
            loading: false,
            activeTab: 'basics',
            customCode: `// å®Œæ•´ Dub éŸ³æ¨‚ç¯„ä¾‹ (ä¾†è‡ªå®˜æ–¹æ•™å­¸)
stack(
  // æ‚¶éŸ³é›»å‰ä»–é…å»¶é²
  note("[~ [<[d3,a3,f4]!2 [d3,bb3,g4]!2> ~]]*2")
    .sound("gm_electric_guitar_muted")
    .delay(.5),
  
  // ç¶“å…¸é¼“çµ„ç¯€å¥é…å»¶é²
  sound("bd rim")
    .bank("RolandTR707")
    .delay(.5),
  
  // æ‰‹é¢¨ç´ä¸»æ—‹å¾‹é…ç©ºé–“æ„Ÿ
  n("<4 [3@3 4] [<2 0> ~@16] ~>")
    .scale("D4:minor")
    .sound("gm_accordion:2")
    .room(2)
    .gain(.4),
  
  // é›™æ³¢å½¢è²æ–¯é…ä½é€šæ¿¾æ³¢
  n("[0 [~ 0] 4 [3 2] [0 ~] [0 ~] <0 2> ~]/2")
    .scale("D2:minor")
    .sound("sawtooth,triangle")
    .lpf(800)
)`,
            tabs: {
              basics: { 
                title: 'åŸºç¤èªæ³•', 
                icon: 'ğŸ¯',
                subtitle: 'åŸºç¤èªæ³•'
              },
              sounds: { 
                title: 'éŸ³è‰²ä»‹ç´¹', 
                icon: 'ğŸµ',
                subtitle: 'éŸ³è‰²ä»‹ç´¹'
              },
              patterns: { 
                title: 'Pattern æŠ€å·§', 
                icon: 'ğŸ¨',
                subtitle: 'Pattern æŠ€å·§'
              },
              effects: { 
                title: 'æ•ˆæœå™¨', 
                icon: 'âœ¨',
                subtitle: 'æ•ˆæœå™¨'
              }
            },
            basicExamples: [
              {
                title: 'æ’­æ”¾é¼“è²',
                code: 's("bd sd hh cp")',
                description: 'bd=å¤§é¼“, sd=å°é¼“, hh=è¸©éˆ¸, cp=æ‹æ‰‹',
                jsCode: 's("bd sd hh cp")'
              },
              {
                title: 'æ’­æ”¾æ—‹å¾‹',
                code: 'note("c4 e4 g4 b4")',
                description: 'æ’­æ”¾ Cå¤§èª¿éŸ³éš',
                jsCode: 'note("c4 e4 g4 b4")'
              },
              {
                title: 'é‡è¤‡ Pattern',
                code: 's("bd*4")',
                description: '*4 è¡¨ç¤ºé‡è¤‡ 4 æ¬¡',
                jsCode: 's("bd*4")'
              },
              {
                title: 'ç–ŠåŠ è²éƒ¨',
                code: 'stack(s("bd*2"), s("hh*4"))',
                description: 'åŒæ™‚æ’­æ”¾å¤šå€‹ pattern',
                jsCode: 'stack(s("bd*2"), s("hh*4"))'
              }
            ],
            soundExamples: [
              {
                title: 'é¼“çµ„ (Drums)',
                items: [
                  { name: 'bd', description: 'å¤§é¼“/åº•é¼“' },
                  { name: 'sd', description: 'å°é¼“' },
                  { name: 'hh', description: 'è¸©éˆ¸' },
                  { name: 'oh', description: 'é–‹æ”¾è¸©éˆ¸' },
                  { name: 'cp', description: 'æ‹æ‰‹è²' }
                ],
                jsCode: 's("bd sd hh oh cp")'
              },
              {
                title: 'åˆæˆå™¨',
                items: [
                  { name: 'sawtooth', description: 'é‹¸é½’æ³¢' },
                  { name: 'square', description: 'æ–¹æ³¢' },
                  { name: 'triangle', description: 'ä¸‰è§’æ³¢' },
                  { name: 'sine', description: 'æ­£å¼¦æ³¢' }
                ],
                jsCode: 'note("c4 e4 g4").sound("sawtooth")'
              },
              {
                title: 'çœŸå¯¦æ¨‚å™¨',
                items: [
                  { name: 'piano', description: 'é‹¼ç´' },
                  { name: 'bass', description: 'è²æ–¯' },
                  { name: 'guitar', description: 'å‰ä»–' },
                  { name: 'violin', description: 'å°æç´' }
                ],
                jsCode: 'note("c4 e4 g4").s("piano")'
              }
            ],
            patternExamples: [
              {
                title: 'è¼ªæ›¿ Pattern',
                code: 's("<bd sd>")',
                description: '<> è¡¨ç¤ºè¼ªæµæ’­æ”¾',
                jsCode: 's("<bd sd>")'
              },
              {
                title: 'ç¾¤çµ„ Pattern',
                code: 's("[bd sd] hh")',
                description: '[] è¡¨ç¤ºç¾¤çµ„ï¼Œåœ¨ä¸€æ‹å…§æ’­æ”¾',
                jsCode: 's("[bd sd] hh")'
              },
              {
                title: 'ä¼‘æ­¢ç¬¦',
                code: 's("bd ~ sd ~")',
                description: '~ è¡¨ç¤ºä¼‘æ­¢ç¬¦ï¼ˆéœéŸ³ï¼‰',
                jsCode: 's("bd ~ sd ~")'
              },
              {
                title: 'Pattern åè½‰',
                code: 's("bd sd hh").jux(rev)',
                description: 'jux(rev) è®“ pattern åè½‰æ’­æ”¾',
                jsCode: 's("bd sd hh").jux(rev)'
              }
            ],
            effectExamples: [
              {
                title: 'ä½é€šæ¿¾æ³¢ (LPF)',
                code: 'note("c2 c3 c2 c3").s("sawtooth").lpf(800)',
                description: 'éæ¿¾é«˜é »ï¼Œæ•¸å€¼è¶Šå°è²éŸ³è¶Šæ‚¶ã€‚è©¦è©¦ 200 vs 2000',
                jsCode: 'note("c2 c3 c2 c3").s("sawtooth").lpf(800)'
              },
              {
                title: 'å‹•æ…‹éŸ³é‡ (Gain)',
                code: 's("hh*16").gain("[.25 1]*2")',
                description: 'ç¯€å¥çš„éˆé­‚ï¼å‹•æ…‹éŸ³é‡å‰µé€ å¾‹å‹•æ„Ÿ',
                jsCode: 's("hh*16").gain("[.25 1]*2")'
              },
              {
                title: 'æ¯éŸ³æ¿¾æ³¢ (Vowel)',
                code: 'note("c3 eb3 g3").s("sawtooth").vowel("a e i o")',
                description: 'æ¨¡æ“¬äººè²æ¯éŸ³ï¼Œå‰µé€ æœ‰æ©Ÿæ„Ÿ',
                jsCode: 'note("c3 eb3 g3").s("sawtooth").vowel("a e i o")'
              },
              {
                title: 'å»¶é²æ•ˆæœ (Delay)',
                code: 's("bd rim").delay(".5:.125:.8")',
                description: 'æ ¼å¼ï¼šéŸ³é‡:æ™‚é–“:å›æˆã€‚å‰µé€ å›éŸ³æ•ˆæœ',
                jsCode: 's("bd rim").delay(".5:.125:.8")'
              },
              {
                title: 'ç©ºé–“æ®˜éŸ¿ (Room)',
                code: 'note("c4 eb4 g4").s("piano").room(2)',
                description: 'æ¨¡æ“¬ç©ºé–“æ„Ÿï¼Œæ•¸å€¼è¶Šå¤§ç©ºé–“è¶Šå¤§',
                jsCode: 'note("c4 eb4 g4").s("piano").room(2)'
              },
              {
                title: 'è²é“å¹³ç§» (Pan)',
                code: 's("bd rim bd cp").pan("0 0.3 .6 1")',
                description: '0=å·¦è²é“ï¼Œ1=å³è²é“ï¼Œ0.5=ä¸­é–“',
                jsCode: 's("bd rim bd cp").pan("0 0.3 .6 1")'
              },
              {
                title: 'æ’­æ”¾é€Ÿåº¦ (Speed)',
                code: 's("bd rim bd cp").speed("1 2 -1 -2")',
                description: 'è² æ•¸=å€’æ’­ï¼Œ2=é›™å€é€Ÿï¼Œ0.5=åŠé€Ÿ',
                jsCode: 's("bd rim bd cp").speed("1 2 -1 -2")'
              },
              {
                title: 'ADSR åŒ…çµ¡',
                code: 'note("c3").s("sawtooth").adsr(".1:.1:.5:.2")',
                description: 'æ ¼å¼ï¼šèµ·éŸ³:è¡°æ¸›:å»¶éŸ³:é‡‹éŸ³',
                jsCode: 'note("c3 bb2 f3 eb3").s("sawtooth").adsr(".1:.1:.5:.2")'
              },
              {
                title: 'æ³¢å½¢èª¿åˆ¶ (Signals)',
                code: 's("hh*16").lpf(sine.range(500, 2000))',
                description: 'ç”¨ sine, saw, square, tri æ³¢å½¢èª¿åˆ¶åƒæ•¸',
                jsCode: 's("hh*16").lpf(sine.range(500, 2000))'
              }
            ],
            dubExampleDisplay: `stack(
  note("[~ [<[d3,a3,f4]!2 [d3,bb3,g4]!2> ~]]*2").sound("gm_electric_guitar_muted").delay(.5),
  sound("bd rim").bank("RolandTR707").delay(.5),
  n("<4 [3@3 4] [<2 0> ~@16] ~>").scale("D4:minor").sound("gm_accordion:2").room(2),
  n("[0 [~ 0] 4 [3 2] [0 ~] [0 ~] <0 2> ~]/2").scale("D2:minor").sound("sawtooth,triangle").lpf(800)
)`
          }
        },
        mounted() {
          // åˆå§‹åŒ– Strudel
          initStrudel();
          console.log('ğŸµ Strudel Vue æ•™å­¸ç¶²ç«™å·²å•Ÿå‹•ï¼');
        },
        methods: {
          async playExample(code) {
            this.loading = true;
            try {
              hush(); // å…ˆåœæ­¢ä¹‹å‰çš„éŸ³æ¨‚
              await new Promise(resolve => setTimeout(resolve, 100));
              evaluate(code);
              this.isPlaying = true;
            } catch (error) {
              alert('æ’­æ”¾éŒ¯èª¤ï¼š' + error.message);
            } finally {
              this.loading = false;
            }
          },
          
          async playCompleteExample() {
            this.loading = true;
            try {
              hush();
              await new Promise(resolve => setTimeout(resolve, 100));
              evaluate(`
                stack(
                  note("[~ [<[d3,a3,f4]!2 [d3,bb3,g4]!2> ~]]*2")
                    .sound("gm_electric_guitar_muted")
                    .delay(.5),
                  sound("bd rim")
                    .bank("RolandTR707")
                    .delay(.5),
                  n("<4 [3@3 4] [<2 0> ~@16] ~>")
                    .scale("D4:minor")
                    .sound("gm_accordion:2")
                    .room(2)
                    .gain(.4),
                  n("[0 [~ 0] 4 [3 2] [0 ~] [0 ~] <0 2> ~]/2")
                    .scale("D2:minor")
                    .sound("sawtooth,triangle")
                    .lpf(800)
                )
              `);
              this.isPlaying = true;
            } catch (error) {
              alert('æ’­æ”¾éŒ¯èª¤ï¼š' + error.message);
            } finally {
              this.loading = false;
            }
          },
          
          async playWaveModulation() {
            this.loading = true;
            try {
              hush();
              await new Promise(resolve => setTimeout(resolve, 100));
              evaluate('note("c2 c3 c2 c3").s("sawtooth").lpf(sine.range(100, 2000).slow(4))');
              this.isPlaying = true;
            } catch (error) {
              alert('æ’­æ”¾éŒ¯èª¤ï¼š' + error.message);
            } finally {
              this.loading = false;
            }
          },
          
          async playCustomCode() {
            this.loading = true;
            try {
              evaluate(this.customCode);
              this.isPlaying = true;
            } catch (error) {
              alert('ç¨‹å¼ç¢¼æœ‰éŒ¯èª¤ï¼š' + error.message);
            } finally {
              this.loading = false;
            }
          },
          
          async stopAll() {
            this.loading = true;
            try {
              hush();
              this.isPlaying = false;
            } catch (error) {
              alert('åœæ­¢éŒ¯èª¤ï¼š' + error.message);
            } finally {
              this.loading = false;
            }
          },
          
          clearEditor() {
            this.customCode = '';
          },
          
          loadDubExample() {
            this.customCode = `// å®Œæ•´ Dub éŸ³æ¨‚ç¯„ä¾‹ (ä¾†è‡ªå®˜æ–¹æ•™å­¸)
stack(
  // æ‚¶éŸ³é›»å‰ä»–é…å»¶é²
  note("[~ [<[d3,a3,f4]!2 [d3,bb3,g4]!2> ~]]*2")
    .sound("gm_electric_guitar_muted")
    .delay(.5),
  
  // ç¶“å…¸é¼“çµ„ç¯€å¥é…å»¶é²
  sound("bd rim")
    .bank("RolandTR707")
    .delay(.5),
  
  // æ‰‹é¢¨ç´ä¸»æ—‹å¾‹é…ç©ºé–“æ„Ÿ
  n("<4 [3@3 4] [<2 0> ~@16] ~>")
    .scale("D4:minor")
    .sound("gm_accordion:2")
    .room(2)
    .gain(.4),
  
  // é›™æ³¢å½¢è²æ–¯é…ä½é€šæ¿¾æ³¢
  n("[0 [~ 0] 4 [3 2] [0 ~] [0 ~] <0 2> ~]/2")
    .scale("D2:minor")
    .sound("sawtooth,triangle")
    .lpf(800)
)`;
          }
        }
      }).mount('#app');
    </script>
  </body>
</html> 