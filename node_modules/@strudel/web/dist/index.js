var strudel=function(a){"use strict";var Js=typeof document<"u"?document.currentScript:null;typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const re=BigInt(0),me=BigInt(1),Vi=BigInt(2),Us=BigInt(5),ht=BigInt(10),PA=2e3,J={s:me,n:re,d:me};function ln(e,t){try{e=BigInt(e)}catch{throw Bn()}return e*t}function Vt(e){return typeof e=="bigint"?e:Math.floor(e)}function Ge(e,t){if(t===re)throw Ys();const n=Object.create(Le.prototype);n.s=e<re?-me:me,e=e<re?-e:e;const i=$n(e,t);return n.n=e/i,n.d=t/i,n}function ai(e){const t={};let n=e,i=Vi,r=Us-me;for(;r<=n;){for(;n%i===re;)n/=i,t[i]=(t[i]||re)+me;r+=me+Vi*i++}return n!==e?n>1&&(t[n]=(t[n]||re)+me):t[e]=(t[e]||re)+me,t}const et=function(e,t){let n=re,i=me,r=me;if(e!=null)if(t!==void 0){if(typeof e=="bigint")n=e;else{if(isNaN(e))throw Bn();if(e%1!==0)throw z1();n=BigInt(e)}if(typeof t=="bigint")i=t;else{if(isNaN(t))throw Bn();if(t%1!==0)throw z1();i=BigInt(t)}r=n*i}else if(typeof e=="object"){if("d"in e&&"n"in e)n=BigInt(e.n),i=BigInt(e.d),"s"in e&&(n*=BigInt(e.s));else if(0 in e)n=BigInt(e[0]),1 in e&&(i=BigInt(e[1]));else if(typeof e=="bigint")n=e;else throw Bn();r=n*i}else if(typeof e=="number"){if(isNaN(e))throw Bn();if(e<0&&(r=-me,e=-e),e%1===0)n=BigInt(e);else if(e>0){let s=1,u=0,o=1,c=1,h=1,d=1e7;for(e>=1&&(s=10**Math.floor(1+Math.log10(e)),e/=s);o<=d&&h<=d;){let g=(u+c)/(o+h);if(e===g){o+h<=d?(n=u+c,i=o+h):h>o?(n=c,i=h):(n=u,i=o);break}else e>g?(u+=c,o+=h):(c+=u,h+=o),o>d?(n=c,i=h):(n=u,i=o)}n=BigInt(n)*BigInt(s),i=BigInt(i)}}else if(typeof e=="string"){let s=0,u=re,o=re,c=re,h=me,d=me,g=e.replace(/_/g,"").match(/\d+|./g);if(g===null)throw Bn();if(g[s]==="-"?(r=-me,s++):g[s]==="+"&&s++,g.length===s+1?o=ln(g[s++],r):g[s+1]==="."||g[s]==="."?(g[s]!=="."&&(u=ln(g[s++],r)),s++,(s+1===g.length||g[s+1]==="("&&g[s+3]===")"||g[s+1]==="'"&&g[s+3]==="'")&&(o=ln(g[s],r),h=ht**BigInt(g[s].length),s++),(g[s]==="("&&g[s+2]===")"||g[s]==="'"&&g[s+2]==="'")&&(c=ln(g[s+1],r),d=ht**BigInt(g[s+1].length)-me,s+=3)):g[s+1]==="/"||g[s+1]===":"?(o=ln(g[s],r),h=ln(g[s+2],me),s+=3):g[s+3]==="/"&&g[s+1]===" "&&(u=ln(g[s],r),o=ln(g[s+2],r),h=ln(g[s+4],me),s+=5),g.length<=s)i=h*d,r=n=c+i*u+d*o;else throw Bn()}else if(typeof e=="bigint")n=e,r=e,i=me;else throw Bn();if(i===re)throw Ys();J.s=r<re?-me:me,J.n=n<re?-n:n,J.d=i<re?-i:i};function DA(e,t,n){let i=me;for(;t>re;e=e*e%n,t>>=me)t&me&&(i=i*e%n);return i}function FA(e,t){for(;t%Vi===re;t/=Vi);for(;t%Us===re;t/=Us);if(t===me)return re;let n=ht%t,i=1;for(;n!==me;i++)if(n=n*ht%t,i>PA)return re;return BigInt(i)}function EA(e,t,n){let i=me,r=DA(ht,n,t);for(let s=0;s<300;s++){if(i===r)return BigInt(s);i=i*ht%t,r=r*ht%t}return 0}function $n(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Le(e,t){if(et(e,t),this instanceof Le)e=$n(J.d,J.n),this.s=J.s,this.n=J.n/e,this.d=J.d/e;else return Ge(J.s*J.n,J.d)}var Ys=function(){return new Error("Division by Zero")},Bn=function(){return new Error("Invalid argument")},z1=function(){return new Error("Parameters must be integer")};Le.prototype={s:me,n:re,d:me,abs:function(){return Ge(this.n,this.d)},neg:function(){return Ge(-this.s*this.n,this.d)},add:function(e,t){return et(e,t),Ge(this.s*this.n*J.d+J.s*this.d*J.n,this.d*J.d)},sub:function(e,t){return et(e,t),Ge(this.s*this.n*J.d-J.s*this.d*J.n,this.d*J.d)},mul:function(e,t){return et(e,t),Ge(this.s*J.s*this.n*J.n,this.d*J.d)},div:function(e,t){return et(e,t),Ge(this.s*J.s*this.n*J.d,this.d*J.n)},clone:function(){return Ge(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return Ge(this.s*this.n%this.d,me);if(et(e,t),re===J.n*this.d)throw Ys();return Ge(this.s*(J.d*this.n)%(J.n*this.d),J.d*this.d)},gcd:function(e,t){return et(e,t),Ge($n(J.n,this.n)*$n(J.d,this.d),J.d*this.d)},lcm:function(e,t){return et(e,t),J.n===re&&this.n===re?Ge(re,me):Ge(J.n*this.n,$n(J.n,this.n)*$n(J.d,this.d))},inverse:function(){return Ge(this.s*this.d,this.n)},pow:function(e,t){if(et(e,t),J.d===me)return J.s<re?Ge((this.s*this.d)**J.n,this.n**J.n):Ge((this.s*this.n)**J.n,this.d**J.n);if(this.s<re)return null;let n=ai(this.n),i=ai(this.d),r=me,s=me;for(let u in n)if(u!=="1"){if(u==="0"){r=re;break}if(n[u]*=J.n,n[u]%J.d===re)n[u]/=J.d;else return null;r*=BigInt(u)**n[u]}for(let u in i)if(u!=="1"){if(i[u]*=J.n,i[u]%J.d===re)i[u]/=J.d;else return null;s*=BigInt(u)**i[u]}return J.s<re?Ge(s,r):Ge(r,s)},log:function(e,t){if(et(e,t),this.s<=re||J.s<=re)return null;const n={},i=ai(J.n),r=ai(J.d),s=ai(this.n),u=ai(this.d);for(const h in r)i[h]=(i[h]||re)-r[h];for(const h in u)s[h]=(s[h]||re)-u[h];for(const h in i)h!=="1"&&(n[h]=!0);for(const h in s)h!=="1"&&(n[h]=!0);let o=null,c=null;for(const h in n){const d=i[h]||re,g=s[h]||re;if(d===re){if(g!==re)return null;continue}let m=g,M=d;const C=$n(m,M);if(m/=C,M/=C,o===null&&c===null)o=m,c=M;else if(m*c!==o*M)return null}return o!==null&&c!==null?Ge(o,c):null},equals:function(e,t){return et(e,t),this.s*this.n*J.d===J.s*J.n*this.d},lt:function(e,t){return et(e,t),this.s*this.n*J.d<J.s*J.n*this.d},lte:function(e,t){return et(e,t),this.s*this.n*J.d<=J.s*J.n*this.d},gt:function(e,t){return et(e,t),this.s*this.n*J.d>J.s*J.n*this.d},gte:function(e,t){return et(e,t),this.s*this.n*J.d>=J.s*J.n*this.d},compare:function(e,t){et(e,t);let n=this.s*this.n*J.d-J.s*J.n*this.d;return(re<n)-(n<re)},ceil:function(e){return e=ht**BigInt(e||0),Ge(Vt(this.s*e*this.n/this.d)+(e*this.n%this.d>re&&this.s>=re?me:re),e)},floor:function(e){return e=ht**BigInt(e||0),Ge(Vt(this.s*e*this.n/this.d)-(e*this.n%this.d>re&&this.s<re?me:re),e)},round:function(e){return e=ht**BigInt(e||0),Ge(Vt(this.s*e*this.n/this.d)+this.s*((this.s>=re?me:re)+Vi*(e*this.n%this.d)>this.d?me:re),e)},roundTo:function(e,t){et(e,t);const n=this.n*J.d,i=this.d*J.n,r=n%i;let s=Vt(n/i);return r+r>=i&&s++,Ge(this.s*s*J.n,J.d)},divisible:function(e,t){return et(e,t),!(!(J.n*this.d)||this.n*J.d%(J.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,n=this.d;e=e||15;let i=FA(t,n),r=EA(t,n,i),s=this.s<re?"-":"";if(s+=Vt(t/n),t%=n,t*=ht,t&&(s+="."),i){for(let u=r;u--;)s+=Vt(t/n),t%=n,t*=ht;s+="(";for(let u=i;u--;)s+=Vt(t/n),t%=n,t*=ht;s+=")"}else for(let u=e;t&&u--;)s+=Vt(t/n),t%=n,t*=ht;return s},toFraction:function(e){let t=this.n,n=this.d,i=this.s<re?"-":"";if(n===me)i+=t;else{let r=Vt(t/n);e&&r>re&&(i+=r,i+=" ",t%=n),i+=t,i+="/",i+=n}return i},toLatex:function(e){let t=this.n,n=this.d,i=this.s<re?"-":"";if(n===me)i+=t;else{let r=Vt(t/n);e&&r>re&&(i+=r,t%=n),i+="\\frac{",i+=t,i+="}{",i+=n,i+="}"}return i},toContinued:function(){let e=this.n,t=this.d,n=[];do{n.push(Vt(e/t));let i=e%t;e=t,t=i}while(e!==me);return n},simplify:function(e){const t=BigInt(1/(e||.001)|0),n=this.abs(),i=n.toContinued();for(let r=1;r<i.length;r++){let s=Ge(i[r-1],me);for(let o=r-2;o>=0;o--)s=s.inverse().add(i[o]);let u=s.sub(n);if(u.n*t<u.d)return s.mul(this.s)}return this}};const vr="strudel.log";let wA=1e3,O1,j1;function Ue(e,t,n={}){let i=performance.now();O1===e&&i-j1<wA||(O1=e,j1=i,console.log(`%c${e}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(vr,{detail:{message:e,type:t,data:n}})))}Ue.key=vr;const $1=e=>/^[a-gA-G][#bs]*[0-9]$/.test(e),_n=e=>/^[a-gA-G][#bsf]*[0-9]?$/.test(e),Qs=e=>{if(typeof e!="string")return[];const[t,n="",i]=e.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return t?[t,n,i?Number(i):void 0]:[]},SA={c:0,d:2,e:4,f:5,g:7,a:9,b:11},BA={"#":1,b:-1,s:1,f:-1},fn=(e,t=3)=>{const[n,i,r=t]=Qs(e);if(!n)throw new Error('not a note: "'+e+'"');const s=SA[n.toLowerCase()],u=i?.split("").reduce((o,c)=>o+BA[c],0)||0;return(Number(r)+1)*12+s+u},xn=e=>Math.pow(2,(e-69)/12)*440,Pr=e=>12*Math.log(e/440)/Math.LN2+69,q1=(e,t)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:i}=e;if(typeof n=="number")return Pr(n);if(typeof i=="string")return fn(i);if(typeof i=="number")return i;if(!t)throw new Error("valueToMidi: expected freq or note to be set");return t},K1=(e,t)=>(e-t)*1e3,eu=e=>xn(typeof e=="number"?e:fn(e)),_A=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],H1=e=>{const t=Math.floor(e/12)-1;return _A[e%12]+t},At=(e,t)=>(e%t+t)%t,tu=e=>e.reduce((t,n)=>t+n)/e.length;function nu(e,t=0){return isNaN(Number(e))?(Ue(`"${e}" is not a number, falling back to ${t}`,"warning"),t):e}const J1=(e,t)=>At(Math.round(nu(e??0,0)),t),U1=e=>{let{value:t,context:n}=e,i=t;if(typeof i=="object"&&!Array.isArray(i)&&(i=i.note||i.n||i.value,i===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(t)}`);if(typeof i=="number"&&n.type!=="frequency")i=xn(e.value);else if(typeof i=="number"&&n.type==="frequency")i=e.value;else if(typeof i!="string"||!_n(i))throw new Error("not a note: "+JSON.stringify(i));return i},iu=e=>{let{value:t,context:n}=e;if(typeof t=="object")return t.freq?t.freq:eu(t.note||t.n||t.value);if(typeof t=="number"&&n.type!=="frequency")t=xn(e.value);else if(typeof t=="string"&&_n(t))t=xn(fn(e.value));else if(typeof t!="number")throw new Error("not a note or frequency: "+t);return t},ru=(e,t)=>e.slice(t).concat(e.slice(0,t)),su=(...e)=>e.reduce((t,n)=>(...i)=>t(n(...i)),t=>t),Y1=(...e)=>su(...e.reverse()),qn=e=>e.filter(t=>t!=null),Ut=e=>[].concat(...e),Kn=e=>e,Q1=(e,t)=>e,Dr=(e,t)=>Array.from({length:t-e+1},(n,i)=>i+e);function ge(e,t,n=e.length){const i=function r(...s){if(s.length>=n)return e.apply(this,s);{const u=function(...o){return r.apply(this,s.concat(o))};return t&&t(u,s),u}};return t&&t(i,[]),i}function Fr(e){const t=Number(e);if(!isNaN(t))return t;if(_n(e))return fn(e);throw new Error(`cannot parse as numeral: "${e}"`)}function Er(e,t){return(...n)=>e(...n.map(t))}function dt(e){return Er(e,Fr)}function uu(e){const t=Number(e);if(!isNaN(t))return t;const n={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[e];if(typeof n<"u")return n;throw new Error(`cannot parse as fractional: "${e}"`)}const ed=e=>Er(e,uu),wr=function(e,t){return[t.slice(0,e),t.slice(e)]},Sr=(e,t,n)=>t.map((i,r)=>e(i,n[r])),au=function(e){const t=[];for(let n=0;n<e.length-1;++n)t.push([e[n],e[n+1]]);return t},Ti=(e,t,n)=>Math.min(Math.max(e,t),n),xA=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],kA=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],IA=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],NA=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],VA=["I","Ro","Ha","Ni","Ho","He","To"],TA=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],td=(e,t="letters")=>{const i=(t==="solfeggio"?xA:t==="indian"?kA:t==="german"?IA:t==="byzantine"?NA:t==="japanese"?VA:TA)[e%12],r=Math.floor(e/12)-1;return i+r};function nd(e){var t={};return e.filter(function(n){return t.hasOwn(n)?!1:t[n]=!0})}function id(e){return e.sort().filter(function(t,n,i){return!n||t!=i[n-1]})}function ou(e){return e.sort((t,n)=>t.compare(n)).filter(function(t,n,i){return!n||t.ne(i[n-1])})}function cu(e){const t=new TextEncoder().encode(e);return btoa(String.fromCharCode(...t))}function lu(e){const t=new Uint8Array(atob(e).split("").map(i=>i.charCodeAt(0)));return new TextDecoder().decode(t)}function rd(e){return encodeURIComponent(cu(e))}function sd(e){return lu(decodeURIComponent(e))}function fu(e,t){return Array.isArray(e)?e.map(t):Object.fromEntries(Object.entries(e).map(([n,i],r)=>[n,t(i,n,r)]))}function Br(e,t){return e/t}class hu{constructor({getTargetClockTime:t=LA,weight:n=16,offsetDelta:i=.005,checkAfterTime:r=2,resetAfterTime:s=8}){this.offsetTime,this.timeAtPrevOffsetSample,this.prevOffsetTimes=[],this.getTargetClockTime=t,this.weight=n,this.offsetDelta=i,this.checkAfterTime=r,this.resetAfterTime=s,this.reset=()=>{this.prevOffsetTimes=[],this.offsetTime=null,this.timeAtPrevOffsetSample=null}}calculateOffset(t){const n=this.getTargetClockTime(),i=n-this.timeAtPrevOffsetSample,r=n-t;if(i>this.resetAfterTime&&this.reset(),this.offsetTime==null&&(this.offsetTime=r),this.prevOffsetTimes.push(r),this.prevOffsetTimes.length>this.weight&&this.prevOffsetTimes.shift(),this.timeAtPrevOffsetSample==null||i>this.checkAfterTime){this.timeAtPrevOffsetSample=n;const s=tu(this.prevOffsetTimes);Math.abs(s-this.offsetTime)>this.offsetDelta&&(this.offsetTime=s)}return this.offsetTime}calculateTimestamp(t,n){return this.calculateOffset(t)+n}}function ud(){return performance.now()*.001}function LA(){return Date.now()*.001}const du=new Map([["control","Control"],["ctrl","Control"],["alt","Alt"],["shift","Shift"],["down","ArrowDown"],["up","ArrowUp"],["left","ArrowLeft"],["right","ArrowRight"]]);let Li;function mu(){if(Li==null){if(typeof window>"u")return;Li={},window.addEventListener("keydown",e=>{Li[e.key]=!0}),window.addEventListener("keyup",e=>{Li[e.key]=!1})}return{...Li}}Le.prototype.sam=function(){return this.floor()},Le.prototype.nextSam=function(){return this.sam().add(1)},Le.prototype.wholeCycle=function(){return new $e(this.sam(),this.nextSam())},Le.prototype.cyclePos=function(){return this.sub(this.sam())},Le.prototype.lt=function(e){return this.compare(e)<0},Le.prototype.gt=function(e){return this.compare(e)>0},Le.prototype.lte=function(e){return this.compare(e)<=0},Le.prototype.gte=function(e){return this.compare(e)>=0},Le.prototype.eq=function(e){return this.compare(e)==0},Le.prototype.ne=function(e){return this.compare(e)!=0},Le.prototype.max=function(e){return this.gt(e)?this:e},Le.prototype.maximum=function(...e){return e=e.map(t=>new Le(t)),e.reduce((t,n)=>n.max(t),this)},Le.prototype.min=function(e){return this.lt(e)?this:e},Le.prototype.mulmaybe=function(e){return e!==void 0?this.mul(e):void 0},Le.prototype.divmaybe=function(e){return e!==void 0?this.div(e):void 0},Le.prototype.addmaybe=function(e){return e!==void 0?this.add(e):void 0},Le.prototype.submaybe=function(e){return e!==void 0?this.sub(e):void 0},Le.prototype.show=function(){return this.s*this.n+"/"+this.d},Le.prototype.or=function(e){return this.eq(0)?e:this};const $=e=>Le(e),RA=(...e)=>{if(e=qn(e),e.length!==0)return e.reduce((t,n)=>t.gcd(n),$(1))},Tt=(...e)=>{if(e=qn(e),e.length===0)return;const t=e.pop();return e.reduce((n,i)=>n===void 0||i===void 0?void 0:n.lcm(i),t)};$._original=Le;class $e{constructor(t,n){this.begin=$(t),this.end=$(n)}get spanCycles(){const t=[];var n=this.begin;const i=this.end,r=i.sam();if(n.equals(i))return[new $e(n,i)];for(;i.gt(n);){if(n.sam().equals(r)){t.push(new $e(n,this.end));break}const s=n.nextSam();t.push(new $e(n,s)),n=s}return t}get duration(){return this.end.sub(this.begin)}cycleArc(){const t=this.begin.cyclePos(),n=t.add(this.duration);return new $e(t,n)}withTime(t){return new $e(t(this.begin),t(this.end))}withEnd(t){return new $e(this.begin,t(this.end))}withCycle(t){const n=this.begin.sam(),i=n.add(t(this.begin.sub(n))),r=n.add(t(this.end.sub(n)));return new $e(i,r)}intersection(t){const n=this.begin.max(t.begin),i=this.end.min(t.end);if(!n.gt(i)&&!(n.equals(i)&&(n.equals(this.end)&&this.begin.lt(this.end)||n.equals(t.end)&&t.begin.lt(t.end))))return new $e(n,i)}intersection_e(t){const n=this.intersection(t);if(n==null)throw"TimeSpans do not intersect";return n}midpoint(){return this.begin.add(this.duration.div($(2)))}equals(t){return this.begin.equals(t.begin)&&this.end.equals(t.end)}show(){return this.begin.show()+" → "+this.end.show()}}class ze{constructor(t,n,i,r={},s=!1){this.whole=t,this.part=n,this.value=i,this.context=r,this.stateful=s,s&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let t;return typeof this.value?.duration=="number"?t=$(this.value.duration):t=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?t.mul(this.value.clip):t}get endClipped(){return this.whole.begin.add(this.duration)}isActive(t){return this.whole.begin<=t&&this.endClipped>=t}isInPast(t){return t>this.endClipped}isInNearPast(t,n){return n-t<=this.endClipped}isInFuture(t){return t<this.whole.begin}isInNearFuture(t,n){return n<this.whole.begin&&n>this.whole.begin-t}isWithinTime(t,n){return this.whole.begin<=n&&this.endClipped>=t}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(t){const n=this.whole?t(this.whole):void 0;return new ze(n,t(this.part),this.value,this.context)}withValue(t){return new ze(this.whole,this.part,t(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(t){return this.context.tags?.includes(t)}resolveState(t){if(this.stateful&&this.hasOnset()){console.log("stateful");const n=this.value,[i,r]=n(t);return[i,new ze(this.whole,this.part,r,this.context,!1)]}return[t,this]}spanEquals(t){return this.whole==null&&t.whole==null||this.whole.equals(t.whole)}equals(t){return this.spanEquals(t)&&this.part.equals(t.part)&&this.value===t.value}show(t=!1){const n=typeof this.value=="object"?t?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var i="";if(this.whole==null)i="~"+this.part.show;else{var r=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(i=this.whole.begin.show()+" ⇜ "),r||(i+="("),i+=this.part.show(),r||(i+=")"),this.whole.end.equals(this.part.end)||(i+=" ⇝ "+this.whole.end.show())}return"[ "+i+" | "+n+" ]"}showWhole(t=!1){return`${this.whole==null?"~":this.whole.show()}: ${typeof this.value=="object"?t?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value}`}combineContext(t){const n=this;return{...n.context,...t.context,locations:(n.context.locations||[]).concat(t.context.locations||[])}}setContext(t){return new ze(this.whole,this.part,this.value,t)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}}class Hn{constructor(t,n={}){this.span=t,this.controls=n}setSpan(t){return new Hn(t,this.controls)}withSpan(t){return this.setSpan(t(this.span))}setControls(t){return new Hn(this.span,t)}}function GA(e,t,n){if(t?.value!==void 0&&Object.keys(t).length===1)return Ue("[warn]: Can't do arithmetic on control pattern."),e;const i=Object.keys(e).filter(r=>Object.keys(t).includes(r));return Object.assign({},e,t,Object.fromEntries(i.map(r=>[r,n(e[r],t[r])])))}ge((e,t)=>e*t),ge((e,t)=>t.map(e));function pu(e,t=60){let n=0,i=$(0),r=[""],s="";for(;r[0].length<t;){const u=e.queryArc(n,n+1),o=u.filter(d=>d.hasOnset()).map(d=>d.duration),c=RA(...o),h=c.inverse();r=r.map(d=>d+"|"),s+="|";for(let d=0;d<h;d++){const[g,m]=[i,i.add(c)],M=u.filter(P=>P.whole.begin.lte(g)&&P.whole.end.gte(m)),C=M.length-r.length;C>0&&(r=r.concat(Array(C).fill(s))),r=r.map((P,w)=>{const I=M[w];if(I){const X=I.whole.begin.eq(g)?""+I.value:"-";return P+X}return P+"."}),s+=".",i=i.add(c)}n++}return r.join(`
`)}let gu,Lt=!0;const ad=function(e){Lt=!!e},yu=e=>gu=e;let j=class rt{constructor(t,n=void 0){this.query=t,this._Pattern=!0,this._steps=n}get _steps(){return this.__steps}set _steps(t){this.__steps=t===void 0?void 0:$(t)}setSteps(t){return this._steps=t,this}withSteps(t){return Lt?new rt(this.query,this._steps===void 0?void 0:t(this._steps)):this}get hasSteps(){return this._steps!==void 0}withValue(t){const n=new rt(i=>this.query(i).map(r=>r.withValue(t)));return n._steps=this._steps,n}withState(t){return this.withHaps((n,i)=>(t(i),n))}fmap(t){return this.withValue(t)}appWhole(t,n){const i=this,r=function(s){const u=i.query(s),o=n.query(s),c=function(h,d){const g=h.part.intersection(d.part);if(g!=null)return new ze(t(h.whole,d.whole),g,h.value(d.value),d.combineContext(h))};return Ut(u.map(h=>qn(o.map(d=>c(h,d)))))};return new rt(r)}appBoth(t){const n=this,i=function(s,u){if(!(s==null||u==null))return s.intersection_e(u)},r=n.appWhole(i,t);return Lt&&(r._steps=Tt(t._steps,n._steps)),r}appLeft(t){const n=this,i=function(s){const u=[];for(const o of n.query(s)){const c=t.query(s.setSpan(o.wholeOrPart()));for(const h of c){const d=o.whole,g=o.part.intersection(h.part);if(g){const m=o.value(h.value),M=h.combineContext(o),C=new ze(d,g,m,M);u.push(C)}}}return u},r=new rt(i);return r._steps=this._steps,r}appRight(t){const n=this,i=function(s){const u=[];for(const o of t.query(s)){const c=n.query(s.setSpan(o.wholeOrPart()));for(const h of c){const d=o.whole,g=h.part.intersection(o.part);if(g){const m=h.value(o.value),M=o.combineContext(h),C=new ze(d,g,m,M);u.push(C)}}}return u},r=new rt(i);return r._steps=t._steps,r}bindWhole(t,n){const i=this,r=function(s){const u=function(c,h){return new ze(t(c.whole,h.whole),h.part,h.value,Object.assign({},c.context,h.context,{locations:(c.context.locations||[]).concat(h.context.locations||[])}))},o=function(c){return n(c.value).query(s.setSpan(c.part)).map(h=>u(c,h))};return Ut(i.query(s).map(c=>o(c)))};return new rt(r)}bind(t){const n=function(i,r){if(!(i==null||r==null))return i.intersection_e(r)};return this.bindWhole(n,t)}join(){return this.bind(Kn)}outerBind(t){return this.bindWhole(n=>n,t).setSteps(this._steps)}outerJoin(){return this.outerBind(Kn)}innerBind(t){return this.bindWhole((n,i)=>i,t)}innerJoin(){return this.innerBind(Kn)}resetJoin(t=!1){const n=this;return new rt(i=>n.discreteOnly().query(i).map(r=>r.value.late(t?r.whole.begin:r.whole.begin.cyclePos()).query(i).map(s=>new ze(s.whole?s.whole.intersection(r.whole):void 0,s.part.intersection(r.part),s.value).setContext(r.combineContext(s))).filter(s=>s.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const t=this;function n(i){const r=t.discreteOnly().query(i);function s(o){const h=o.value._focusSpan(o.wholeOrPart()).query(i.setSpan(o.part));function d(g,m){let M;if(m.whole&&g.whole&&(M=m.whole.intersection(g.whole),!M))return;const C=m.part.intersection(g.part);if(!C)return;const P=m.combineContext(g);return new ze(M,C,m.value,P)}return h.map(g=>d(o,g))}return Ut(r.map(s)).filter(o=>o)}return new rt(n)}squeezeBind(t){return this.fmap(t).squeezeJoin()}polyJoin=function(){const t=this;return t.fmap(n=>n.extend(t._steps.div(n._steps))).outerJoin()};polyBind(t){return this.fmap(t).polyJoin()}queryArc(t,n,i={}){try{return this.query(new Hn(new $e(t,n),i))}catch(r){return Ue(`[query]: ${r.message}`,"error"),[]}}splitQueries(){const t=this,n=i=>Ut(i.span.spanCycles.map(r=>t.query(i.setSpan(r))));return new rt(n)}withQuerySpan(t){return new rt(n=>this.query(n.withSpan(t)))}withQuerySpanMaybe(t){const n=this;return new rt(i=>{const r=i.withSpan(t);return r.span?n.query(r):[]})}withQueryTime(t){return new rt(n=>this.query(n.withSpan(i=>i.withTime(t))))}withHapSpan(t){return new rt(n=>this.query(n).map(i=>i.withSpan(t)))}withHapTime(t){return this.withHapSpan(n=>n.withTime(t))}withHaps(t){const n=new rt(i=>t(this.query(i),i));return n._steps=this._steps,n}withHap(t){return this.withHaps(n=>n.map(t))}setContext(t){return this.withHap(n=>n.setContext(t))}withContext(t){const n=this.withHap(i=>i.setContext(t(i.context)));return this.__pure!==void 0&&(n.__pure=this.__pure,n.__pure_loc=this.__pure_loc),n}stripContext(){return this.withHap(t=>t.setContext({}))}withLoc(t,n){const i={start:t,end:n},r=this.withContext(s=>{const u=(s.locations||[]).concat([i]);return{...s,locations:u}});return this.__pure&&(r.__pure=this.__pure,r.__pure_loc=i),r}filterHaps(t){return new rt(n=>this.query(n).filter(t))}filterValues(t){return new rt(n=>this.query(n).filter(i=>t(i.value))).setSteps(this._steps)}removeUndefineds(){return this.filterValues(t=>t!=null)}onsetsOnly(){return this.filterHaps(t=>t.hasOnset())}discreteOnly(){return this.filterHaps(t=>t.whole)}defragmentHaps(){return this.discreteOnly().withHaps(n=>{const i=[];for(var r=0;r<n.length;++r){for(var s=!0,u=n[r];s;){const h=JSON.stringify(n[r].value);for(var o=!1,c=r+1;c<n.length;c++){const d=n[c];if(u.whole.equals(d.whole)){if(u.part.begin.eq(d.part.end)){if(h===JSON.stringify(d.value)){u=new ze(u.whole,new $e(d.part.begin,u.part.end),u.value),n.splice(c,1),o=!0;break}}else if(d.part.begin.eq(u.part.end)&&h==JSON.stringify(d.value)){u=new ze(u.whole,new $e(u.part.begin,d.part.end),u.value),n.splice(c,1),o=!0;break}}}s=o}i.push(u)}return i})}firstCycle(t=!1){var n=this;return t||(n=n.stripContext()),n.query(new Hn(new $e($(0),$(1))))}get firstCycleValues(){return this.firstCycle().map(t=>t.value)}get showFirstCycle(){return this.firstCycle().map(t=>`${t.value}: ${t.whole.begin.toFraction()} - ${t.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(t=>t.sort((n,i)=>n.part.begin.sub(i.part.begin).or(n.part.end.sub(i.part.end)).or(n.whole.begin.sub(i.whole.begin).or(n.whole.end.sub(i.whole.end)))))}asNumber(){return this.fmap(Fr)}_opIn(t,n){return this.fmap(n).appLeft(K(t))}_opOut(t,n){return this.fmap(n).appRight(K(t))}_opMix(t,n){return this.fmap(n).appBoth(K(t))}_opSqueeze(t,n){const i=K(t);return this.fmap(r=>i.fmap(s=>n(r)(s))).squeezeJoin()}_opSqueezeOut(t,n){const i=this;return K(t).fmap(s=>i.fmap(u=>n(u)(s))).squeezeJoin()}_opReset(t,n){return K(t).fmap(r=>this.fmap(s=>n(s)(r))).resetJoin()}_opRestart(t,n){return K(t).fmap(r=>this.fmap(s=>n(s)(r))).restartJoin()}_opPoly(t,n){const i=K(t);return this.fmap(r=>i.fmap(s=>n(s)(r))).polyJoin()}layer(...t){return Ne(...t.map(n=>n(this)))}superimpose(...t){return this.stack(...t.map(n=>n(this)))}stack(...t){return Ne(this,...t)}sequence(...t){return Mt(this,...t)}seq(...t){return Mt(this,...t)}cat(...t){return Pu(this,...t)}fastcat(...t){return at(this,...t)}slowcat(...t){return hn(this,...t)}onTrigger(t,n=!0){return this.withHap(i=>i.setContext({...i.context,onTrigger:(...r)=>{i.context.onTrigger?.(...r),t(...r)},dominantTrigger:i.context.dominantTrigger||n}))}log(t=(i,r)=>`[hap] ${r.showWhole(!0)}`,n=(i,r)=>({hap:r})){return this.onTrigger((...i)=>{Ue(t(...i),void 0,n(...i))},!1)}logValues(t=Kn){return this.log((n,i)=>t(i.value))}drawLine(){return console.log(pu(this)),this}};function XA(e,t){let n=[];return t.forEach(i=>{const r=n.findIndex(([s])=>e(i,s));r===-1?n.push([i]):n[r].push(i)}),n}const ZA=(e,t)=>e.spanEquals(t);j.prototype.collect=function(){return this.withHaps(e=>XA(ZA,e).map(t=>new ze(t[0].whole,t[0].part,t,{})))},j.prototype.arpWith=function(e){return this.collect().fmap(t=>K(e(t))).innerJoin().withHap(t=>new ze(t.whole,t.part,t.value.value,t.combineContext(t.value)))},j.prototype.arp=function(e){return this.arpWith(t=>e.fmap(n=>t[n%t.length]))};function _r(e){return!Array.isArray(e)&&typeof e=="object"}function WA(e,t,n){return _r(e)||_r(t)?(_r(e)||(e={value:e}),_r(t)||(t={value:t}),GA(e,t,n)):n(e,t)}(function(){const e={set:[(n,i)=>i],keep:[n=>n],keepif:[(n,i)=>i?n:void 0],add:[dt((n,i)=>n+i)],sub:[dt((n,i)=>n-i)],mul:[dt((n,i)=>n*i)],div:[dt((n,i)=>n/i)],mod:[dt(At)],pow:[dt(Math.pow)],log2:[dt(Math.log2)],band:[dt((n,i)=>n&i)],bor:[dt((n,i)=>n|i)],bxor:[dt((n,i)=>n^i)],blshift:[dt((n,i)=>n<<i)],brshift:[dt((n,i)=>n>>i)],lt:[(n,i)=>n<i],gt:[(n,i)=>n>i],lte:[(n,i)=>n<=i],gte:[(n,i)=>n>=i],eq:[(n,i)=>n==i],eqt:[(n,i)=>n===i],ne:[(n,i)=>n!=i],net:[(n,i)=>n!==i],and:[(n,i)=>n&&i],or:[(n,i)=>n||i],func:[(n,i)=>i(n)]},t=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart","Poly"];for(const[n,[i,r]]of Object.entries(e)){j.prototype["_"+n]=function(s){return this.fmap(u=>i(u,s))},Object.defineProperty(j.prototype,n,{get:function(){const s=this,u=(...o)=>s[n].in(...o);for(const o of t)u[o.toLowerCase()]=function(...c){var h=s;c=Mt(c),r&&(h=r(h),c=r(c));var d;return n==="keepif"?(d=h["_op"+o](c,g=>m=>i(g,m)),d=d.removeUndefineds()):d=h["_op"+o](c,g=>m=>WA(g,m,i)),d};return u.squeezein=u.squeeze,u}});for(const s of t)j.prototype[s.toLowerCase()]=function(...u){return this.set[s.toLowerCase()](u)}}j.prototype.struct=function(...n){return this.keepif.out(...n)},j.prototype.structAll=function(...n){return this.keep.out(...n)},j.prototype.mask=function(...n){return this.keepif.in(...n)},j.prototype.maskAll=function(...n){return this.keep.in(...n)},j.prototype.reset=function(...n){return this.keepif.reset(...n)},j.prototype.resetAll=function(...n){return this.keep.reset(...n)},j.prototype.restart=function(...n){return this.keepif.restart(...n)},j.prototype.restartAll=function(...n){return this.keep.restart(...n)}})();const od=Ne,cd=Ne,ld=Gi,Jn=e=>new j(()=>[],e),xe=Jn(1),mt=Jn(0);function qe(e){function t(i){return i.span.spanCycles.map(r=>new ze($(r.begin).wholeCycle(),r,e))}const n=new j(t,1);return n.__pure=e,n}function xr(e){return e instanceof j||e?._Pattern}function K(e){return xr(e)?e:gu&&typeof e=="string"?gu(e):qe(e)}function bu(e){let t=qe([]);for(const n of e)t=t.bind(i=>n.fmap(r=>i.concat([r])));return t}function Ne(...e){e=e.map(i=>Array.isArray(i)?Mt(...i):K(i));const t=i=>Ut(e.map(r=>r.query(i))),n=new j(t);return Lt&&(n._steps=Tt(...e.map(i=>i._steps))),n}function Au(e,t){if(t=t.map(s=>Array.isArray(s)?Mt(...s):K(s)),t.length===0)return xe;if(t.length===1)return t[0];const[n,...i]=t.map(s=>s._steps),r=Lt?n.maximum(...i):void 0;return Ne(...e(r,t))}function Mu(...e){return Au((t,n)=>n.map(i=>i._steps.eq(t)?i:ot(i,Jn(t.sub(i._steps)))),e)}function Cu(...e){return Au((t,n)=>n.map(i=>i._steps.eq(t)?i:ot(Jn(t.sub(i._steps)),i)),e)}function vu(...e){return Au((t,n)=>n.map(i=>{if(i._steps.eq(t))return i;const r=Jn(t.sub(i._steps).div(2));return ot(r,i,r)}),e)}function fd(e,...t){const[n,...i]=t.map(u=>u._steps),r=n.maximum(...i),s={centre:vu,left:Mu,right:Cu,expand:Ne,repeat:(...u)=>Gi(...u).steps(r)};return e.inhabit(s).fmap(u=>u(...t)).innerJoin().setSteps(r)}function hn(...e){if(e=e.map(i=>Array.isArray(i)?at(...i):K(i)),e.length==1)return e[0];const t=function(i){const r=i.span,s=At(r.begin.sam(),e.length),u=e[s];if(!u)return[];const o=r.begin.floor().sub(r.begin.div(e.length).floor());return u.withHapTime(c=>c.add(o)).query(i.setSpan(r.withTime(c=>c.sub(o))))},n=Lt?Tt(...e.map(i=>i._steps)):void 0;return new j(t).splitQueries().setSteps(n)}function kr(...e){e=e.map(K);const t=function(n){const i=Math.floor(n.span.begin)%e.length;return e[i]?.query(n)||[]};return new j(t).splitQueries()}function Pu(...e){return hn(...e)}function hd(...e){const t=e.reduce((n,[i])=>n+i,0);return e=e.map(([n,i])=>[n,i.fast(n)]),ot(...e).slow(t)}function dd(...e){let t=$(0);for(let n of e)n.length==2&&n.unshift(t),t=n[1];return Ne(...e.map(([n,i,r])=>qe(K(r)).compress($(n).div(t),$(i).div(t)))).slow(t).innerJoin()}function at(...e){let t=hn(...e);return e.length>1&&(t=t._fast(e.length),t._steps=e.length),e.length==1&&e[0].__steps_source&&(e._steps=e[0]._steps),t}function Mt(...e){return at(...e)}function Du(...e){return at(...e)}function Fu(e){return Array.isArray(e)?e.length==0?[xe,0]:e.length==1?Fu(e[0]):[at(...e.map(t=>Fu(t)[0])),e.length]:[K(e),1]}const md=ge((e,t)=>K(t).mask(e)),pd=ge((e,t)=>K(t).struct(e)),gd=ge((e,t)=>K(t).superimpose(...e)),yd=ge((e,t)=>K(t).withValue(e)),bd=ge((e,t)=>K(t).bind(e)),Ad=ge((e,t)=>K(t).innerBind(e)),Md=ge((e,t)=>K(t).outerBind(e)),Cd=ge((e,t)=>K(t).squeezeBind(e)),vd=ge((e,t)=>K(t).stepBind(e)),Pd=ge((e,t)=>K(t).polyBind(e)),Dd=ge((e,t)=>K(t).set(e)),Fd=ge((e,t)=>K(t).keep(e)),Ed=ge((e,t)=>K(t).keepif(e)),wd=ge((e,t)=>K(t).add(e)),Sd=ge((e,t)=>K(t).sub(e)),Bd=ge((e,t)=>K(t).mul(e)),_d=ge((e,t)=>K(t).div(e)),xd=ge((e,t)=>K(t).mod(e)),kd=ge((e,t)=>K(t).pow(e)),Id=ge((e,t)=>K(t).band(e)),Nd=ge((e,t)=>K(t).bor(e)),Vd=ge((e,t)=>K(t).bxor(e)),Td=ge((e,t)=>K(t).blshift(e)),Ld=ge((e,t)=>K(t).brshift(e)),Rd=ge((e,t)=>K(t).lt(e)),Gd=ge((e,t)=>K(t).gt(e)),Xd=ge((e,t)=>K(t).lte(e)),Zd=ge((e,t)=>K(t).gte(e)),Wd=ge((e,t)=>K(t).eq(e)),zd=ge((e,t)=>K(t).eqt(e)),Od=ge((e,t)=>K(t).ne(e)),jd=ge((e,t)=>K(t).net(e)),$d=ge((e,t)=>K(t).and(e)),qd=ge((e,t)=>K(t).or(e)),Kd=ge((e,t)=>K(t).func(e));function L(e,t,n=!0,i=!1,r=s=>s.innerJoin()){if(Array.isArray(e)){const o={};for(const c of e)o[c]=L(c,t,n,i,r);return o}const s=t.length;var u;return n?u=function(...o){o=o.map(K);const c=o[o.length-1];let h;if(s===1)h=t(c);else{const d=o.slice(0,-1);if(d.every(g=>g.__pure!=null)){const g=d.map(M=>M.__pure),m=d.filter(M=>M.__pure_loc).map(M=>M.__pure_loc);h=t(...g,c),h=h.withContext(M=>{const C=(M.locations||[]).concat(m);return{...M,locations:C}})}else{const[g,...m]=d;let M=(...C)=>t(...C,c);M=ge(M,null,s-1),h=r(m.reduce((C,P)=>C.appLeft(P),g.fmap(M)))}}return i&&(h._steps=c._steps),h}:u=function(...o){o=o.map(K);const c=t(...o);return i&&(c._steps=o[o.length-1]._steps),c},j.prototype[e]=function(...o){if(s===2&&o.length!==1)o=[Mt(...o)];else if(s!==o.length+1)throw new Error(`.${e}() expects ${s-1} inputs but got ${o.length}.`);return o=o.map(K),u(...o,this)},s>1&&(j.prototype["_"+e]=function(...o){const c=t(...o,this);return i&&c.setSteps(this._steps),c}),ge(u,null,s)}function Ri(e,t,n=!0,i=!1,r=s=>s.stepJoin()){return L(e,t,n,i,r)}const Hd=L("round",function(e){return e.asNumber().fmap(t=>Math.round(t))}),Jd=L("floor",function(e){return e.asNumber().fmap(t=>Math.floor(t))}),Ud=L("ceil",function(e){return e.asNumber().fmap(t=>Math.ceil(t))}),Yd=L("toBipolar",function(e){return e.fmap(t=>t*2-1)}),Qd=L("fromBipolar",function(e){return e.fmap(t=>(t+1)/2)}),em=L("range",function(e,t,n){return n.mul(t-e).add(e)}),tm=L("rangex",function(e,t,n){return n._range(Math.log(e),Math.log(t)).fmap(Math.exp)}),nm=L("range2",function(e,t,n){return n.fromBipolar()._range(e,t)}),im=L("ratio",e=>e.fmap(t=>Array.isArray(t)?t.slice(1).reduce((n,i)=>n/i,t[0]):t)),rm=L("compress",function(e,t,n){return e=$(e),t=$(t),e.gt(t)||e.gt(1)||t.gt(1)||e.lt(0)||t.lt(0)?xe:n._fastGap($(1).div(t.sub(e)))._late(e)}),{compressSpan:sm,compressspan:um}=L(["compressSpan","compressspan"],function(e,t){return t._compress(e.begin,e.end)}),{fastGap:am,fastgap:om}=L(["fastGap","fastgap"],function(e,t){const n=function(r){const s=r.begin.sam(),u=r.begin.sub(s).mul(e).min(1),o=r.end.sub(s).mul(e).min(1);if(!(u>=1))return new $e(s.add(u),s.add(o))},i=function(r){const s=r.part.begin,u=r.part.end,o=s.sam(),c=s.sub(o).div(e).min(1),h=u.sub(o).div(e).min(1),d=new $e(o.add(c),o.add(h)),g=r.whole?new $e(d.begin.sub(s.sub(r.whole.begin).div(e)),d.end.add(r.whole.end.sub(u).div(e))):void 0;return new ze(g,d,r.value,r.context)};return t.withQuerySpanMaybe(n).withHap(i).splitQueries()}),cm=L("focus",function(e,t,n){return e=$(e),t=$(t),n._early(e.sam())._fast($(1).div(t.sub(e)))._late(e)}),{focusSpan:lm,focusspan:fm}=L(["focusSpan","focusspan"],function(e,t){return t._focus(e.begin,e.end)}),hm=L("ply",function(e,t){const n=t.fmap(i=>qe(i)._fast(e)).squeezeJoin();return Lt&&(n._steps=$(e).mulmaybe(t._steps)),n}),{fast:dm,density:aF}=L(["fast","density"],function(e,t){return e===0?xe:(e=$(e),t.withQueryTime(i=>i.mul(e)).withHapTime(i=>i.div(e)).setSteps(t._steps))},!0,!0),mm=L("hurry",function(e,t){return t._fast(e).mul(qe({speed:e}))}),{slow:pm,sparsity:gm}=L(["slow","sparsity"],function(e,t){return e===0?xe:t._fast($(1).div(e))}),ym=L("inside",function(e,t,n){return t(n._slow(e))._fast(e)}),bm=L("outside",function(e,t,n){return t(n._fast(e))._slow(e)}),Am=L("lastOf",function(e,t,n){const i=Array(e-1).fill(n);return i.push(t(n)),kr(...i)}),{firstOf:Mm,every:Cm}=L(["firstOf","every"],function(e,t,n){const i=Array(e-1).fill(n);return i.unshift(t(n)),kr(...i)}),vm=L("apply",function(e,t){return e(t)}),Pm=L("cpm",function(e,t){return t._fast(e/60/1)}),Dm=L("early",function(e,t){return e=$(e),t.withQueryTime(n=>n.add(e)).withHapTime(n=>n.sub(e))},!0,!0),Eu=L("late",function(e,t){return e=$(e),t._early($(0).sub(e))},!0,!0),Fm=L("zoom",function(e,t,n){if(t=$(t),e=$(e),e.gte(t))return mt;const i=t.sub(e),r=Lt?n._steps?.mulmaybe(i):void 0;return n.withQuerySpan(s=>s.withCycle(u=>u.mul(i).add(e))).withHapSpan(s=>s.withCycle(u=>u.sub(e).div(i))).splitQueries().setSteps(r)}),{zoomArc:Em,zoomarc:wm}=L(["zoomArc","zoomarc"],function(e,t){return t.zoom(e.begin,e.end)}),Sm=L("bite",(e,t,n)=>t.fmap(i=>r=>{const s=$(i).div(r).mod(1),u=s.add($(1).div(r));return n.zoom(s,u)}).appLeft(e).squeezeJoin(),!1),Bm=L("linger",function(e,t){return e==0?xe:e<0?t._zoom(e.add(1),1)._slow(e):t._zoom(0,e)._slow(e)},!0,!0),{segment:_m,seg:xm}=L(["segment","seg"],function(e,t){return t.struct(qe(!0)._fast(e)).setSteps(e)}),km=L("swingBy",(e,t,n)=>n.inside(t,Eu(Du(0,e/2)))),Im=L("swing",(e,t)=>t.swingBy(1/3,e)),{invert:Nm,inv:Vm}=L(["invert","inv"],function(e){return e.fmap(t=>!t)},!0,!0),Tm=L("when",function(e,t,n){return e?t(n):n}),Lm=L("off",function(e,t,n){return Ne(n,t(n.late(e)))}),Rm=L("brak",function(e){return e.when(hn(!1,!0),t=>at(t,xe)._late(.25))}),wu=L("rev",function(e){const t=function(n){const i=n.span,r=i.begin.sam(),s=i.begin.nextSam(),u=function(c){const h=c.withTime(g=>r.add(s.sub(g))),d=h.begin;return h.begin=h.end,h.end=d,h};return e.query(n.setSpan(u(i))).map(c=>c.withSpan(u))};return new j(t).splitQueries()},!1,!0),Gm=L("pressBy",function(e,t){return t.fmap(n=>qe(n).compress(e,1)).squeezeJoin()}),Xm=L("press",function(e){return e._pressBy(.5)});j.prototype.hush=function(){return xe};const Zm=L("palindrome",function(e){return e.lastOf(2,wu)},!0,!0),{juxBy:Wm,juxby:zm}=L(["juxBy","juxby"],function(e,t,n){e/=2;const i=function(u,o,c){return o in u?u[o]:c},r=n.withValue(u=>Object.assign({},u,{pan:i(u,"pan",.5)-e})),s=t(n.withValue(u=>Object.assign({},u,{pan:i(u,"pan",.5)+e})));return Ne(r,s).setSteps(Lt?Tt(r._steps,s._steps):void 0)}),Om=L("jux",function(e,t){return t._juxBy(1,e,t)}),{echoWith:jm,echowith:$m,stutWith:qm,stutwith:Km}=L(["echoWith","echowith","stutWith","stutwith"],function(e,t,n,i){return Ne(...Dr(0,e-1).map(r=>n(i.late($(t).mul(r)),r)))}),Hm=L("echo",function(e,t,n,i){return i._echoWith(e,t,(r,s)=>r.gain(Math.pow(n,s)))}),Jm=L("stut",function(e,t,n,i){return i._echoWith(e,n,(r,s)=>r.gain(Math.pow(t,s)))}),Su=function(e,t,n=!1){return e=$(e),hn(...Dr(0,e.sub(1)).map(i=>n?t.late($(i).div(e)):t.early($(i).div(e))))},Um=L("iter",function(e,t){return Su(e,t,!1)},!0,!0),{iterBack:Ym,iterback:Qm}=L(["iterBack","iterback"],function(e,t){return Su(e,t,!0)},!0,!0),{repeatCycles:ep}=L("repeatCycles",function(e,t){return new j(function(n){const i=n.span.begin.sam(),r=i.div(e).sam(),s=i.sub(r);return n=n.withSpan(u=>u.withTime(o=>o.sub(s))),t.query(n).map(u=>u.withSpan(o=>o.withTime(c=>c.add(s))))}).splitQueries()},!0,!0),Bu=function(e,t,n,i=!1,r=!1){const s=Array(e-1).fill(!1);s.unshift(!0);const u=Su(e,Mt(...s),!i);return r||(n=n.repeatCycles(e)),n.when(u,t)},{chunk:tp,slowchunk:np,slowChunk:ip}=L(["chunk","slowchunk","slowChunk"],function(e,t,n){return Bu(e,t,n,!1,!1)},!0,!0),{chunkBack:rp,chunkback:sp}=L(["chunkBack","chunkback"],function(e,t,n){return Bu(e,t,n,!0)},!0,!0),{fastchunk:up,fastChunk:ap}=L(["fastchunk","fastChunk"],function(e,t,n){return Bu(e,t,n,!1,!0)},!0,!0),op=L("bypass",function(e,t){return e=!!parseInt(e),e?xe:t},!0,!0),{ribbon:cp,rib:lp}=L(["ribbon","rib"],(e,t,n)=>n.early(e).restart(qe(1).slow(t))),fp=L("hsla",(e,t,n,i,r)=>r.color(`hsla(${e}turn,${t*100}%,${n*100}%,${i})`)),hp=L("hsl",(e,t,n,i)=>i.color(`hsl(${e}turn,${t*100}%,${n*100}%)`));j.prototype.tag=function(e){return this.withContext(t=>({...t,tags:(t.tags||[]).concat([e])}))};const dp=L("filter",(e,t)=>t.withHaps(n=>n.filter(e))),mp=L("filterWhen",(e,t)=>t.filter(n=>e(n.whole.begin))),pp=L("within",(e,t,n,i)=>Ne(n(i.filterWhen(r=>r.cyclePos()>=e&&r.cyclePos()<=t)),i.filterWhen(r=>r.cyclePos()<e||r.cyclePos()>t)));j.prototype.stepJoin=function(){const e=this,t=ot(...Ir(Nr(e.queryArc(0,1))))._steps,n=function(i){const s=e.early(i.span.begin.sam()).query(i.setSpan(new $e($(0),$(1))));return ot(...Ir(Nr(s))).query(i)};return new j(n,t)},j.prototype.stepBind=function(e){return this.fmap(e).stepJoin()};function Ir(e){const t=e.filter((s,u)=>u.hasSteps).reduce((s,u)=>s.add(u),$(0)),n=qn(e.map((s,u)=>u._steps)).reduce((s,u)=>s.add(u),$(0)),i=t.eq(0)?void 0:n.div(t);function r(s,u){return u._steps===void 0?[s.mulmaybe(i),u]:[u._steps,u]}return e.map(s=>r(...s))}function Nr(e){const t=Ut(e.map(r=>[r.part.begin,r.part.end])),n=ou([$(0),$(1),...t]);return au(n).map(r=>[r[1].sub(r[0]),Ne(..._u(new $e(...r),e).map(s=>s.value.withHap(u=>u.setContext(u.combineContext(s)))))])}function _u(e,t){return qn(t.map(n=>xu(e,n)))}function xu(e,t){const n=e.intersection(t.part);if(n!=null)return new ze(t.whole,n,t.value,t.context)}const ku=L("pace",function(e,t){return t._steps===void 0?t:t._steps.eq($(0))?mt:t._fast($(e).div(t._steps)).setSteps(e)});function Iu(e,...t){const n=t.map(r=>Fu(r));if(n.length==0)return xe;e==0&&(e=n[0][1]);const i=[];for(const r of n)r[1]!=0&&(e==r[1]?i.push(r[0]):i.push(r[0]._fast($(e).div($(r[1])))));return Ne(...i)}function Gi(...e){if(Array.isArray(e[0]))return Iu(0,...e);if(e=e.filter(i=>i.hasSteps),e.length==0)return xe;const t=Tt(...e.map(i=>i._steps));if(t.eq($(0)))return mt;const n=Ne(...e.map(i=>i.pace(t)));return n._steps=t,n}function ot(...e){if(e.length===0)return mt;const t=u=>Array.isArray(u)?u:[u._steps,u];if(e=e.map(t),e.find(u=>u[0]===void 0)){const u=e.map(c=>c[0]).filter(c=>c!==void 0);if(u.length===0)return at(...e.map(c=>c[1]));if(u.length===e.length)return mt;const o=u.reduce((c,h)=>c.add(h),$(0)).div(u.length);for(let c of e)c[0]===void 0&&(c[0]=o)}if(e.length==1)return K(e[0][1]).withSteps(o=>e[0][0]);const n=e.map(u=>u[0]).reduce((u,o)=>u.add(o),$(0));let i=$(0);const r=[];for(const[u,o]of e){if($(u).eq(0))continue;const c=i.add(u);r.push(K(o)._compress(i.div(n),c.div(n))),i=c}const s=Ne(...r);return s._steps=n,s}function Nu(...e){e=e.map(r=>Array.isArray(r)?r.map(K):[K(r)]);const t=Tt(...e.map(r=>$(r.length)));let n=[];for(let r=0;r<t;++r)n.push(...e.map(s=>s.length==0?xe:s[r%s.length]));n=n.filter(r=>r.hasSteps&&r._steps>0);const i=n.reduce((r,s)=>r.add(s._steps),$(0));return n=ot(...n),n._steps=i,n}const Vu=Ri("take",function(e,t){if(!t.hasSteps||t._steps.lte(0)||(e=$(e),e.eq(0)))return mt;const n=e<0;n&&(e=e.abs());const i=e.div(t._steps);return i.lte(0)?mt:i.gte(1)?t:n?t.zoom($(1).sub(i),1):t.zoom(0,i)}),Tu=Ri("drop",function(e,t){return t.hasSteps?(e=$(e),e.lt(0)?t.take(t._steps.add(e)):t.take($(0).sub(t._steps.sub(e)))):mt}),Lu=Ri("extend",function(e,t){return t.fast(e).expand(e)}),Ru=Ri("expand",function(e,t){return t.withSteps(n=>n.mul($(e)))}),Gu=Ri("contract",function(e,t){return t.withSteps(n=>n.div($(e)))});j.prototype.shrinklist=function(e){const t=this;if(!t.hasSteps)return[t];let[n,i]=Array.isArray(e)?e:[e,t._steps];if(n=$(n),i===0||n===0)return[t];const r=n>0,s=[];if(r){const u=$(1).div(t._steps).mul(n);for(let o=0;o<i;++o){const c=u.mul(o);if(c.gt(1))break;s.push([c,1])}}else{n=$(0).sub(n);const u=$(1).div(t._steps).mul(n);for(let o=0;o<i;++o){const c=$(1).sub(u.mul(o));if(c.lt(0))break;s.push([$(0),c])}}return s.map(u=>t.zoom(...u))};const Xu=(e,t)=>t.shrinklist(e),Zu=L("shrink",function(e,t){if(!t.hasSteps)return mt;const n=t.shrinklist(e),i=ot(...n);return i._steps=n.reduce((r,s)=>r.add(s._steps),$(0)),i},!0,!1,e=>e.stepJoin()),gp=L("grow",function(e,t){if(!t.hasSteps)return mt;const n=t.shrinklist($(0).sub(e));n.reverse();const i=ot(...n);return i._steps=n.reduce((r,s)=>r.add(s._steps),$(0)),i},!0,!1,e=>e.stepJoin()),Wu=function(e,...t){return e.tour(...t)};j.prototype.tour=function(...e){return ot(...[].concat(...e.map((t,n)=>[...e.slice(0,e.length-n),this,...e.slice(e.length-n)]),this,...e))};const zu=function(...e){e=e.filter(i=>i.hasSteps);const t=hn(...e.map(i=>i._slow(i._steps))),n=Tt(...e.map(i=>i._steps));return t._fast(n).setSteps(n)},yp=ot,Vr=ot,bp=ot,Ap=Nu,Mp=Gi;j.prototype.s_polymeter=j.prototype.polymeter;const Cp=Zu;j.prototype.s_taper=j.prototype.shrink;const vp=Xu;j.prototype.s_taperlist=j.prototype.shrinklist;const Pp=Vu;j.prototype.s_add=j.prototype.take;const Dp=Tu;j.prototype.s_sub=j.prototype.drop;const Fp=Ru;j.prototype.s_expand=j.prototype.expand;const Ep=Lu;j.prototype.s_extend=j.prototype.extend;const wp=Gu;j.prototype.s_contract=j.prototype.contract;const Sp=Wu;j.prototype.s_tour=j.prototype.tour;const Bp=zu;j.prototype.s_zip=j.prototype.zip;const _p=ku;j.prototype.steps=j.prototype.pace;const xp=L("chop",function(e,t){const i=Array.from({length:e},(u,o)=>o).map(u=>({begin:u/e,end:(u+1)/e})),r=function(u,o){if("begin"in u&&"end"in u&&u.begin!==void 0&&u.end!==void 0){const c=u.end-u.begin;o={begin:u.begin+o.begin*c,end:u.begin+o.end*c}}return Object.assign({},u,o)},s=function(u){return Mt(i.map(o=>r(u,o)))};return t.squeezeBind(s).setSteps(Lt?$(e).mulmaybe(t._steps):void 0)}),kp=L("striate",function(e,t){const i=Array.from({length:e},(s,u)=>u).map(s=>({begin:s/e,end:(s+1)/e})),r=hn(...i);return t.set(r)._fast(e).setSteps(Lt?$(e).mulmaybe(t._steps):void 0)}),Ip=function(e,t,n=.5){return t.speed(1/e*n).unit("c").slow(e)},Ou=L("slice",function(e,t,n){return e.innerBind(i=>t.outerBind(r=>n.outerBind(s=>{s=s instanceof Object?s:{s};const u=Array.isArray(i)?i[r]:r/i,o=Array.isArray(i)?i[r+1]:(r+1)/i;return qe({begin:u,end:o,_slices:i,...s})}))).setSteps(t._steps)},!1),Np=L("splice",function(e,t,n){const i=Ou(e,t,n);return new j(r=>{const s=r.controls._cps||1;return i.query(r).map(o=>o.withValue(c=>({speed:s/c._slices/o.whole.duration*(c.speed||1),unit:"c",...c})))}).setSteps(t._steps)},!1),{loopAt:Vp,loopat:Tp}=L(["loopAt","loopat"],function(e,t){const n=t._steps?t._steps.div(e):void 0;return new j(i=>Ip(e,t,i.controls._cps).query(i),n)}),Lp=L("fit",e=>e.withHaps((t,n)=>t.map(i=>i.withValue(r=>{const s=("end"in r?r.end:1)-("begin"in r?r.begin:0);return{...r,speed:(n.controls._cps||1)/i.whole.duration*s,unit:"c"}})))),{loopAtCps:Rp,loopatcps:Gp}=L(["loopAtCps","loopatcps"],function(e,t,n){return Ip(e,n,t)}),Xp=e=>qe(1).withValue(()=>K(e())).innerJoin();let Zp=e=>e<.5?1:1-(e-.5)/.5,ju=(e,t,n)=>{t=K(t),e=K(e),n=K(n);let i=t.fmap(s=>({gain:Zp(s)})),r=t.fmap(s=>({gain:Zp(1-s)}));return Ne(e.mul(i),n.mul(r))};j.prototype.xfade=function(e,t){return ju(this,e,t)};const zA=e=>(t,n,i)=>{t=$(t).mod(n),n=$(n);const r=t.div(n),s=t.add(1).div(n);return e(i.fmap(u=>qe(u)._compress(r,s)))},{beat:Wp}=L(["beat"],zA(e=>e.innerJoin()));function Xi(e){let t=Array.isArray(e);e=t?e:[e];const n=e[0],i=u=>{let o;if(typeof u=="object"&&u.value!==void 0&&(o={...u},u=u.value,delete o.value),t&&Array.isArray(u)){const c=o||{};return u.forEach((h,d)=>{d<e.length&&(c[e[d]]=h)}),c}else return o?(o[n]=u,o):{[n]:u}},r=(...u)=>Mt(...u).withValue(i),s=function(...u){return u.length?this.set(r(...u)):this.fmap(i)};return j.prototype[n]=s,r}const $u=new Map;function B(e,...t){const n=Array.isArray(e)?e[0]:e;let i={};return i[n]=Xi(e),t.forEach(r=>{i[r]=i[n],$u.set(r,n),j.prototype[r]=j.prototype[n]}),i}const{s:qu,sound:Ku}=B(["s","n","gain"],"sound"),{source:Hu,src:Ju}=B("source","src"),{n:Uu}=B("n"),{note:Yu}=B(["note","n"]),{accelerate:Qu}=B("accelerate"),{velocity:ea}=B("velocity"),{gain:ta}=B("gain"),{postgain:na}=B("postgain"),{amp:ia}=B("amp"),{attack:ra,att:sa}=B("attack","att"),{fmh:ua}=B(["fmh","fmi"],"fmh"),{fmi:aa,fm:oa}=B(["fmi","fmh"],"fm"),{fmenv:ca}=B("fmenv"),{fmattack:la}=B("fmattack"),{fmdecay:fa}=B("fmdecay"),{fmsustain:ha}=B("fmsustain"),{fmrelease:da}=B("fmrelease"),{fmvelocity:ma}=B("fmvelocity"),{bank:pa}=B("bank"),{analyze:ga}=B("analyze"),{fft:ya}=B("fft"),{decay:ba,dec:Aa}=B("decay","dec"),{sustain:Ma,sus:Ca}=B("sustain","sus"),{release:va,rel:Pa}=B("release","rel"),{hold:Da}=B("hold"),{bandf:Fa,bpf:Ea,bp:wa}=B(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:Sa,bpq:Ba}=B("bandq","bpq"),{begin:_a}=B("begin"),{end:xa}=B("end"),{loop:ka}=B("loop"),{loopBegin:Ia,loopb:Na}=B("loopBegin","loopb"),{loopEnd:Va,loope:Ta}=B("loopEnd","loope"),{crush:La}=B("crush"),{coarse:Ra}=B("coarse"),{drive:Ga}=B("drive"),{byteBeatExpression:Xa,bbexpr:Za}=B("byteBeatExpression","bbexpr"),{byteBeatStartTime:Wa,bbst:za}=B("byteBeatStartTime","bbst"),{channels:Oa,ch:ja}=B("channels","ch"),{pw:$a}=B(["pw","pwrate","pwsweep"]),{pwrate:qa}=B("pwrate"),{pwsweep:Ka}=B("pwsweep"),{phaserrate:Ha,ph:Ja,phaser:Ua}=B(["phaserrate","phaserdepth","phasercenter","phasersweep"],"ph","phaser"),{phasersweep:Ya,phs:Qa}=B("phasersweep","phs"),{phasercenter:eo,phc:to}=B("phasercenter","phc"),{phaserdepth:no,phd:io,phasdp:ro}=B("phaserdepth","phd","phasdp"),{channel:so}=B("channel"),{cut:uo}=B("cut"),{cutoff:ao,ctf:oo,lpf:co,lp:lo}=B(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:fo,lpe:ho}=B("lpenv","lpe"),{hpenv:mo,hpe:po}=B("hpenv","hpe"),{bpenv:go,bpe:yo}=B("bpenv","bpe"),{lpattack:bo,lpa:Ao}=B("lpattack","lpa"),{hpattack:Mo,hpa:Co}=B("hpattack","hpa"),{bpattack:vo,bpa:Po}=B("bpattack","bpa"),{lpdecay:Do,lpd:Fo}=B("lpdecay","lpd"),{hpdecay:Eo,hpd:wo}=B("hpdecay","hpd"),{bpdecay:So,bpd:Bo}=B("bpdecay","bpd"),{lpsustain:_o,lps:xo}=B("lpsustain","lps"),{hpsustain:ko,hps:Io}=B("hpsustain","hps"),{bpsustain:No,bps:Vo}=B("bpsustain","bps"),{lprelease:To,lpr:Lo}=B("lprelease","lpr"),{hprelease:Ro,hpr:Go}=B("hprelease","hpr"),{bprelease:Xo,bpr:Zo}=B("bprelease","bpr"),{ftype:Wo}=B("ftype"),{fanchor:zo}=B("fanchor"),{vib:Oo,vibrato:jo,v:$o}=B(["vib","vibmod"],"vibrato","v"),{noise:qo}=B("noise"),{vibmod:Ko,vmod:Ho}=B(["vibmod","vib"],"vmod"),{hcutoff:Jo,hpf:Uo,hp:Yo}=B(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:Qo,hpq:ec}=B("hresonance","hpq"),{resonance:tc,lpq:nc}=B("resonance","lpq"),{djf:ic}=B("djf"),{delay:rc}=B(["delay","delaytime","delayfeedback"]),{delayfeedback:sc,delayfb:uc,dfb:ac}=B("delayfeedback","delayfb","dfb"),{delaytime:oc,delayt:cc,dt:lc}=B("delaytime","delayt","dt"),{lock:fc}=B("lock"),{detune:hc,det:dc}=B("detune","det"),{unison:mc}=B("unison"),{spread:pc}=B("spread"),{dry:gc}=B("dry"),{fadeTime:yc,fadeOutTime:bc}=B("fadeTime","fadeOutTime"),{fadeInTime:Ac}=B("fadeInTime"),{freq:Mc}=B("freq"),{pattack:Cc,patt:vc}=B("pattack","patt"),{pdecay:Pc,pdec:Dc}=B("pdecay","pdec"),{psustain:Fc,psus:Ec}=B("psustain","psus"),{prelease:wc,prel:Sc}=B("prelease","prel"),{penv:Bc}=B("penv"),{pcurve:_c}=B("pcurve"),{panchor:xc}=B("panchor"),{gate:kc,gat:Ic}=B("gate","gat"),{leslie:Nc}=B("leslie"),{lrate:Vc}=B("lrate"),{lsize:Tc}=B("lsize"),{activeLabel:Lc}=B("activeLabel"),{label:Rc}=B(["label","activeLabel"]),{degree:Gc}=B("degree"),{mtranspose:Xc}=B("mtranspose"),{ctranspose:Zc}=B("ctranspose"),{harmonic:Wc}=B("harmonic"),{stepsPerOctave:zc}=B("stepsPerOctave"),{octaveR:Oc}=B("octaveR"),{nudge:jc}=B("nudge"),{octave:$c}=B("octave"),{orbit:qc}=B("orbit"),{overgain:Kc}=B("overgain"),{overshape:Hc}=B("overshape"),{pan:Jc}=B("pan"),{panspan:Uc}=B("panspan"),{pansplay:Yc}=B("pansplay"),{panwidth:Qc}=B("panwidth"),{panorient:el}=B("panorient"),{rate:tl}=B("rate"),{slide:nl}=B("slide"),{semitone:il}=B("semitone"),{voice:rl}=B("voice"),{chord:sl}=B("chord"),{dictionary:ul,dict:al}=B("dictionary","dict"),{anchor:ol}=B("anchor"),{offset:cl}=B("offset"),{octaves:ll}=B("octaves"),{mode:fl}=B(["mode","anchor"]),{room:hl}=B(["room","size"]),{roomlp:dl,rlp:ml}=B("roomlp","rlp"),{roomdim:pl,rdim:gl}=B("roomdim","rdim"),{roomfade:yl,rfade:bl}=B("roomfade","rfade"),{ir:Al,iresponse:Ml}=B(["ir","i"],"iresponse"),{roomsize:Cl,size:vl,sz:Pl,rsize:Dl}=B("roomsize","size","sz","rsize"),{shape:Fl}=B(["shape","shapevol"]),{distort:El,dist:wl}=B(["distort","distortvol"],"dist"),{compressor:Sl}=B(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:Bl}=B("compressorKnee"),{compressorRatio:_l}=B("compressorRatio"),{compressorAttack:xl}=B("compressorAttack"),{compressorRelease:kl}=B("compressorRelease"),{speed:Tr}=B("speed"),{stretch:Il}=B("stretch"),{unit:Nl}=B("unit"),{squiz:Vl}=B("squiz"),{vowel:Tl}=B("vowel"),{waveloss:Ll}=B("waveloss"),{density:OA}=B("density"),{expression:Rl}=B("expression"),{sustainpedal:Gl}=B("sustainpedal"),{tremolodepth:Xl,tremdp:Zl}=B("tremolodepth","tremdp"),{tremolorate:Wl,tremr:zl}=B("tremolorate","tremr"),{fshift:Ol}=B("fshift"),{fshiftnote:jl}=B("fshiftnote"),{fshiftphase:$l}=B("fshiftphase"),{triode:ql}=B("triode"),{krush:Kl}=B("krush"),{kcutoff:Hl}=B("kcutoff"),{octer:Jl}=B("octer"),{octersub:Ul}=B("octersub"),{octersubsub:Yl}=B("octersubsub"),{ring:Ql}=B("ring"),{ringf:e0}=B("ringf"),{ringdf:t0}=B("ringdf"),{freeze:n0}=B("freeze"),{xsdelay:i0}=B("xsdelay"),{tsdelay:r0}=B("tsdelay"),{real:s0}=B("real"),{imag:u0}=B("imag"),{enhance:a0}=B("enhance"),{partials:o0}=B("partials"),{comb:c0}=B("comb"),{smear:l0}=B("smear"),{scram:f0}=B("scram"),{binshift:h0}=B("binshift"),{hbrick:d0}=B("hbrick"),{lbrick:m0}=B("lbrick"),{frameRate:p0}=B("frameRate"),{frames:g0}=B("frames"),{hours:y0}=B("hours"),{minutes:b0}=B("minutes"),{seconds:A0}=B("seconds"),{songPtr:M0}=B("songPtr"),{uid:C0}=B("uid"),{val:v0}=B("val"),{cps:P0}=B("cps"),{clip:D0,legato:F0}=B("clip","legato"),{duration:E0,dur:w0}=B("duration","dur"),{zrand:S0}=B("zrand"),{curve:B0}=B("curve"),{deltaSlide:_0}=B("deltaSlide"),{pitchJump:x0}=B("pitchJump"),{pitchJumpTime:k0}=B("pitchJumpTime"),{lfo:I0,repeatTime:N0}=B("lfo","repeatTime"),{znoise:V0}=B("znoise"),{zmod:T0}=B("zmod"),{zcrush:L0}=B("zcrush"),{zdelay:R0}=B("zdelay"),{tremolo:G0}=B("tremolo"),{zzfx:X0}=B("zzfx"),{color:Z0,colour:W0}=B(["color","colour"]);let Lr=(...e)=>e.reduce((t,n)=>Object.assign(t,{[n]:Xi(n)}),{});const z0=L("adsr",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i,r,s]=e;return t.set({attack:n,decay:i,sustain:r,release:s})}),O0=L("ad",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=n]=e;return t.attack(n).decay(i)}),j0=L("ds",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=0]=e;return t.set({decay:n,sustain:i})}),$0=L("ar",(e,t)=>{e=Array.isArray(e)?e:[e];const[n,i=n]=e;return t.set({attack:n,release:i})}),{midichan:q0}=B("midichan"),{midimap:K0}=B("midimap"),{midiport:H0}=B("midiport"),{midicmd:J0}=B("midicmd"),U0=L("control",(e,t)=>{if(!Array.isArray(e))throw new Error("control expects an array of [ccn, ccv]");const[n,i]=e;return t.ccn(n).ccv(i)}),{ccn:Y0}=B("ccn"),{ccv:Q0}=B("ccv"),{ctlNum:ef}=B("ctlNum"),{nrpnn:tf}=B("nrpnn"),{nrpv:nf}=B("nrpv"),{progNum:rf}=B("progNum"),sf=L("sysex",(e,t)=>{if(!Array.isArray(e))throw new Error("sysex expects an array of [id, data]");const[n,i]=e;return t.sysexid(n).sysexdata(i)}),{sysexid:uf}=B("sysexid"),{sysexdata:af}=B("sysexdata"),{midibend:of}=B("midibend"),{miditouch:cf}=B("miditouch"),{polyTouch:lf}=B("polyTouch"),Rr=e=>$u.has(e)?$u.get(e):e,ff=L("as",(e,t)=>(e=Array.isArray(e)?e:[e],t.fmap(n=>(n=Array.isArray(n)?n:[n],n=Object.fromEntries(e.map((i,r)=>[Rr(i),n[r]])),n)))),hf=L("scrub",(e,t)=>e.outerBind(n=>{Array.isArray(n)||(n=[n]);const[i,r=1]=n;return t.begin(i).mul(Tr(r)).clip(1)}),!1),zp=Object.freeze(Object.defineProperty({__proto__:null,accelerate:Qu,activeLabel:Lc,ad:O0,adsr:z0,amp:ia,analyze:ga,anchor:ol,ar:$0,as:ff,att:sa,attack:ra,bandf:Fa,bandq:Sa,bank:pa,bbexpr:Za,bbst:za,begin:_a,binshift:h0,bp:wa,bpa:Po,bpattack:vo,bpd:Bo,bpdecay:So,bpe:yo,bpenv:go,bpf:Ea,bpq:Ba,bpr:Zo,bprelease:Xo,bps:Vo,bpsustain:No,byteBeatExpression:Xa,byteBeatStartTime:Wa,ccn:Y0,ccv:Q0,ch:ja,channel:so,channels:Oa,chord:sl,clip:D0,coarse:Ra,color:Z0,colour:W0,comb:c0,compressor:Sl,compressorAttack:xl,compressorKnee:Bl,compressorRatio:_l,compressorRelease:kl,control:U0,cps:P0,createParam:Xi,createParams:Lr,crush:La,ctf:oo,ctlNum:ef,ctranspose:Zc,curve:B0,cut:uo,cutoff:ao,dec:Aa,decay:ba,degree:Gc,delay:rc,delayfb:uc,delayfeedback:sc,delayt:cc,delaytime:oc,deltaSlide:_0,density:OA,det:dc,detune:hc,dfb:ac,dict:al,dictionary:ul,dist:wl,distort:El,djf:ic,drive:Ga,dry:gc,ds:j0,dt:lc,dur:w0,duration:E0,end:xa,enhance:a0,expression:Rl,fadeInTime:Ac,fadeOutTime:bc,fadeTime:yc,fanchor:zo,fft:ya,fm:oa,fmattack:la,fmdecay:fa,fmenv:ca,fmh:ua,fmi:aa,fmrelease:da,fmsustain:ha,fmvelocity:ma,frameRate:p0,frames:g0,freeze:n0,freq:Mc,fshift:Ol,fshiftnote:jl,fshiftphase:$l,ftype:Wo,gain:ta,gat:Ic,gate:kc,getControlName:Rr,harmonic:Wc,hbrick:d0,hcutoff:Jo,hold:Da,hours:y0,hp:Yo,hpa:Co,hpattack:Mo,hpd:wo,hpdecay:Eo,hpe:po,hpenv:mo,hpf:Uo,hpq:ec,hpr:Go,hprelease:Ro,hps:Io,hpsustain:ko,hresonance:Qo,imag:u0,ir:Al,iresponse:Ml,kcutoff:Hl,krush:Kl,label:Rc,lbrick:m0,legato:F0,leslie:Nc,lfo:I0,lock:fc,loop:ka,loopBegin:Ia,loopEnd:Va,loopb:Na,loope:Ta,lp:lo,lpa:Ao,lpattack:bo,lpd:Fo,lpdecay:Do,lpe:ho,lpenv:fo,lpf:co,lpq:nc,lpr:Lo,lprelease:To,lps:xo,lpsustain:_o,lrate:Vc,lsize:Tc,midibend:of,midichan:q0,midicmd:J0,midimap:K0,midiport:H0,miditouch:cf,minutes:b0,mode:fl,mtranspose:Xc,n:Uu,noise:qo,note:Yu,nrpnn:tf,nrpv:nf,nudge:jc,octave:$c,octaveR:Oc,octaves:ll,octer:Jl,octersub:Ul,octersubsub:Yl,offset:cl,orbit:qc,overgain:Kc,overshape:Hc,pan:Jc,panchor:xc,panorient:el,panspan:Uc,pansplay:Yc,panwidth:Qc,partials:o0,patt:vc,pattack:Cc,pcurve:_c,pdec:Dc,pdecay:Pc,penv:Bc,ph:Ja,phasdp:ro,phaser:Ua,phasercenter:eo,phaserdepth:no,phaserrate:Ha,phasersweep:Ya,phc:to,phd:io,phs:Qa,pitchJump:x0,pitchJumpTime:k0,polyTouch:lf,postgain:na,prel:Sc,prelease:wc,progNum:rf,psus:Ec,psustain:Fc,pw:$a,pwrate:qa,pwsweep:Ka,rate:tl,rdim:gl,real:s0,registerControl:B,rel:Pa,release:va,repeatTime:N0,resonance:tc,rfade:bl,ring:Ql,ringdf:t0,ringf:e0,rlp:ml,room:hl,roomdim:pl,roomfade:yl,roomlp:dl,roomsize:Cl,rsize:Dl,s:qu,scram:f0,scrub:hf,seconds:A0,semitone:il,shape:Fl,size:vl,slide:nl,smear:l0,songPtr:M0,sound:Ku,source:Hu,speed:Tr,spread:pc,squiz:Vl,src:Ju,stepsPerOctave:zc,stretch:Il,sus:Ca,sustain:Ma,sustainpedal:Gl,sysex:sf,sysexdata:af,sysexid:uf,sz:Pl,tremdp:Zl,tremolo:G0,tremolodepth:Xl,tremolorate:Wl,tremr:zl,triode:ql,tsdelay:r0,uid:C0,unison:mc,unit:Nl,v:$o,val:v0,velocity:ea,vib:Oo,vibmod:Ko,vibrato:jo,vmod:Ho,voice:rl,vowel:Tl,waveloss:Ll,xsdelay:i0,zcrush:L0,zdelay:R0,zmod:T0,znoise:V0,zrand:S0,zzfx:X0},Symbol.toStringTag,{value:"Module"})),jA=function(e,t){const[n,i]=e,[r,s]=t,[u,o]=wr(i,r);return[[i,n-i],[Sr((c,h)=>c.concat(h),u,s),o]]},$A=function(e,t){const[n,i]=e,[r,s]=t,[u,o]=wr(n,s);return[[n,i-n],[Sr((h,d)=>h.concat(d),r,u),o]]},Op=function(e,t){const[n,i]=e;return Math.min(n,i)<=1?[e,t]:Op(...n>i?jA(e,t):$A(e,t))},df=function(e,t){const n=e<0;e=Math.abs(e);const i=t-e,r=Array(e).fill([1]),s=Array(i).fill([0]),u=Op([e,i],[r,s]),o=Ut(u[1][0]).concat(Ut(u[1][1]));return n?o.map(c=>c===0?1:0):o},mf=function(e,t,n){const i=df(e,t);return n?ru(i,-n):i},jp=L("euclid",function(e,t,n){return n.struct(mf(e,t,0))}),{euclidrot:$p,euclidRot:qp}=L(["euclidrot","euclidRot"],function(e,t,n,i){return i.struct(mf(e,t,n))}),Kp=function(e,t,n,i){if(e<1)return xe;const s=mf(e,t,n).join("").split("1").slice(1).map(u=>[u.length+1,!0]);return i.struct(Vr(...s))},Hp=L(["euclidLegato"],function(e,t,n){return Kp(e,t,0,n)}),Jp=L(["euclidLegatoRot"],function(e,t,n,i){return Kp(e,t,n,i)});function pf(e,t,n=.05,i=.1,r=.1,s=globalThis.setInterval,u=globalThis.clearInterval,o=!0){let c=0,h=0,d=10**4,g=.01;const m=_=>n=_(n);r=r||i/2;const M=()=>{const _=e(),S=_+i+r;for(h===0&&(h=_+g);h<S;)h=o?Math.round(h*d)/d:h,t(h,n,c,_),h+=n,c++};let C;const P=()=>{w(),M(),C=s(M,i*1e3)},w=()=>{C!==void 0&&u(C),C=void 0};return{setDuration:m,start:P,stop:()=>{c=0,h=0,w()},pause:()=>w(),duration:n,interval:i,getPhase:()=>h,minLatency:g}}function Up(e){return new j(t=>[new ze(void 0,t.span,e)])}const Ct=e=>{const t=n=>[new ze(void 0,n.span,e(n.span.begin))];return new j(t)},oi=Ct(e=>e%1),Gr=oi.toBipolar(),Zi=Ct(e=>1-e%1),Xr=Zi.toBipolar(),Zr=Ct(e=>Math.sin(Math.PI*2*e)),gf=Zr.fromBipolar(),Yp=gf._early($(1).div(4)),Qp=Zr._early($(1).div(4)),yf=Ct(e=>Math.floor(e*2%2)),eg=yf.toBipolar(),tg=at(oi,Zi),ng=at(Gr,Xr),ig=at(Zi,oi),rg=at(Xr,Gr),bf=Ct(Kn);let Af=0,Mf=0;typeof window<"u"&&document.addEventListener("mousemove",e=>{Af=e.clientY/document.body.clientHeight,Mf=e.clientX/document.body.clientWidth});const sg=Ct(()=>Af),ug=Ct(()=>Af),ag=Ct(()=>Mf),og=Ct(()=>Mf),cg=e=>{const t=e<<13^e,n=t>>17^t;return n<<5^n},qA=e=>e-Math.trunc(e),lg=e=>cg(Math.trunc(qA(e/300)*536870912)),fg=e=>e%536870912/536870912,Cf=e=>Math.abs(fg(lg(e))),KA=(e,t)=>{const n=[];for(let i=0;i<t;++i)n.push(fg(e)),e=cg(e);return n},HA=(e,t)=>KA(lg(e),t),vf=e=>oi.range(0,e).round().segment(e),hg=e=>{const t=K(e).log2(0).floor().add(1);return Pf(e,t)},Pf=(e,t=16)=>{t=K(t);const n=vf(t).mul(-1).add(t.sub(1));return K(e).segment(t).brshift(n).band(qe(1))},Df=e=>Ct(t=>{const i=HA(t.floor().add(.5),e).map((s,u)=>[s,u]).sort((s,u)=>s[0]>u[0]-s[0]<u[0]).map(s=>s[1]),r=t.cyclePos().mul(e).floor()%e;return i[r]})._segment(e),dg=(e,t,n)=>{const i=[...Array(t).keys()].map(r=>n.zoom($(r).div(t),$(r+1).div(t)));return e.fmap(r=>i[r].repeatCycles(t)._fast(t)).innerJoin()},mg=L("shuffle",(e,t)=>dg(Df(e),e,t)),pg=L("scramble",(e,t)=>dg(zr(e)._segment(e),e,t)),ct=Ct(Cf),gg=ct.toBipolar(),Wr=e=>ct.fmap(t=>t<e),yg=e=>K(e).fmap(Wr).innerJoin(),bg=Wr(.5),zr=e=>ct.fmap(t=>Math.trunc(t*e)),Ag=e=>K(e).fmap(zr).innerJoin(),Or=(e,t)=>(t=t.map(K),t.length==0?xe:e.range(0,t.length).fmap(n=>{const i=Math.min(Math.max(Math.floor(n),0),t.length-1);return t[i]})),Wi=(e,t)=>Or(e,t).outerJoin(),jr=(e,t)=>Or(e,t).innerJoin(),Mg=(...e)=>Wi(ct,e);j.prototype.choose=function(...e){return Wi(this,e)},j.prototype.choose2=function(...e){return Wi(this.fromBipolar(),e)};const Ff=(...e)=>jr(ct.segment(1),e),Cg=Ff,vg=function(e,...t){const n=t.map(o=>K(o[0])),i=[];let r=qe(0);for(const o of t)r=r.add(o[1]),i.push(r);const s=bu(i),u=function(o){const c=r.mul(o);return s.fmap(h=>d=>n[h.findIndex(g=>g>d,h)]).appLeft(c)};return e.bind(u)},JA=(...e)=>vg(...e).outerJoin(),Pg=(...e)=>JA(ct,...e),Ef=(...e)=>vg(ct.segment(1),...e).innerJoin(),Dg=Ef,wf=e=>{const t=e.fmap(Math.floor),n=e.fmap(s=>Math.floor(s)+1),i=s=>6*s**5-15*s**4+10*s**3,r=s=>u=>o=>u+i(s)*(o-u);return e.sub(t).fmap(r).appBoth(t.fmap(Cf)).appBoth(n.fmap(Cf))},Fg=wf(bf.fmap(e=>Number(e))),Eg=L("degradeByWith",(e,t,n)=>n.fmap(i=>r=>i).appLeft(e.filterValues(i=>i>t)),!0,!0),wg=L("degradeBy",function(e,t){return t._degradeByWith(ct,e)},!0,!0),Sg=L("degrade",e=>e._degradeBy(.5),!0,!0),Bg=L("undegradeBy",function(e,t){return t._degradeByWith(ct.fmap(n=>1-n),e)},!0,!0),_g=L("undegrade",e=>e._undegradeBy(.5),!0,!0),xg=L("sometimesBy",function(e,t,n){return K(e).fmap(i=>Ne(n._degradeBy(i),t(n._undegradeBy(1-i)))).innerJoin()}),kg=L("sometimes",function(e,t){return t._sometimesBy(.5,e)}),Ig=L("someCyclesBy",function(e,t,n){return K(e).fmap(i=>Ne(n._degradeByWith(ct._segment(1),i),t(n._degradeByWith(ct.fmap(r=>1-r)._segment(1),1-i)))).innerJoin()}),Ng=L("someCycles",function(e,t){return t._someCyclesBy(.5,e)}),Vg=L("often",function(e,t){return t.sometimesBy(.75,e)}),Tg=L("rarely",function(e,t){return t.sometimesBy(.25,e)}),Lg=L("almostNever",function(e,t){return t.sometimesBy(.1,e)}),Rg=L("almostAlways",function(e,t){return t.sometimesBy(.9,e)}),Gg=L("never",function(e,t){return t}),Xg=L("always",function(e,t){return e(t)});function $r(e){Array.isArray(e)===!1&&(e=[e]);const t=mu();return e.every(n=>{const i=du.get(n)??n;return t[i]})}const Zg=L("whenKey",function(e,t,n){return n.when($r(e),t)}),Wg=L("keyDown",function(e){return e.fmap($r)}),Yt=function(e,t,n=!0){const i=Array.isArray(e),r=Object.keys(e).length;return e=fu(e,K),r===0?xe:t.fmap(s=>{let u=s;return i&&(u=n?Math.round(u)%r:Ti(Math.round(u),0,e.length-1)),e[u]})},Sf=function(e,t){return Array.isArray(t)&&([t,e]=[e,t]),UA(e,t)},UA=L("pick",function(e,t){return Yt(e,t,!1).innerJoin()}),Bf=L("pickmod",function(e,t){return Yt(e,t,!0).innerJoin()}),zg=L("pickF",function(e,t,n){return n.apply(Sf(e,t))}),Og=L("pickmodF",function(e,t,n){return n.apply(Bf(e,t))}),jg=L("pickOut",function(e,t){return Yt(e,t,!1).outerJoin()}),$g=L("pickmodOut",function(e,t){return Yt(e,t,!0).outerJoin()}),qg=L("pickRestart",function(e,t){return Yt(e,t,!1).restartJoin()}),Kg=L("pickmodRestart",function(e,t){return Yt(e,t,!0).restartJoin()}),Hg=L("pickReset",function(e,t){return Yt(e,t,!1).resetJoin()}),Jg=L("pickmodReset",function(e,t){return Yt(e,t,!0).resetJoin()}),{inhabit:Ug,pickSqueeze:Yg}=L(["inhabit","pickSqueeze"],function(e,t){return Yt(e,t,!1).squeezeJoin()}),{inhabitmod:Qg,pickmodSqueeze:ey}=L(["inhabitmod","pickmodSqueeze"],function(e,t){return Yt(e,t,!0).squeezeJoin()}),ty=(e,t)=>(t=t.map(K),t.length==0?xe:e.fmap(n=>{const i=At(Math.round(n),t.length);return t[i]}).squeezeJoin());let qr;try{qr=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let ny=qr?.getVoices();function YA(e,t,n){qr.cancel();const i=new SpeechSynthesisUtterance(e);i.lang=t,ny=qr.getVoices();const r=ny.filter(s=>s.lang.includes(t));typeof n=="number"?i.voice=r[n%r.length]:typeof n=="string"&&(i.voice=r.find(s=>s.name===s)),speechSynthesis.speak(i)}const iy=L("speak",function(e,t,n){return n.onTrigger((i,r)=>{YA(r.value,e,t)})}),zi=async(...e)=>{const t=await Promise.allSettled(e),n=t.filter(i=>i.status==="fulfilled").map(i=>i.value);return t.forEach((i,r)=>{i.status==="rejected"&&console.warn(`evalScope: module with index ${r} could not be loaded:`,i.reason)}),n.forEach(i=>{Object.entries(i).forEach(([r,s])=>{globalThis[r]=s})}),n};function QA(e,t={}){const{wrapExpression:n=!0,wrapAsync:i=!0}=t;n&&(e=`{${e}}`),i&&(e=`(async ()=>${e})()`);const r=`"use strict";return (${e})`;return Function(r)()}const ry=async(e,t,n)=>{let i={};if(t){const u=t(e,n);e=u.output,i=u}return{mode:"javascript",pattern:await QA(e,{wrapExpression:!!t}),meta:i}};class eM{constructor({onTrigger:t,onToggle:n,getTime:i}){this.started=!1,this.cps=.5,this.lastTick=0,this.getTime=i,this.time_at_last_tick_message=0,this.collator=new hu({getTargetClockTime:i}),this.onToggle=n,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker=new SharedWorker(new URL(""+new URL("assets/clockworker-ZDiUtESR.js",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,Js&&Js.tagName.toUpperCase()==="SCRIPT"&&Js.src||new URL("index.js",document.baseURI).href)),this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");const r=u=>{const{cps:o,begin:c,end:h,cycle:d,time:g}=u;this.cps=o,this.cycle=d;const m=this.collator.calculateOffset(g)+g;s(c,h,m),this.time_at_last_tick_message=m},s=(u,o,c)=>{if(this.started===!1)return;this.pattern.queryArc(u,o,{_cps:this.cps}).forEach(d=>{if(d.hasOnset()){const m=Br(d.whole.begin-this.cycle,this.cps)+c+this.latency,M=Br(d.duration,this.cps);t?.(d,0,M,this.cps,m)}})};this.channel.onmessage=u=>{if(!this.started)return;const{payload:o,type:c}=u.data;switch(c){case"tick":r(o)}}}sendMessage(t,n){this.worker.port.postMessage({type:t,payload:n,id:this.id})}now(){const t=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+t}setCps(t=1){this.sendMessage("cpschange",{cps:t})}setCycle(t){this.sendMessage("setcycle",{cycle:t})}setStarted(t){this.sendMessage("toggle",{started:t}),this.started=t,this.onToggle?.(t)}start(){Ue("[cyclist] start"),this.setStarted(!0)}stop(){Ue("[cyclist] stop"),this.collator.reset(),this.setStarted(!1)}setPattern(t,n=!1){this.pattern=t,n&&!this.started&&this.start()}log(t,n,i){const r=i.filter(s=>s.hasOnset());console.log(`${t.toFixed(4)} - ${n.toFixed(4)} ${Array(r.length).fill("I").join("")}`)}}class _f{constructor({interval:t,onTrigger:n,onToggle:i,onError:r,getTime:s,latency:u=.1,setInterval:o,clearInterval:c,beforeStart:h}){this.started=!1,this.beforeStart=h,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=s,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=i,this.latency=u,this.clock=pf(s,(d,g,m,M)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=d),this.num_ticks_since_cps_change++;const P=this.num_ticks_since_cps_change*g*this.cps;try{const w=this.lastEnd;this.lastBegin=w;const I=this.num_cycles_at_cps_change+P;if(this.lastEnd=I,this.lastTick=d,d<M){console.log("skip query: too late");return}this.pattern.queryArc(w,I,{_cps:this.cps}).forEach(X=>{if(X.hasOnset()){const _=(X.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+u,S=X.duration/this.cps,x=_-d;n?.(X,x,S,this.cps,_),X.value.cps!==void 0&&this.cps!=X.value.cps&&(this.cps=X.value.cps,this.num_ticks_since_cps_change=0)}})}catch(w){Ue(`[cyclist] error: ${w.message}`),r?.(w)}},t,.1,.1,o,c)}now(){if(!this.started)return 0;const t=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+t*this.cps}setStarted(t){this.started=t,this.onToggle?.(t)}async start(){if(await this.beforeStart?.(),this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");Ue("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){Ue("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){Ue("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}async setPattern(t,n=!1){this.pattern=t,n&&!this.started&&await this.start()}setCps(t=.5){this.cps!==t&&(this.cps=t,this.num_ticks_since_cps_change=0)}log(t,n,i){const r=i.filter(s=>s.hasOnset());console.log(`${t.toFixed(4)} - ${n.toFixed(4)} ${Array(r.length).fill("I").join("")}`)}}let xf;function Kr(){if(!xf)throw new Error("no time set! use setTime to define a time source");return xf()}function Oi(e){xf=e}function sy({defaultOutput:e,onEvalError:t,beforeEval:n,beforeStart:i,afterEval:r,getTime:s,transpiler:u,onToggle:o,editPattern:c,onUpdateState:h,sync:d=!1,setInterval:g,clearInterval:m,id:M}){const C={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},P={id:M},w=ce=>{Object.assign(C,ce),C.isDirty=C.code!==C.activeCode,C.error=C.evalError||C.schedulerError,h?.(C)},I={onTrigger:kf({defaultOutput:e,getTime:s}),getTime:s,onToggle:ce=>{w({started:ce}),o?.(ce)},setInterval:g,clearInterval:m,beforeStart:i},k=d&&typeof SharedWorker<"u"?new eM(I):new _f(I);let X={},_=0,S,x;const N=function(){return X={},_=0,S=void 0,x=void 0,xe},V=async(ce,ye=!0)=>(ce=c?.(ce)||ce,await k.setPattern(ce,ye),ce);Oi(()=>k.now());const H=()=>k.stop(),Z=()=>k.start(),ee=()=>k.pause(),O=()=>k.toggle(),z=ce=>k.setCps(ce),te=ce=>k.setCps(ce/60),Ae=function(ce){return S=ce,xe},pe=function(ce){return x=ce,xe},fe=()=>{j.prototype.p=function(ye){return typeof ye=="string"&&(ye.startsWith("_")||ye.endsWith("_"))?xe:(ye==="$"&&(ye=`$${_}`,_++),X[ye]=this,this)},j.prototype.q=function(ye){return xe};try{for(let ye=1;ye<10;++ye)Object.defineProperty(j.prototype,`d${ye}`,{get(){return this.p(ye)},configurable:!0}),Object.defineProperty(j.prototype,`p${ye}`,{get(){return this.p(ye)},configurable:!0}),j.prototype[`q${ye}`]=xe}catch(ye){console.warn("injectPatternMethods: error:",ye)}const ce=L("cpm",function(ye,q){return q._fast(ye/60/k.cps)});return zi({all:Ae,each:pe,hush:N,cpm:ce,setCps:z,setcps:z,setCpm:te,setcpm:te})};return{scheduler:k,evaluate:async(ce,ye=!0,q=!0)=>{if(!ce)throw new Error("no code to evaluate");try{w({code:ce,pending:!0}),await fe(),Oi(()=>k.now()),await n?.({code:ce}),q&&N();let{pattern:Ee,meta:ut}=await ry(ce,u,P);if(Object.keys(X).length){let He=Object.values(X);x&&(He=He.map(Me=>x(Me))),Ee=Ne(...He)}else x&&(Ee=x(Ee));if(S&&(Ee=S(Ee)),!xr(Ee)){const He=`got "${typeof evaluated}" instead of pattern`;throw new Error(He+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return Ue("[eval] code updated"),Ee=await V(Ee,ye),w({miniLocations:ut?.miniLocations||[],widgets:ut?.widgets||[],activeCode:ce,pattern:Ee,evalError:void 0,schedulerError:void 0,pending:!1}),r?.({code:ce,pattern:Ee,meta:ut}),Ee}catch(Ee){Ue(`[eval] error: ${Ee.message}`,"error"),console.error(Ee),w({evalError:Ee,pending:!1}),t?.(Ee)}},start:Z,stop:H,pause:ee,setCps:z,setPattern:V,setCode:ce=>w({code:ce}),toggle:O,state:C}}const kf=({getTime:e,defaultOutput:t})=>async(n,i,r,s,u)=>{try{(!n.context.onTrigger||!n.context.dominantTrigger)&&await t(n,i,r,s,u),n.context.onTrigger&&await n.context.onTrigger(e()+i,n,e(),s,u)}catch(o){Ue(`[cyclist] error: ${o.message}`,"error")}},uy=function(e,t={}){const n=document.getElementById("code"),i="background-image:url("+e+");background-size:contain;";n.style=i;const{className:r}=n,s=(c,h)=>{({style:()=>n.style=i+";"+h,className:()=>n.className=h+" "+r})[c]()},u=Object.entries(t).filter(([c,h])=>typeof h=="function");Object.entries(t).filter(([c,h])=>typeof h=="string").forEach(([c,h])=>s(c,h)),u.length},ay=()=>{const e=document.getElementById("code");e&&(e.style="")};Ue("🌀 @strudel/core loaded 🌀"),globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel/core".`),globalThis._strudelLoaded=!0;const oy=Object.freeze(Object.defineProperty({__proto__:null,ClockCollator:hu,Cyclist:_f,Fraction:$,Hap:ze,Pattern:j,State:Hn,TimeSpan:$e,__chooseWith:Or,_brandBy:Wr,_fitslice:_u,_irand:zr,_keyDown:$r,_match:xu,_mod:At,_polymeterListSteps:Iu,_retime:Ir,_slices:Nr,accelerate:Qu,activeLabel:Lc,ad:O0,add:wd,adsr:z0,almostAlways:Rg,almostNever:Lg,always:Xg,amp:ia,analyze:ga,anchor:ol,and:$d,apply:vm,ar:$0,arrange:hd,as:ff,att:sa,attack:ra,averageArray:tu,backgroundImage:uy,band:Id,bandf:Fa,bandq:Sa,bank:pa,base64ToUnicode:lu,bbexpr:Za,bbst:za,beat:Wp,begin:_a,binary:hg,binaryN:Pf,bind:bd,binshift:h0,bite:Sm,bjork:df,blshift:Td,bor:Nd,bp:wa,bpa:Po,bpattack:vo,bpd:Bo,bpdecay:So,bpe:yo,bpenv:go,bpf:Ea,bpq:Ba,bpr:Zo,bprelease:Xo,bps:Vo,bpsustain:No,brak:Rm,brand:bg,brandBy:yg,brshift:Ld,bxor:Vd,bypass:op,byteBeatExpression:Xa,byteBeatStartTime:Wa,calculateSteps:ad,cat:Pu,ccn:Y0,ccv:Q0,ceil:Ud,ch:ja,channel:so,channels:Oa,choose:Mg,chooseCycles:Ff,chooseInWith:jr,chooseWith:Wi,chop:xp,chord:sl,chunk:tp,chunkBack:rp,chunkback:sp,clamp:Ti,cleanupUi:ay,clip:D0,coarse:Ra,code2hash:rd,color:Z0,colour:W0,comb:c0,compose:Y1,compress:rm,compressSpan:sm,compressor:Sl,compressorAttack:xl,compressorKnee:Bl,compressorRatio:_l,compressorRelease:kl,compressspan:um,constant:Q1,contract:Gu,control:U0,controls:zp,cosine:Yp,cosine2:Qp,cpm:Pm,cps:P0,createClock:pf,createParam:Xi,createParams:Lr,crush:La,ctf:oo,ctlNum:ef,ctranspose:Zc,curry:ge,curve:B0,cut:uo,cutoff:ao,cycleToSeconds:Br,dec:Aa,decay:ba,degrade:Sg,degradeBy:wg,degradeByWith:Eg,degree:Gc,delay:rc,delayfb:uc,delayfeedback:sc,delayt:cc,delaytime:oc,deltaSlide:_0,det:dc,detune:hc,dfb:ac,dict:al,dictionary:ul,dist:wl,distort:El,div:_d,djf:ic,drawLine:pu,drive:Ga,drop:Tu,dry:gc,ds:j0,dt:lc,dur:w0,duration:E0,early:Dm,echo:Hm,echoWith:jm,echowith:$m,end:xa,enhance:a0,eq:Wd,eqt:zd,euclid:jp,euclidLegato:Hp,euclidLegatoRot:Jp,euclidRot:qp,euclidrot:$p,evalScope:zi,evaluate:ry,every:Cm,expand:Ru,expression:Rl,extend:Lu,fadeInTime:Ac,fadeOutTime:bc,fadeTime:yc,fanchor:zo,fast:dm,fastChunk:ap,fastGap:am,fastcat:at,fastchunk:up,fastgap:om,fft:ya,filter:dp,filterWhen:mp,firstOf:Mm,fit:Lp,flatten:Ut,floor:Jd,fm:oa,fmattack:la,fmdecay:fa,fmenv:ca,fmh:ua,fmi:aa,fmrelease:da,fmsustain:ha,fmvelocity:ma,focus:cm,focusSpan:lm,focusspan:fm,fractionalArgs:ed,frameRate:p0,frames:g0,freeze:n0,freq:Mc,freqToMidi:Pr,fromBipolar:Qd,fshift:Ol,fshiftnote:jl,fshiftphase:$l,ftype:Wo,func:Kd,gain:ta,gap:Jn,gat:Ic,gate:kc,getControlName:Rr,getCurrentKeyboardState:mu,getEventOffsetMs:K1,getFreq:eu,getFrequency:iu,getPerformanceTimeSeconds:ud,getPlayableNoteValue:U1,getSoundIndex:J1,getTime:Kr,getTrigger:kf,grow:gp,gt:Gd,gte:Zd,harmonic:Wc,hash2code:sd,hbrick:d0,hcutoff:Jo,hold:Da,hours:y0,hp:Yo,hpa:Co,hpattack:Mo,hpd:wo,hpdecay:Eo,hpe:po,hpenv:mo,hpf:Uo,hpq:ec,hpr:Go,hprelease:Ro,hps:Io,hpsustain:ko,hresonance:Qo,hsl:hp,hsla:fp,hurry:mm,id:Kn,imag:u0,inhabit:Ug,inhabitmod:Qg,innerBind:Ad,inside:ym,inv:Vm,invert:Nm,ir:Al,irand:Ag,iresponse:Ml,isNote:_n,isNoteWithOctave:$1,isPattern:xr,isaw:Zi,isaw2:Xr,iter:Um,iterBack:Ym,iterback:Qm,itri:ig,itri2:rg,jux:Om,juxBy:Wm,juxby:zm,kcutoff:Hl,keep:Fd,keepif:Ed,keyAlias:du,keyDown:Wg,krush:Kl,label:Rc,lastOf:Am,late:Eu,lbrick:m0,legato:F0,leslie:Nc,lfo:I0,linger:Bm,listRange:Dr,lock:fc,logKey:vr,logger:Ue,loop:ka,loopAt:Vp,loopAtCps:Rp,loopBegin:Ia,loopEnd:Va,loopat:Tp,loopatcps:Gp,loopb:Na,loope:Ta,lp:lo,lpa:Ao,lpattack:bo,lpd:Fo,lpdecay:Do,lpe:ho,lpenv:fo,lpf:co,lpq:nc,lpr:Lo,lprelease:To,lps:xo,lpsustain:_o,lrate:Vc,lsize:Tc,lt:Rd,lte:Xd,mapArgs:Er,mask:md,midi2note:H1,midiToFreq:xn,midibend:of,midichan:q0,midicmd:J0,midimap:K0,midiport:H0,miditouch:cf,minutes:b0,mod:xd,mode:fl,mouseX:og,mouseY:ug,mousex:ag,mousey:sg,mtranspose:Xc,mul:Bd,n:Uu,nanFallback:nu,ne:Od,net:jd,never:Gg,noise:qo,note:Yu,noteToMidi:fn,nothing:mt,nrpnn:tf,nrpv:nf,nudge:jc,numeralArgs:dt,objectMap:fu,octave:$c,octaveR:Oc,octaves:ll,octer:Jl,octersub:Ul,octersubsub:Yl,off:Lm,offset:cl,often:Vg,or:qd,orbit:qc,outerBind:Md,outside:bm,overgain:Kc,overshape:Hc,pace:ku,pairs:au,palindrome:Zm,pan:Jc,panchor:xc,panorient:el,panspan:Uc,pansplay:Yc,panwidth:Qc,parseFractional:uu,parseNumeral:Fr,partials:o0,patt:vc,pattack:Cc,pcurve:_c,pdec:Dc,pdecay:Pc,penv:Bc,perlin:Fg,perlinWith:wf,ph:Ja,phasdp:ro,phaser:Ua,phasercenter:eo,phaserdepth:no,phaserrate:Ha,phasersweep:Ya,phc:to,phd:io,phs:Qa,pick:Sf,pickF:zg,pickOut:jg,pickReset:Hg,pickRestart:qg,pickSqueeze:Yg,pickmod:Bf,pickmodF:Og,pickmodOut:$g,pickmodReset:Jg,pickmodRestart:Kg,pickmodSqueeze:ey,pipe:su,pitchJump:x0,pitchJumpTime:k0,ply:hm,pm:ld,polyBind:Pd,polyTouch:lf,polymeter:Gi,polyrhythm:od,postgain:na,pow:kd,pr:cd,prel:Sc,prelease:wc,press:Xm,pressBy:Gm,progNum:rf,psus:Ec,psustain:Fc,pure:qe,pw:$a,pwrate:qa,pwsweep:Ka,rand:ct,rand2:gg,randcat:Cg,randrun:Df,range:em,range2:nm,rangex:tm,rarely:Tg,rate:tl,ratio:im,rdim:gl,real:s0,ref:Xp,register:L,registerControl:B,reify:K,rel:Pa,release:va,removeUndefineds:qn,repeatCycles:ep,repeatTime:N0,repl:sy,resonance:tc,rev:wu,rfade:bl,rib:lp,ribbon:cp,ring:Ql,ringdf:t0,ringf:e0,rlp:ml,room:hl,roomdim:pl,roomfade:yl,roomlp:dl,roomsize:Cl,rotate:ru,round:Hd,rsize:Dl,run:vf,s:qu,s_add:Pp,s_alt:Ap,s_cat:bp,s_contract:wp,s_expand:Fp,s_extend:Ep,s_polymeter:Mp,s_sub:Dp,s_taper:Cp,s_taperlist:vp,s_tour:Sp,s_zip:Bp,saw:oi,saw2:Gr,scram:f0,scramble:pg,scrub:hf,seconds:A0,seg:xm,segment:_m,semitone:il,seq:Du,seqPLoop:dd,sequence:Mt,sequenceP:bu,set:Dd,setStringParser:yu,setTime:Oi,shape:Fl,shrink:Zu,shrinklist:Xu,shuffle:mg,signal:Ct,silence:xe,sine:gf,sine2:Zr,size:vl,slice:Ou,slide:nl,slow:pm,slowChunk:ip,slowcat:hn,slowcatPrime:kr,slowchunk:np,smear:l0,sol2note:td,someCycles:Ng,someCyclesBy:Ig,sometimes:kg,sometimesBy:xg,songPtr:M0,sound:Ku,source:Hu,sparsity:gm,speak:iy,speed:Tr,splice:Np,splitAt:wr,spread:pc,square:yf,square2:eg,squeeze:ty,squeezeBind:Cd,squiz:Vl,src:Ju,stack:Ne,stackBy:fd,stackCentre:vu,stackLeft:Mu,stackRight:Cu,steady:Up,stepBind:vd,stepalt:Nu,stepcat:ot,steps:_p,stepsPerOctave:zc,stretch:Il,striate:kp,struct:pd,stut:Jm,stutWith:qm,stutwith:Km,sub:Sd,superimpose:gd,sus:Ca,sustain:Ma,sustainpedal:Gl,swing:Im,swingBy:km,sysex:sf,sysexdata:af,sysexid:uf,sz:Pl,take:Vu,time:bf,timeCat:Vr,timecat:yp,toBipolar:Yd,tokenizeNote:Qs,tour:Wu,tremdp:Zl,tremolo:G0,tremolodepth:Xl,tremolorate:Wl,tremr:zl,tri:tg,tri2:ng,triode:ql,tsdelay:r0,uid:C0,undegrade:_g,undegradeBy:Bg,unicodeToBase64:cu,uniq:nd,uniqsort:id,uniqsortr:ou,unison:mc,unit:Nl,v:$o,val:v0,valueToMidi:q1,velocity:ea,vib:Oo,vibmod:Ko,vibrato:jo,vmod:Ho,voice:rl,vowel:Tl,waveloss:Ll,wchoose:Pg,wchooseCycles:Ef,when:Tm,whenKey:Zg,withValue:yd,within:pp,wrandcat:Dg,xfade:ju,xsdelay:i0,zcrush:L0,zdelay:R0,zip:zu,zipWith:Sr,zmod:T0,znoise:V0,zoom:Fm,zoomArc:Em,zoomarc:wm,zrand:S0,zzfx:X0},Symbol.toStringTag,{value:"Module"}));if(typeof DelayNode<"u"){class e extends DelayNode{constructor(n,i,r,s){super(n),i=Math.abs(i),this.delayTime.value=r;const u=n.createGain();u.gain.value=Math.min(Math.abs(s),.995),this.feedback=u.gain;const o=n.createGain();return o.gain.value=i,this.delayGain=o,this.connect(u),this.connect(o),u.connect(this),this.connect=c=>o.connect(c),this}start(n){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,n+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(t,n,i){return new e(this,t,n,i)}}var If={};If.generateReverb=function(e,t){for(var n=e.audioContext||new AudioContext,i=n.sampleRate,r=e.numChannels||2,s=e.decayTime*1.5,u=Math.round(e.decayTime*i),o=Math.round(s*i),c=Math.round((e.fadeInTime||0)*i),h=Math.pow(1/1e3,1/u),d=n.createBuffer(r,o,i),g=0;g<r;g++){for(var m=d.getChannelData(g),M=0;M<o;M++)m[M]=iM()*Math.pow(h,M);for(var M=0;M<c;M++)m[M]*=M/c}tM(d,e.lpFreqStart||0,e.lpFreqEnd||0,e.decayTime,t)},If.generateGraph=function(e,t,n,i,r){var s=document.createElement("canvas");s.width=t,s.height=n;var u=s.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,s.width,s.height),u.fillStyle="#fff";for(var o=t/e.length,c=n/(r-i),h=0;h<e.length;h++)u.fillRect(h*o,n-(e[h]-i)*c,1,1);return s};var tM=function(e,t,n,i,r){if(t==0){r(e);return}var s=nM(e),u=new OfflineAudioContext(e.numberOfChannels,s[0].length,e.sampleRate),o=u.createBufferSource();o.buffer=e;var c=u.createBiquadFilter();t=Math.min(t,e.sampleRate/2),n=Math.min(n,e.sampleRate/2),c.type="lowpass",c.Q.value=1e-4,c.frequency.setValueAtTime(t,0),c.frequency.linearRampToValueAtTime(n,i),o.connect(c),c.connect(u.destination),o.start(),u.oncomplete=function(h){r(h.renderedBuffer)},u.startRendering(),window.filterNode=c},nM=function(e){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);return t},iM=function(){return Math.random()*2-1};typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(e,t){const n=t.sampleRate*e,i=this.createBuffer(t.numberOfChannels,t.length,t.sampleRate);for(let r=0;r<t.numberOfChannels;r++){let s=t.getChannelData(r),u=i.getChannelData(r);for(let o=0;o<n;o++)u[o]=s[o]||0}return i},AudioContext.prototype.createReverb=function(e,t,n,i,r){const s=this.createConvolver();return s.generate=(u=2,o=.1,c=15e3,h=1e3,d)=>{s.duration=u,s.fade=o,s.lp=c,s.dim=h,s.ir=d,d?s.buffer=this.adjustLength(u,d):If.generateReverb({audioContext:this,numChannels:2,decayTime:u,fadeInTime:o,lpFreqStart:c,lpFreqEnd:h},g=>{s.buffer=g})},s.generate(e,t,n,i,r),s});var cy={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get æ(){return this.ae},get ø(){return this.oe},get ɑ(){return this.aa},get å(){return this.aa},get ö(){return this.oe},get ü(){return this.ue},get ı(){return this.y}};if(typeof GainNode<"u"){class e extends GainNode{constructor(n,i){if(super(n),!cy[i])throw new Error("vowel: unknown vowel "+i);const{gains:r,qs:s,freqs:u}=cy[i],o=n.createGain();for(let c=0;c<5;c++){const h=n.createGain();h.gain.value=r[c];const d=n.createBiquadFilter();d.type="bandpass",d.Q.value=s[c],d.frequency.value=u[c],this.connect(d),d.connect(h),h.connect(o)}return o.gain.value=8,this.connect=c=>o.connect(c),this}}AudioContext.prototype.createVowelFilter=function(t){return new e(this,t)}}let ly=e=>console.log(e);const Dt=(...e)=>ly(...e),Nf=e=>{ly=e},rM=e=>{if(typeof e!="string")return[];const[t,n="",i]=e.match(/^([a-gA-G])([#bsf]*)([0-9]*)$/)?.slice(1)||[];return t?[t,n,i?Number(i):void 0]:[]},sM={c:0,d:2,e:4,f:5,g:7,a:9,b:11},uM={"#":1,b:-1,s:1,f:-1},Hr=(e,t=3)=>{const[n,i,r=t]=rM(e);if(!n)throw new Error('not a note: "'+e+'"');const s=sM[n.toLowerCase()],u=i?.split("").reduce((o,c)=>o+uM[c],0)||0;return(Number(r)+1)*12+s+u},fy=e=>Math.pow(2,(e-69)/12)*440,ji=(e,t,n)=>Math.min(Math.max(e,t),n),aM=e=>12*Math.log(e/440)/Math.LN2+69,oM=(e,t)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:n,note:i}=e;return typeof n=="number"?aM(n):typeof i=="string"?Hr(i):typeof i=="number"?i:t};function dn(e,t=0,n){return isNaN(Number(e))?(!n&&Dt(`"${e}" is not a number, falling back to ${t}`,"warning"),t):e}const hy=(e,t)=>(e%t+t)%t,dy=(e,t)=>hy(Math.round(dn(e,0)),t),cM="data:text/javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NsYXNzIHZ0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLm5iSW5wdXRzPXQubnVtYmVyT2ZJbnB1dHMsdGhpcy5uYk91dHB1dHM9dC5udW1iZXJPZk91dHB1dHMsdGhpcy5ibG9ja1NpemU9dC5wcm9jZXNzb3JPcHRpb25zLmJsb2NrU2l6ZSx0aGlzLmhvcFNpemU9MTI4LHRoaXMubmJPdmVybGFwcz10aGlzLmJsb2NrU2l6ZS90aGlzLmhvcFNpemUsdGhpcy5pbnB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpLHRoaXMuaW5wdXRCdWZmZXJzSGVhZD1uZXcgQXJyYXkodGhpcy5uYklucHV0cyksdGhpcy5pbnB1dEJ1ZmZlcnNUb1NlbmQ9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpO2ZvcihsZXQgZT0wO2U8dGhpcy5uYklucHV0cztlKyspdGhpcy5hbGxvY2F0ZUlucHV0Q2hhbm5lbHMoZSwxKTt0aGlzLm91dHB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJPdXRwdXRzKSx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlPW5ldyBBcnJheSh0aGlzLm5iT3V0cHV0cyk7Zm9yKGxldCBlPTA7ZTx0aGlzLm5iT3V0cHV0cztlKyspdGhpcy5hbGxvY2F0ZU91dHB1dENoYW5uZWxzKGUsMSl9cmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKXtmb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKXtsZXQgcj10W3NdLmxlbmd0aDtyIT10aGlzLmlucHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVJbnB1dENoYW5uZWxzKHMscil9Zm9yKGxldCBzPTA7czx0aGlzLm5iT3V0cHV0cztzKyspe2xldCByPWVbc10ubGVuZ3RoO3IhPXRoaXMub3V0cHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVPdXRwdXRDaGFubmVscyhzLHIpfX1hbGxvY2F0ZUlucHV0Q2hhbm5lbHModCxlKXt0aGlzLmlucHV0QnVmZmVyc1t0XT1uZXcgQXJyYXkoZSk7Zm9yKGxldCBzPTA7czxlO3MrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKzEyOCksdGhpcy5pbnB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLmlucHV0QnVmZmVyc0hlYWRbdF09bmV3IEFycmF5KGUpLHRoaXMuaW5wdXRCdWZmZXJzVG9TZW5kW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMuaW5wdXRCdWZmZXJzSGVhZFt0XVtzXT10aGlzLmlucHV0QnVmZmVyc1t0XVtzXS5zdWJhcnJheSgwLHRoaXMuYmxvY2tTaXplKSx0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKX1hbGxvY2F0ZU91dHB1dENoYW5uZWxzKHQsZSl7dGhpcy5vdXRwdXRCdWZmZXJzW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1RvUmV0cmlldmVbdF1bc109bmV3IEZsb2F0MzJBcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5vdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZVt0XVtzXS5maWxsKDApfXJlYWRJbnB1dHModCl7aWYodFswXS5sZW5ndGgmJnRbMF1bMF0ubGVuZ3RoPT0wKXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5maWxsKDAsdGhpcy5ibG9ja1NpemUpO3JldHVybn1mb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dFtlXVtzXTt0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5zZXQocix0aGlzLmJsb2NrU2l6ZSl9fXdyaXRlT3V0cHV0cyh0KXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dGhpcy5vdXRwdXRCdWZmZXJzW2VdW3NdLnN1YmFycmF5KDAsMTI4KTt0W2VdW3NdLnNldChyKX19c2hpZnRJbnB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KX1zaGlmdE91dHB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJPdXRwdXRzO3QrKylmb3IobGV0IGU9MDtlPHRoaXMub3V0cHV0QnVmZmVyc1t0XS5sZW5ndGg7ZSsrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bZV0uc3ViYXJyYXkodGhpcy5ibG9ja1NpemUtMTI4KS5maWxsKDApfXByZXBhcmVJbnB1dEJ1ZmZlcnNUb1NlbmQoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtlXS5zZXQodGhpcy5pbnB1dEJ1ZmZlcnNIZWFkW3RdW2VdKX1oYW5kbGVPdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5uYk91dHB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5vdXRwdXRCdWZmZXJzW3RdLmxlbmd0aDtlKyspZm9yKGxldCBzPTA7czx0aGlzLmJsb2NrU2l6ZTtzKyspdGhpcy5vdXRwdXRCdWZmZXJzW3RdW2VdW3NdKz10aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdW2VdW3NdL3RoaXMubmJPdmVybGFwc31wcm9jZXNzKHQsZSxzKXtjb25zdCBuPXRbMF1bMF0hPT12b2lkIDA7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIW4/ITE6KHRoaXMuc3RhcnRlZD1uLHRoaXMucmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKSx0aGlzLnJlYWRJbnB1dHModCksdGhpcy5zaGlmdElucHV0QnVmZmVycygpLHRoaXMucHJlcGFyZUlucHV0QnVmZmVyc1RvU2VuZCgpLHRoaXMucHJvY2Vzc09MQSh0aGlzLmlucHV0QnVmZmVyc1RvU2VuZCx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlLHMpLHRoaXMuaGFuZGxlT3V0cHV0QnVmZmVyc1RvUmV0cmlldmUoKSx0aGlzLndyaXRlT3V0cHV0cyhlKSx0aGlzLnNoaWZ0T3V0cHV0QnVmZmVycygpLCEwKX1wcm9jZXNzT0xBKHQsZSxzKXtjb25zb2xlLmFzc2VydCghMSwiTm90IG92ZXJyaWRlbiIpfX1jbGFzcyBndHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnNpemU9dHwwLHRoaXMuc2l6ZTw9MXx8dGhpcy5zaXplJnRoaXMuc2l6ZS0xKXRocm93IG5ldyBFcnJvcigiRkZUIHNpemUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBhbmQgYmlnZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPXQ8PDE7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLnNpemUqMikscz0wO3M8ZS5sZW5ndGg7cys9Mil7Y29uc3QgYT1NYXRoLlBJKnMvdGhpcy5zaXplO2Vbc109TWF0aC5jb3MoYSksZVtzKzFdPS1NYXRoLnNpbihhKX10aGlzLnRhYmxlPWU7Zm9yKHZhciByPTAsbj0xO3RoaXMuc2l6ZT5uO248PD0xKXIrKzt0aGlzLl93aWR0aD1yJTI9PT0wP3ItMTpyLHRoaXMuX2JpdHJldj1uZXcgQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2Zvcih2YXIgaT0wO2k8dGhpcy5fYml0cmV2Lmxlbmd0aDtpKyspe3RoaXMuX2JpdHJldltpXT0wO2Zvcih2YXIgaD0wO2g8dGhpcy5fd2lkdGg7aCs9Mil7dmFyIGM9dGhpcy5fd2lkdGgtaC0yO3RoaXMuX2JpdHJldltpXXw9KGk+Pj5oJjMpPDxjfX10aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGwsdGhpcy5faW52PTB9ZnJvbUNvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHxuZXcgQXJyYXkodC5sZW5ndGg+Pj4xKSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXNbcj4+PjFdPXRbcl07cmV0dXJuIHN9Y3JlYXRlQ29tcGxleEFycmF5KCl7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fY3NpemUpO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09MDtyZXR1cm4gdH10b0NvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHx0aGlzLmNyZWF0ZUNvbXBsZXhBcnJheSgpLHI9MDtyPHMubGVuZ3RoO3IrPTIpc1tyXT10W3I+Pj4xXSxzW3IrMV09MDtyZXR1cm4gc31jb21wbGV0ZVNwZWN0cnVtKHQpe2Zvcih2YXIgZT10aGlzLl9jc2l6ZSxzPWU+Pj4xLHI9MjtyPHM7cis9Mil0W2Utcl09dFtyXSx0W2UtcisxXT0tdFtyKzFdfXRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3RyYW5zZm9ybTQoKSx0aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGx9cmVhbFRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3JlYWxUcmFuc2Zvcm00KCksdGhpcy5fb3V0PW51bGwsdGhpcy5fZGF0YT1udWxsfWludmVyc2VUcmFuc2Zvcm0odCxlKXtpZih0PT09ZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX291dD10LHRoaXMuX2RhdGE9ZSx0aGlzLl9pbnY9MSx0aGlzLl90cmFuc2Zvcm00KCk7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspdFtzXS89dGhpcy5zaXplO3RoaXMuX291dD1udWxsLHRoaXMuX2RhdGE9bnVsbH1fdHJhbnNmb3JtNCgpe3ZhciB0PXRoaXMuX291dCxlPXRoaXMuX2NzaXplLHM9dGhpcy5fd2lkdGgscj0xPDxzLG49ZS9yPDwxLGksaCxjPXRoaXMuX2JpdHJldjtpZihuPT09NClmb3IoaT0wLGg9MDtpPGU7aSs9bixoKyspe2NvbnN0IG09Y1toXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKGksbSxyKX1lbHNlIGZvcihpPTAsaD0wO2k8ZTtpKz1uLGgrKyl7Y29uc3QgbT1jW2hdO3RoaXMuX3NpbmdsZVRyYW5zZm9ybTQoaSxtLHIpfXZhciBhPXRoaXMuX2ludj8tMToxLHU9dGhpcy50YWJsZTtmb3Iocj4+PTI7cj49MjtyPj49Mil7bj1lL3I8PDE7dmFyIGY9bj4+PjI7Zm9yKGk9MDtpPGU7aSs9bilmb3IodmFyIHA9aStmLGw9aSxkPTA7bDxwO2wrPTIsZCs9cil7Y29uc3QgbT1sLGc9bStmLHY9ZytmLEk9ditmLF89dFttXSx3PXRbbSsxXSxiPXRbZ10sQj10W2crMV0sVD10W3ZdLFA9dFt2KzFdLHk9dFtJXSxBPXRbSSsxXSx4PV8sRj13LFY9dVtkXSxNPWEqdVtkKzFdLE89YipWLUIqTSxOPWIqTStCKlYsWT11WzIqZF0sTD1hKnVbMipkKzFdLEg9VCpZLVAqTCxVPVQqTCtQKlksSz11WzMqZF0sWj1hKnVbMypkKzFdLCQ9eSpLLUEqWixHPXkqWitBKkssaj14K0gsQz1GK1Usaz14LUgsSj1GLVUsUT1PKyQsej1OK0csRT1hKihPLSQpLFg9YSooTi1HKSxldD1qK1EsaXQ9Qyt6LG90PWotUSxhdD1DLXosaHQ9aytYLHV0PUotRSxjdD1rLVgsbHQ9SitFO3RbbV09ZXQsdFttKzFdPWl0LHRbZ109aHQsdFtnKzFdPXV0LHRbdl09b3QsdFt2KzFdPWF0LHRbSV09Y3QsdFtJKzFdPWx0fX19X3NpbmdsZVRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LG49dGhpcy5fZGF0YSxpPW5bZV0saD1uW2UrMV0sYz1uW2Urc10sYT1uW2UrcysxXSx1PWkrYyxmPWgrYSxwPWktYyxsPWgtYTtyW3RdPXUsclt0KzFdPWYsclt0KzJdPXAsclt0KzNdPWx9X3NpbmdsZVRyYW5zZm9ybTQodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LG49dGhpcy5fZGF0YSxpPXRoaXMuX2ludj8tMToxLGg9cyoyLGM9cyozLGE9bltlXSx1PW5bZSsxXSxmPW5bZStzXSxwPW5bZStzKzFdLGw9bltlK2hdLGQ9bltlK2grMV0sbT1uW2UrY10sZz1uW2UrYysxXSx2PWErbCxJPXUrZCxfPWEtbCx3PXUtZCxiPWYrbSxCPXArZyxUPWkqKGYtbSksUD1pKihwLWcpLHk9ditiLEE9SStCLHg9XytQLEY9dy1ULFY9di1iLE09SS1CLE89Xy1QLE49dytUO3JbdF09eSxyW3QrMV09QSxyW3QrMl09eCxyW3QrM109RixyW3QrNF09VixyW3QrNV09TSxyW3QrNl09TyxyW3QrN109Tn1fcmVhbFRyYW5zZm9ybTQoKXt2YXIgdD10aGlzLl9vdXQsZT10aGlzLl9jc2l6ZSxzPXRoaXMuX3dpZHRoLHI9MTw8cyxuPWUvcjw8MSxpLGgsYz10aGlzLl9iaXRyZXY7aWYobj09PTQpZm9yKGk9MCxoPTA7aTxlO2krPW4saCsrKXtjb25zdCBmdD1jW2hdO3RoaXMuX3NpbmdsZVJlYWxUcmFuc2Zvcm0yKGksZnQ+Pj4xLHI+Pj4xKX1lbHNlIGZvcihpPTAsaD0wO2k8ZTtpKz1uLGgrKyl7Y29uc3QgZnQ9Y1toXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtNChpLGZ0Pj4+MSxyPj4+MSl9dmFyIGE9dGhpcy5faW52Py0xOjEsdT10aGlzLnRhYmxlO2ZvcihyPj49MjtyPj0yO3I+Pj0yKXtuPWUvcjw8MTt2YXIgZj1uPj4+MSxwPWY+Pj4xLGw9cD4+PjE7Zm9yKGk9MDtpPGU7aSs9bilmb3IodmFyIGQ9MCxtPTA7ZDw9bDtkKz0yLG0rPXIpe3ZhciBnPWkrZCx2PWcrcCxJPXYrcCxfPUkrcCx3PXRbZ10sYj10W2crMV0sQj10W3ZdLFQ9dFt2KzFdLFA9dFtJXSx5PXRbSSsxXSxBPXRbX10seD10W18rMV0sRj13LFY9YixNPXVbbV0sTz1hKnVbbSsxXSxOPUIqTS1UKk8sWT1CKk8rVCpNLEw9dVsyKm1dLEg9YSp1WzIqbSsxXSxVPVAqTC15KkgsSz1QKkgreSpMLFo9dVszKm1dLCQ9YSp1WzMqbSsxXSxHPUEqWi14KiQsaj1BKiQreCpaLEM9RitVLGs9VitLLEo9Ri1VLFE9Vi1LLHo9TitHLEU9WStqLFg9YSooTi1HKSxldD1hKihZLWopLGl0PUMreixvdD1rK0UsYXQ9SitldCxodD1RLVg7aWYodFtnXT1pdCx0W2crMV09b3QsdFt2XT1hdCx0W3YrMV09aHQsZD09PTApe3ZhciB1dD1DLXosY3Q9ay1FO3RbSV09dXQsdFtJKzFdPWN0O2NvbnRpbnVlfWlmKGQhPT1sKXt2YXIgbHQ9Six6dD0tUSxFdD1DLFJ0PS1rLER0PS1hKmV0LHF0PS1hKlgsV3Q9LWEqRSxZdD0tYSp6LEx0PWx0K0R0LEh0PXp0K3F0LFV0PUV0K1l0LEt0PVJ0LVd0LGR0PWkrcC1kLG10PWkrZi1kO3RbZHRdPUx0LHRbZHQrMV09SHQsdFttdF09VXQsdFttdCsxXT1LdH19fX1fc2luZ2xlUmVhbFRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LG49dGhpcy5fZGF0YSxpPW5bZV0saD1uW2Urc10sYz1pK2gsYT1pLWg7clt0XT1jLHJbdCsxXT0wLHJbdCsyXT1hLHJbdCszXT0wfV9zaW5nbGVSZWFsVHJhbnNmb3JtNCh0LGUscyl7Y29uc3Qgcj10aGlzLl9vdXQsbj10aGlzLl9kYXRhLGk9dGhpcy5faW52Py0xOjEsaD1zKjIsYz1zKjMsYT1uW2VdLHU9bltlK3NdLGY9bltlK2hdLHA9bltlK2NdLGw9YStmLGQ9YS1mLG09dStwLGc9aSoodS1wKSx2PWwrbSxJPWQsXz0tZyx3PWwtbSxiPWQsQj1nO3JbdF09dixyW3QrMV09MCxyW3QrMl09SSxyW3QrM109XyxyW3QrNF09dyxyW3QrNV09MCxyW3QrNl09YixyW3QrN109Qn19Y29uc3QgUj0obyx0LGUpPT5NYXRoLm1pbihNYXRoLm1heChvLHQpLGUpLEl0PShvLHQpPT4obyV0K3QpJXQsRD0xMjg7ZnVuY3Rpb24gYnQobyx0KXtyZXR1cm4gbzx0PyhvLz10LG8rby1vKm8tMSk6bz4xLXQ/KG89KG8tMSkvdCxvKm8rbytvKzEpOjB9Y29uc3Qgc3Q9e3RyaShvLHQ9LjUpe2NvbnN0IGU9MS10O3JldHVybiBvPj10PzEvZS1vL2U6by90fSxzaW5lKG8pe3JldHVybiBNYXRoLnNpbihNYXRoLlBJKjIqbykqLjUrLjV9LHJhbXAobyl7cmV0dXJuIG99LHNhdyhvKXtyZXR1cm4gMS1vfSxzcXVhcmUobyx0PS41KXtyZXR1cm4gbz49dD8wOjF9LGN1c3RvbShvLHQ9WzAsMV0pe2NvbnN0IGU9dC5sZW5ndGgtMSxzPU1hdGguZmxvb3IobyplKSxyPTEvZSxuPVIodFtzXSwwLDEpLGg9Uih0W3MrMV0sMCwxKSxjPW4sYT0wLHU9cjtyZXR1cm4oaC1jKS8odS1hKSooby1yKnMpK259LHNhd2JsZXAobyx0KXtyZXR1cm4gMipvLTEtYnQobyx0KX19O2Z1bmN0aW9uIHEobyx0KXtyZXR1cm4gdC5sZW5ndGg+MT90W29dOnRbMF19Y29uc3QgQnQ9T2JqZWN0LmtleXMoc3QpO2NsYXNzIF90IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6InRpbWUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToic2tldyIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToiZGVwdGgiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToicGhhc2VvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZGNvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucGhhc2V9aW5jcmVtZW50UGhhc2UodCl7dGhpcy5waGFzZSs9dCx0aGlzLnBoYXNlPjEmJih0aGlzLnBoYXNlPXRoaXMucGhhc2UtMSl9cHJvY2Vzcyh0LGUscyl7aWYoY3VycmVudFRpbWU+PXMuZW5kWzBdKXJldHVybiExO2NvbnN0IHI9ZVswXSxuPXMuZnJlcXVlbmN5WzBdLGk9cy50aW1lWzBdLGg9cy5kZXB0aFswXSxjPXMuc2tld1swXSxhPXMucGhhc2VvZmZzZXRbMF0sdT1zLmRjb2Zmc2V0WzBdLGY9QnRbcy5zaGFwZVswXV0scD1yWzBdLmxlbmd0aD8/MDt0aGlzLnBoYXNlPT1udWxsJiYodGhpcy5waGFzZT1JdChpKm4rYSwxKSk7Y29uc3QgbD1uL3NhbXBsZVJhdGU7Zm9yKGxldCBkPTA7ZDxwO2QrKyl7Zm9yKGxldCBtPTA7bTxyLmxlbmd0aDttKyspe2NvbnN0IGc9KHN0W2ZdKHRoaXMucGhhc2UsYykrdSkqaDtyW21dW2RdPWd9dGhpcy5pbmNyZW1lbnRQaGFzZShsKX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImxmby1wcm9jZXNzb3IiLF90KTtjbGFzcyB3dCBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJjb2Fyc2UiLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0sbj1lWzBdLGk9clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFpKXJldHVybiExO3RoaXMuc3RhcnRlZD1pO2xldCBoPXMuY29hcnNlWzBdPz8wO2g9TWF0aC5tYXgoMSxoKTtmb3IobGV0IGM9MDtjPEQ7YysrKWZvcihsZXQgYT0wO2E8ci5sZW5ndGg7YSsrKW5bYV1bY109YyVoPT09MD9yW2FdW2NdOm5bYV1bYy0xXTtyZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImNvYXJzZS1wcm9jZXNzb3IiLHd0KTtjbGFzcyBTdCBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvcntzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJjcnVzaCIsZGVmYXVsdFZhbHVlOjB9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxuPWVbMF0saT1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIWkpcmV0dXJuITE7dGhpcy5zdGFydGVkPWk7bGV0IGg9cy5jcnVzaFswXT8/ODtoPU1hdGgubWF4KDEsaCk7Zm9yKGxldCBjPTA7YzxEO2MrKylmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKyl7Y29uc3QgdT1NYXRoLnBvdygyLGgtMSk7blthXVtjXT1NYXRoLnJvdW5kKHJbYV1bY10qdSkvdX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImNydXNoLXByb2Nlc3NvciIsU3QpO2NsYXNzIFR0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6InNoYXBlIixkZWZhdWx0VmFsdWU6MH0se25hbWU6InBvc3RnYWluIixkZWZhdWx0VmFsdWU6MX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITF9cHJvY2Vzcyh0LGUscyl7Y29uc3Qgcj10WzBdLG49ZVswXSxpPXJbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhaSlyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9aTtsZXQgaD1zLnNoYXBlWzBdO2g9aDwxP2g6MS00ZS0xMCxoPTIqaC8oMS1oKTtjb25zdCBjPU1hdGgubWF4KC4wMDEsTWF0aC5taW4oMSxzLnBvc3RnYWluWzBdKSk7Zm9yKGxldCBhPTA7YTxEO2ErKylmb3IobGV0IHU9MDt1PHIubGVuZ3RoO3UrKyluW3VdW2FdPSgxK2gpKnJbdV1bYV0vKDEraCpNYXRoLmFicyhyW3VdW2FdKSkqYztyZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoInNoYXBlLXByb2Nlc3NvciIsVHQpO2Z1bmN0aW9uIFMobyl7Y29uc3QgdD1vKm87cmV0dXJuIG8qKDI3K3QpLygyNys5KnQpfWNvbnN0IHB0PTMuMTQxNTkyNjUzNTk7Y2xhc3MgUHQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NTAwfSx7bmFtZToicSIsZGVmYXVsdFZhbHVlOjF9LHtuYW1lOiJkcml2ZSIsZGVmYXVsdFZhbHVlOi42OX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5wMD1bMCwwXSx0aGlzLnAxPVswLDBdLHRoaXMucDI9WzAsMF0sdGhpcy5wMz1bMCwwXSx0aGlzLnAzMj1bMCwwXSx0aGlzLnAzMz1bMCwwXSx0aGlzLnAzND1bMCwwXX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0sbj1lWzBdLGk9clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFpKXJldHVybiExO3RoaXMuc3RhcnRlZD1pO2NvbnN0IGg9cy5xWzBdLGM9UihNYXRoLmV4cChzLmRyaXZlWzBdKSwuMSwyZTMpO2xldCBhPXMuZnJlcXVlbmN5WzBdO2E9YSoyKnB0L3NhbXBsZVJhdGUsYT1hPjE/MTphO2NvbnN0IHU9TWF0aC5taW4oOCxoKi4xMyk7bGV0IGY9MS9jKk1hdGgubWluKDEuNzUsMSt1KTtmb3IobGV0IHA9MDtwPEQ7cCsrKWZvcihsZXQgbD0wO2w8ci5sZW5ndGg7bCsrKXtjb25zdCBkPXRoaXMucDNbbF0qLjM2MDg5MSt0aGlzLnAzMltsXSouNDE3MjkrdGhpcy5wMzNbbF0qLjE3Nzg5Nit0aGlzLnAzNFtsXSouMDQzOTcyNTt0aGlzLnAzNFtsXT10aGlzLnAzM1tsXSx0aGlzLnAzM1tsXT10aGlzLnAzMltsXSx0aGlzLnAzMltsXT10aGlzLnAzW2xdLHRoaXMucDBbbF0rPShTKHJbbF1bcF0qYy11KmQpLVModGhpcy5wMFtsXSkpKmEsdGhpcy5wMVtsXSs9KFModGhpcy5wMFtsXSktUyh0aGlzLnAxW2xdKSkqYSx0aGlzLnAyW2xdKz0oUyh0aGlzLnAxW2xdKS1TKHRoaXMucDJbbF0pKSphLHRoaXMucDNbbF0rPShTKHRoaXMucDJbbF0pLVModGhpcy5wM1tsXSkpKmEsbltsXVtwXT1kKmZ9cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJsYWRkZXItcHJvY2Vzc29yIixQdCk7Y2xhc3MgeXQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiZGlzdG9ydCIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJwb3N0Z2FpbiIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxuPWVbMF0saT1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIWkpcmV0dXJuITE7dGhpcy5zdGFydGVkPWk7Y29uc3QgaD1NYXRoLmV4cG0xKHMuZGlzdG9ydFswXSksYz1NYXRoLm1heCguMDAxLE1hdGgubWluKDEscy5wb3N0Z2FpblswXSkpO2ZvcihsZXQgYT0wO2E8RDthKyspZm9yKGxldCB1PTA7dTxyLmxlbmd0aDt1Kyspblt1XVthXT0oMStoKSpyW3VdW2FdLygxK2gqTWF0aC5hYnMoclt1XVthXSkpKmM7cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJkaXN0b3J0LXByb2Nlc3NvciIseXQpO2Z1bmN0aW9uIEF0KG8sdCxlKXtyZXR1cm4gZSoodC1vKStvfWZ1bmN0aW9uIHh0KG8sdCxlKXtyZXR1cm4gbzwyPzA6QXQoLXQqLjUsdCouNSxlLyhvLTEpKX1mdW5jdGlvbiBydChvLHQpe3JldHVybiBvKk1hdGgucG93KDIsdC8xMil9Y2xhc3MgRnQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucGhhc2U9W119c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiYmVnaW4iLGRlZmF1bHRWYWx1ZTowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbWluOjB9LHtuYW1lOiJlbmQiLGRlZmF1bHRWYWx1ZTowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbWluOjB9LHtuYW1lOiJmcmVxdWVuY3kiLGRlZmF1bHRWYWx1ZTo0NDAsbWluOk51bWJlci5FUFNJTE9OfSx7bmFtZToicGFuc3ByZWFkIixkZWZhdWx0VmFsdWU6LjQsbWluOjAsbWF4OjF9LHtuYW1lOiJmcmVxc3ByZWFkIixkZWZhdWx0VmFsdWU6LjIsbWluOjB9LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjowfSx7bmFtZToidm9pY2VzIixkZWZhdWx0VmFsdWU6NSxtaW46MX1dfXByb2Nlc3ModCxlLHMpe2lmKGN1cnJlbnRUaW1lPD1zLmJlZ2luWzBdKXJldHVybiEwO2lmKGN1cnJlbnRUaW1lPj1zLmVuZFswXSlyZXR1cm4hMTtsZXQgcj1zLmZyZXF1ZW5jeVswXTtyPXIqTWF0aC5wb3coMixzLmRldHVuZVswXS8xMjAwKTtjb25zdCBuPWVbMF0saT1zLnZvaWNlc1swXSxoPXMuZnJlcXNwcmVhZFswXSxjPXMucGFuc3ByZWFkWzBdKi41Ky41LGE9TWF0aC5zcXJ0KDEtYyksdT1NYXRoLnNxcnQoYyk7Zm9yKGxldCBmPTA7ZjxpO2YrKyl7Y29uc3QgcD0oZiYxKT09MSxsPXJ0KHIseHQoaSxoLGYpKTtsZXQgZD1hLG09dTtwJiYoZD11LG09YSk7Y29uc3QgZz1sL3NhbXBsZVJhdGU7Zm9yKGxldCB2PTA7djxuWzBdLmxlbmd0aDt2Kyspe3RoaXMucGhhc2VbZl09dGhpcy5waGFzZVtmXT8/TWF0aC5yYW5kb20oKTtjb25zdCBJPXN0LnNhd2JsZXAodGhpcy5waGFzZVtmXSxnKTtuWzBdW3ZdPW5bMF1bdl0rSSpkLG5bMV1bdl09blsxXVt2XStJKm0sdGhpcy5waGFzZVtmXSs9Zyx0aGlzLnBoYXNlW2ZdPjEmJih0aGlzLnBoYXNlW2ZdPXRoaXMucGhhc2VbZl0tMSl9fXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3Nvcigic3VwZXJzYXctb3NjaWxsYXRvciIsRnQpO2NvbnN0IFZ0PTIwNDg7ZnVuY3Rpb24gTXQobyl7bGV0IHQ9bmV3IEZsb2F0MzJBcnJheShvKTtmb3IodmFyIGU9MDtlPG87ZSsrKXRbZV09LjUqKDEtTWF0aC5jb3MoMipNYXRoLlBJKmUvbykpO3JldHVybiB0fWNsYXNzIE90IGV4dGVuZHMgdnR7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToicGl0Y2hGYWN0b3IiLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IodCl7dC5wcm9jZXNzb3JPcHRpb25zPXtibG9ja1NpemU6VnR9LHN1cGVyKHQpLHRoaXMuZmZ0U2l6ZT10aGlzLmJsb2NrU2l6ZSx0aGlzLnRpbWVDdXJzb3I9MCx0aGlzLmhhbm5XaW5kb3c9TXQodGhpcy5ibG9ja1NpemUpLHRoaXMuZmZ0PW5ldyBndCh0aGlzLmZmdFNpemUpLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXI9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQ9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy50aW1lQ29tcGxleEJ1ZmZlcj10aGlzLmZmdC5jcmVhdGVDb21wbGV4QXJyYXkoKSx0aGlzLm1hZ25pdHVkZXM9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmZmdFNpemUvMisxKSx0aGlzLnBlYWtJbmRleGVzPW5ldyBJbnQzMkFycmF5KHRoaXMubWFnbml0dWRlcy5sZW5ndGgpLHRoaXMubmJQZWFrcz0wfXByb2Nlc3NPTEEodCxlLHMpe2xldCByPXMucGl0Y2hGYWN0b3Jbcy5waXRjaEZhY3Rvci5sZW5ndGgtMV07cjwwJiYocj1yKi4yNSkscj1NYXRoLm1heCgwLHIrMSk7Zm9yKHZhciBuPTA7bjx0aGlzLm5iSW5wdXRzO24rKylmb3IodmFyIGk9MDtpPHRbbl0ubGVuZ3RoO2krKyl7dmFyIGg9dFtuXVtpXSxjPWVbbl1baV07dGhpcy5hcHBseUhhbm5XaW5kb3coaCksdGhpcy5mZnQucmVhbFRyYW5zZm9ybSh0aGlzLmZyZXFDb21wbGV4QnVmZmVyLGgpLHRoaXMuY29tcHV0ZU1hZ25pdHVkZXMoKSx0aGlzLmZpbmRQZWFrcygpLHRoaXMuc2hpZnRQZWFrcyhyKSx0aGlzLmZmdC5jb21wbGV0ZVNwZWN0cnVtKHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkKSx0aGlzLmZmdC5pbnZlcnNlVHJhbnNmb3JtKHRoaXMudGltZUNvbXBsZXhCdWZmZXIsdGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQpLHRoaXMuZmZ0LmZyb21Db21wbGV4QXJyYXkodGhpcy50aW1lQ29tcGxleEJ1ZmZlcixjKSx0aGlzLmFwcGx5SGFubldpbmRvdyhjKX10aGlzLnRpbWVDdXJzb3IrPXRoaXMuaG9wU2l6ZX1hcHBseUhhbm5XaW5kb3codCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmJsb2NrU2l6ZTtlKyspdFtlXT10W2VdKnRoaXMuaGFubldpbmRvd1tlXSoxLjYyfWNvbXB1dGVNYWduaXR1ZGVzKCl7Zm9yKHZhciB0PTAsZT0wO3Q8dGhpcy5tYWduaXR1ZGVzLmxlbmd0aDspe2xldCBzPXRoaXMuZnJlcUNvbXBsZXhCdWZmZXJbZV0scj10aGlzLmZyZXFDb21wbGV4QnVmZmVyW2UrMV07dGhpcy5tYWduaXR1ZGVzW3RdPXMqKjIrcioqMix0Kz0xLGUrPTJ9fWZpbmRQZWFrcygpe3RoaXMubmJQZWFrcz0wO3ZhciB0PTI7bGV0IGU9dGhpcy5tYWduaXR1ZGVzLmxlbmd0aC0yO2Zvcig7dDxlOyl7bGV0IHM9dGhpcy5tYWduaXR1ZGVzW3RdO2lmKHRoaXMubWFnbml0dWRlc1t0LTFdPj1zfHx0aGlzLm1hZ25pdHVkZXNbdC0yXT49cyl7dCsrO2NvbnRpbnVlfWlmKHRoaXMubWFnbml0dWRlc1t0KzFdPj1zfHx0aGlzLm1hZ25pdHVkZXNbdCsyXT49cyl7dCsrO2NvbnRpbnVlfXRoaXMucGVha0luZGV4ZXNbdGhpcy5uYlBlYWtzXT10LHRoaXMubmJQZWFrcysrLHQrPTJ9fXNoaWZ0UGVha3ModCl7dGhpcy5mcmVxQ29tcGxleEJ1ZmZlclNoaWZ0ZWQuZmlsbCgwKTtmb3IodmFyIGU9MDtlPHRoaXMubmJQZWFrcztlKyspe2xldCBpPXRoaXMucGVha0luZGV4ZXNbZV0saD1NYXRoLnJvdW5kKGkqdCk7aWYoaD50aGlzLm1hZ25pdHVkZXMubGVuZ3RoKWJyZWFrO3ZhciBzPTAscj10aGlzLmZmdFNpemU7aWYoZT4wKXtsZXQgdT10aGlzLnBlYWtJbmRleGVzW2UtMV07cz1pLU1hdGguZmxvb3IoKGktdSkvMil9aWYoZTx0aGlzLm5iUGVha3MtMSl7bGV0IHU9dGhpcy5wZWFrSW5kZXhlc1tlKzFdO3I9aStNYXRoLmNlaWwoKHUtaSkvMil9bGV0IGM9cy1pLGE9ci1pO2Zvcih2YXIgbj1jO248YTtuKyspe2xldCB1PWkrbixmPWgrbjtpZihmPj10aGlzLm1hZ25pdHVkZXMubGVuZ3RoKWJyZWFrO2xldCBwPTIqTWF0aC5QSSooZi11KS90aGlzLmZmdFNpemUsbD1NYXRoLmNvcyhwKnRoaXMudGltZUN1cnNvciksZD1NYXRoLnNpbihwKnRoaXMudGltZUN1cnNvciksbT11KjIsZz1tKzEsdj10aGlzLmZyZXFDb21wbGV4QnVmZmVyW21dLEk9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltnXSxfPXYqbC1JKmQsdz12KmQrSSpsLGI9ZioyLEI9YisxO3RoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkW2JdKz1fLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkW0JdKz13fX19fXJlZ2lzdGVyUHJvY2Vzc29yKCJwaGFzZS12b2NvZGVyLXByb2Nlc3NvciIsT3QpO2NsYXNzIE50IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBpPXB0LHRoaXMucGhpPS10aGlzLnBpLHRoaXMuWTA9MCx0aGlzLlkxPTAsdGhpcy5QVz10aGlzLnBpLHRoaXMuQj0yLjMsdGhpcy5kcGhpZj0wLHRoaXMuZW52Zj0wfXN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6ImRldHVuZSIsZGVmYXVsdFZhbHVlOjAsbWluOk51bWJlci5ORUdBVElWRV9JTkZJTklUWSxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToicHVsc2V3aWR0aCIsZGVmYXVsdFZhbHVlOjEsbWluOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX1dfXByb2Nlc3ModCxlLHMpe2lmKHRoaXMuZGlzY29ubmVjdGVkKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1zLmJlZ2luWzBdKXJldHVybiEwO2lmKGN1cnJlbnRUaW1lPj1zLmVuZFswXSlyZXR1cm4hMTtjb25zdCByPWVbMF07bGV0IG49MSxpO2ZvcihsZXQgaD0wO2g8KHJbMF0ubGVuZ3RoPz8wKTtoKyspe2NvbnN0IGM9KDEtUihxKGgscy5wdWxzZXdpZHRoKSwtLjk5LC45OSkpKnRoaXMucGksYT1xKGgscy5kZXR1bmUpLHU9cnQocShoLHMuZnJlcXVlbmN5KSxhLzEwMCk7aT11Kih0aGlzLnBpLyhzYW1wbGVSYXRlKi41KSksdGhpcy5kcGhpZis9LjEqKGktdGhpcy5kcGhpZiksbio9Ljk5OTgsdGhpcy5lbnZmKz0uMSoobi10aGlzLmVudmYpLHRoaXMuQj0yLjMqKDEtMWUtNCp1KSx0aGlzLkI8MCYmKHRoaXMuQj0wKSx0aGlzLnBoaSs9dGhpcy5kcGhpZix0aGlzLnBoaT49dGhpcy5waSYmKHRoaXMucGhpLT0yKnRoaXMucGkpO2xldCBmPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkwKTt0aGlzLlkwPS41KihmK3RoaXMuWTApO2xldCBwPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkxK2MpO3RoaXMuWTE9LjUqKHArdGhpcy5ZMSk7Zm9yKGxldCBsPTA7bDxyLmxlbmd0aDtsKyspcltsXVtoXT0uMTUqKGYtcCkqdGhpcy5lbnZmfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigicHVsc2Utb3NjaWxsYXRvciIsTnQpO2NvbnN0IG50PXtiaXRDOmZ1bmN0aW9uKG8sdCxlKXtyZXR1cm4gbyZ0P2U6MH0sYnI6ZnVuY3Rpb24obyx0PTgpe2lmKHQ+MzIpdGhyb3cgbmV3IEVycm9yKCJicigpIFNpemUgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiAzMiIpO3tsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dC0wO3MrKyllKz1udC5iaXRDKG8sMioqcywyKioodC0ocysxKSkpO3JldHVybiBlfX0sc2luZjpmdW5jdGlvbihvKXtyZXR1cm4gTWF0aC5zaW4oby8oMTI4L01hdGguUEkpKX0sY29zZjpmdW5jdGlvbihvKXtyZXR1cm4gTWF0aC5jb3Moby8oMTI4L01hdGguUEkpKX0sdGFuZjpmdW5jdGlvbihvKXtyZXR1cm4gTWF0aC50YW4oby8oMTI4L01hdGguUEkpKX0scmVnRzpmdW5jdGlvbihvLHQpe3JldHVybiB0LnRlc3Qoby50b1N0cmluZygyKSl9fTtsZXQgVyx0dDtmdW5jdGlvbiBDdChvKXtpZigoV3x8dHQpPT1udWxsKXtXPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hdGgpLHR0PVcubWFwKHM9Pk1hdGhbc10pO2NvbnN0IHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobnQpLGU9dC5tYXAocz0+bnRbc10pO1cucHVzaCgiaW50Iiwid2luZG93IiwuLi50KSx0dC5wdXNoKE1hdGguZmxvb3IsZ2xvYmFsVGhpcywuLi5lKX1yZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLlcsInQiLGByZXR1cm4gMCwKJHtvfHwwfTtgKS5iaW5kKGdsb2JhbFRoaXMsLi4udHQpfWNsYXNzIGt0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBvcnQub25tZXNzYWdlPXQ9PntsZXR7Y29kZVRleHQ6ZX09dC5kYXRhO2NvbnN0e2J5dGVCZWF0U3RhcnRUaW1lOnN9PXQuZGF0YTtzIT1udWxsJiYodGhpcy50PTAsdGhpcy5pbml0aWFsT2Zmc2V0PU1hdGguZmxvb3IocykpLGU9ZS50cmltKCkucmVwbGFjZSgvXmV2YWxcKHVuZXNjYXBlXChlc2NhcGUoPzpgfFwoJ3xcKCJ8XChgKSguKj8pKD86YHwnXCl8IlwpfGBcKSkucmVwbGFjZVwoXC91XChcLlwuXClcL2csWyInYF1cJDElWyInYF1cKVwpXCkkLywocixuKT0+dW5lc2NhcGUoZXNjYXBlKG4pLnJlcGxhY2UoL3UoLi4pL2csIiQxJSIpKSksdGhpcy5mdW5jPUN0KGUpfSx0aGlzLmluaXRpYWxPZmZzZXQ9bnVsbCx0aGlzLnQ9bnVsbCx0aGlzLmZ1bmM9bnVsbH1zdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjQ0MCxtaW46TnVtYmVyLkVQU0lMT059LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH1dfXByb2Nlc3ModCxlLHMpe2lmKHRoaXMuZGlzY29ubmVjdGVkKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1zLmJlZ2luWzBdKXJldHVybiEwO2lmKGN1cnJlbnRUaW1lPj1zLmVuZFswXSlyZXR1cm4hMTt0aGlzLnQ9PW51bGwmJih0aGlzLnQ9cy5iZWdpblswXSpzYW1wbGVSYXRlKTtjb25zdCByPWVbMF07Zm9yKGxldCBuPTA7bjxyWzBdLmxlbmd0aDtuKyspe2NvbnN0IGk9cShuLHMuZGV0dW5lKSxoPXJ0KHEobixzLmZyZXF1ZW5jeSksaS8xMDApO2xldCBjPXRoaXMudC8oc2FtcGxlUmF0ZS8yNTYpKmgrdGhpcy5pbml0aWFsT2Zmc2V0O2NvbnN0IGY9KCh0aGlzLmZ1bmMoYykmMjU1KS8xMjcuNS0xKSouMjtmb3IobGV0IHA9MDtwPHIubGVuZ3RoO3ArKylyW3BdW25dPVIoZiwtLjQsLjQpO3RoaXMudD10aGlzLnQrMX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImJ5dGUtYmVhdC1wcm9jZXNzb3IiLGt0KX0pKCk7Cg==";function Rt(e){const t=De().createGain();return t.gain.value=e,t}const my=(e,t,n,i)=>i-n===0?0:(t-e)/(i-n);function Ft(e,t,n,i){const r=new AudioWorkletNode(e,t,i);return Object.entries(n).forEach(([s,u])=>{r.parameters.get(s).value=u}),r}const Gt=(e,t,n,i,r,s,u,o,c,h="exponential")=>{t=dn(t),n=dn(n),i=dn(i),r=dn(r);const d=h==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";h==="exponential"&&(s=s===0?.001:s,u=u===0?.001:u);const g=u-s,m=u,M=s+i*g,C=c-o,P=w=>{let I;if(t>w){let k=my(s,m,0,t);I=w*k+(s>m?s:0)}else I=(w-t)*my(m,M,0,n)+m;return h==="exponential"&&(I=I||.001),I};e.setValueAtTime(s,o),t>C?e[d](P(C),c):t+n>C?(e[d](P(t),o+t),e[d](P(C),c)):(e[d](P(t),o+t),e[d](P(t+n),o+t+n),e.setValueAtTime(M,c)),e[d](s,c+r)};function Vf(e,t,n,i,r,s){const u={threshold:t??-3,ratio:n??10,knee:i??10,attack:r??.005,release:s??.05};return new DynamicsCompressorNode(e,u)}const Xt=(e,t="linear",n)=>{const[u,o,c,h]=e;if(u==null&&o==null&&c==null&&h==null)return n??[.001,.001,1,.01];const d=c??(u!=null&&o==null||u==null&&o==null?1:.001);return[Math.max(u??0,.001),Math.max(o??0,.001),Math.min(d,1),Math.max(h??0,.01)]};function $i(e,t,n,i,r,s,u,o,c,h,d,g,m,M){const C="exponential",[P,w,I,k]=Xt([r,s,u,o],C,[.005,.14,0,.1]);let X,_;if(m==="ladder"?(X=Ft(e,"ladder-processor",{frequency:n,q:i,drive:M}),_=X.parameters.get("frequency")):(X=e.createBiquadFilter(),X.type=t,X.Q.value=i,X.frequency.value=n,_=X.frequency),(r??s??u??o??c)!==void 0){c=dn(c,1,!0),g=dn(g,0,!0);const x=Math.abs(c),N=x*g;let V=ji(2**-N*n,0,2e4),H=ji(2**(x-N)*n,0,2e4);return c<0&&([V,H]=[H,V]),Gt(_,P,w,I,k,V,H,h,d,C),X}return X}let py=e=>e<.5?1:1-(e-.5)/.5;function Tf(e,t,n=0){const i=De();if(!n)return e;let r=i.createGain(),s=i.createGain();e.connect(r),t.connect(s),r.gain.value=py(n),s.gain.value=py(1-n);let u=i.createGain();return r.connect(u),s.connect(u),u}let lM=["linear","exponential"];function ci(e,t,n,i){if(!(t.pattack??t.pdecay??t.psustain??t.prelease??t.penv))return;const s=dn(t.penv,1,!0),u=lM[t.pcurve??0];let[o,c,h,d]=Xt([t.pattack,t.pdecay,t.psustain,t.prelease],u,[.2,.001,1,.001]),g=t.panchor??h;const m=s*100,M=0-m*g,C=m-m*g;Gt(e,o,c,h,d,M,C,n,i,u)}function li(e,t,n){const{vibmod:i=.5,vib:r}=t;let s;if(r>0){s=De().createOscillator(),s.frequency.value=r;const u=De().createGain();return u.gain.value=i*100,s.connect(u),u.connect(e),s.start(n),s}}function qi(e,t,n,i){const r=e.createConstantSource();return r.start(n),r.stop(i),r.onended=()=>{t()},r}const fM=(e,t=1,n="sine")=>{const i=De(),r=i.createOscillator();r.type=n,r.frequency.value=e,r.start();const s=new GainNode(i,{gain:t});return r.connect(s),{node:s,stop:u=>r.stop(u)}},hM=(e,t,n,i="sine")=>{const s=e.value*t,u=s*n;return fM(s,u,i)};function Ki(e,t,n){const{fmh:i=1,fmi:r,fmenv:s="exp",fmattack:u,fmdecay:o,fmsustain:c,fmrelease:h,fmvelocity:d,fmwave:g="sine",duration:m}=t;let M,C=()=>{};if(r){const w=De().createGain(),I=hM(e,i,r,g);if(M=I.node,C=I.stop,![u,o,c,h,d].find(k=>k!==void 0))M.connect(e);else{const[k,X,_,S]=Xt([u,o,c,h]),x=n+m;Gt(w.gain,k,X,_,S,0,1,n,x,s==="exp"?"exponential":"linear"),M.connect(w),w.connect(e)}}return{stop:C}}let Zt=[],kn=0;const Jr=4;let dM=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(i){return n.lc=t.push(i),()=>{for(let s=kn+Jr;s<Zt.length;)Zt[s]===i?Zt.splice(s,Jr):s+=Jr;let r=t.indexOf(i);~r&&(t.splice(r,1),--n.lc||n.off())}},notify(i,r){let s=!Zt.length;for(let u of t)Zt.push(u,n.value,i,r);if(s){for(kn=0;kn<Zt.length;kn+=Jr)Zt[kn](Zt[kn+1],Zt[kn+2],Zt[kn+3]);Zt.length=0}},off(){},set(i){let r=n.value;r!==i&&(n.value=i,n.notify(r))},subscribe(i){let r=n.listen(i);return i(n.value),r},value:e};return n},mM=(e={})=>{let t=dM(e);return t.setKey=function(n,i){let r=t.value;typeof i>"u"&&n in t.value?(t.value={...t.value},delete t.value[n],t.notify(r,n)):t.value[n]!==i&&(t.value={...t.value,[n]:i},t.notify(r,n))},t};const Lf={},Rf={},gy=e=>Lf[e];function pM(e,t){var n=1024;if(e<n)return e+" B";var i=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1;do e/=n,++r;while(e>=n);return e.toFixed(1)+" "+i[r]}function Gf(e,t){const{s:n,n:i=0,speed:r=1}=e;let s=oM(e,36),u=s-36,o,c=0;if(Array.isArray(t))c=dy(i,t.length),o=t[c];else{const g=M=>Hr(M)-s,m=Object.keys(t).filter(M=>!M.startsWith("_")).reduce((M,C,P)=>!M||Math.abs(g(C))<Math.abs(g(M))?C:M,null);u=-g(m),c=dy(i,t[m].length),o=t[m][c]}const h=`${n}:${c}`;let d=Math.abs(r)*Math.pow(2,u/12);return{transpose:u,sampleUrl:o,index:c,midi:s,label:h,playbackRate:d}}const Xf=async(e,t,n)=>{let{sampleUrl:i,label:r,playbackRate:s}=Gf(e,t);n&&(i=await n(i));const u=De(),o=await Ur(i,u,r);return e.unit==="c"&&(s=s*o.duration),{buffer:o,playbackRate:s}},Zf=async(e,t,n)=>{let{buffer:i,playbackRate:r}=await Xf(e,t,n);e.speed<0&&(i=Wf(i));const u=De().createBufferSource();u.buffer=i,u.playbackRate.value=r;const{s:o,loopBegin:c=0,loopEnd:h=1,begin:d=0,end:g=1}=e,m=d*u.buffer.duration;(o.startsWith("wt_")?1:e.loop)&&(u.loop=!0,u.loopStart=c*u.buffer.duration-m,u.loopEnd=h*u.buffer.duration-m);const C=u.buffer.duration/u.playbackRate.value,P=(g-d)*C;return{bufferSource:u,offset:m,bufferDuration:C,sliceDuration:P}},Ur=(e,t,n,i=0)=>{const r=n?`sound "${n}:${i}"`:"sample";if(e=e.replace("#","%23"),!Rf[e]){Dt(`[sampler] load ${r}..`,"load-sample",{url:e});const s=Date.now();Rf[e]=fetch(e).then(u=>u.arrayBuffer()).then(async u=>{const o=Date.now()-s,c=pM(u.byteLength);Dt(`[sampler] load ${r}... done! loaded ${c} in ${o}ms`,"loaded-sample",{url:e});const h=await t.decodeAudioData(u);return Lf[e]=h,h})}return Rf[e]};function Wf(e){const t=De(),n=t.createBuffer(e.numberOfChannels,e.length,t.sampleRate);for(let i=0;i<e.numberOfChannels;i++)n.copyToChannel(e.getChannelData(i).slice().reverse(),i,i);return n}const yy=e=>Lf[e];function by(e){if(e.startsWith("bubo:")){const[t,n]=e.split(":");e=`github:Bubobubobubobubo/dough-${n}`}return e}function Ay(e,t=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[n,i]=e.split("github:");return i=i.endsWith("/")?i.slice(0,-1):i,i.split("/").length===2&&(i+="/main"),`https://raw.githubusercontent.com/${i}/${t}`}const zf=(e,t,n=e._base||"")=>Object.entries(e).forEach(([i,r])=>{if(typeof r=="string"&&(r=[r]),typeof r!="object")throw new Error("wrong sample map format for "+i);n=r._base||n,n=by(n),n.startsWith("github:")&&(n=Ay(n,""));const s=u=>n+u;Array.isArray(r)?r=r.map(s):r=Object.fromEntries(Object.entries(r).map(([u,o])=>[u,(typeof o=="string"?[o]:o).map(s)])),t(i,r)});let My={};function Cy(e,t){My[e]=t}function gM(e){const t=Object.entries(My).find(([n])=>e.startsWith(n));if(t)return t[1]}const Of=async(e,t=e._base||"",n={})=>{if(typeof e=="string"){const s=gM(e);if(s)return s(e);if(e=by(e),e.startsWith("github:")&&(e=Ay(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432"),e.startsWith("shabda:")){let[o,c]=e.split("shabda:");e=`https://shabda.ndre.gr/${c}.json?strudel=1`}if(e.startsWith("shabda/speech")){let[o,c]=e.split("shabda/speech");c=c.startsWith("/")?c.substring(1):c;let[h,d]=c.split(":"),g="f",m="en-GB";h&&([m,g]=h.split("/")),e=`https://shabda.ndre.gr/speech/${d}.json?gender=${g}&language=${m}&strudel=1'`}if(typeof fetch!="function")return;const u=e.split("/").slice(0,-1).join("/");return typeof fetch>"u"?void 0:fetch(e).then(o=>o.json()).then(o=>Of(o,t||o._base||u,n)).catch(o=>{throw console.error(o),new Error(`error loading "${e}"`)})}const{prebake:i,tag:r}=n;zf(e,(s,u)=>mn(s,(o,c,h)=>jf(o,c,h,u),{type:"sample",samples:u,baseUrl:t,prebake:i,tag:r}),t)},vy=[];async function jf(e,t,n,i,r){let{s,nudge:u=0,cut:o,loop:c,clip:h=void 0,n:d=0,speed:g=1,duration:m}=t;if(g===0)return;const M=De();let[C,P,w,I]=Xt([t.attack,t.decay,t.sustain,t.release]);const{bufferSource:k,sliceDuration:X,offset:_}=await Zf(t,i,r);if(M.currentTime>e){Dt(`[sampler] still loading sound "${s}:${d}"`,"highlight");return}if(!k){Dt(`[sampler] could not load "${s}:${d}"`,"error");return}let S=li(k.detune,t,e);const x=e+u;k.start(x,_);const N=M.createGain(),V=k.connect(N);h==null&&c==null&&t.release==null&&(m=X);let H=e+m;Gt(V.gain,C,P,w,I,0,1,e,H,"linear"),ci(k.detune,t,e,H);const Z=M.createGain();V.connect(Z),k.onended=function(){k.disconnect(),S?.stop(),V.disconnect(),Z.disconnect(),n()};let ee=H+I+.01;k.stop(ee);const z={node:Z,bufferSource:k,stop:te=>{k.stop(te)}};if(o!==void 0){const te=vy[o];te&&(te.node.gain.setValueAtTime(1,x),te.node.gain.linearRampToValueAtTime(0,x+.01)),vy[o]=z}return z}const Yr=128,$f="System Standard";let Py=Yr;function qf(e){Py=parseInt(e)??Yr}let Dy=!1;function Kf(e){Dy=e==!0}const Un=mM();function mn(e,t,n={}){e=e.toLowerCase().replace(/\s+/g,"_"),Un.setKey(e,{onTrigger:t,data:n})}let Fy=e=>e;function In(e){return Fy(e)}function Ey(e){Fy=e}function Hf(e){for(const n in e)e[n.toLowerCase()]=e[n];const t=Un.get();for(const n in t){const[i,r]=n.split("_");if(!r)continue;const s=e[i];if(s){if(typeof s=="string")t[`${s}_${r}`.toLowerCase()]=t[n];else if(Array.isArray(s))for(const u of s)t[`${u}_${r}`.toLowerCase()]=t[n]}}Un.set({...t})}async function yM(e){const n=await(await fetch(e)).json();Hf(n)}async function wy(...e){switch(e.length){case 1:return typeof e[0]=="string"?yM(e[0]):Hf(e[0]);case 2:return Hf({[e[0]]:e[1]});default:throw new Error("aliasMap expects 1 or 2 arguments, received "+e.length)}}function Hi(e){return Un.get()[e.toLowerCase()]}const Jf=async()=>{await navigator.mediaDevices.getUserMedia({audio:!0});let e=await navigator.mediaDevices.enumerateDevices();e=e.filter(n=>n.kind==="audiooutput"&&n.deviceId!=="default");const t=new Map;return t.set($f,""),e.forEach(n=>{t.set(n.label,n.deviceId)}),t},Sy={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,delay:0,byteBeatExpression:"0",delayfeedback:.5,delaytime:.25,orbit:1,i:1,velocity:1,fft:8};let Uf=new Map(Object.entries(Sy));function Qr(e,t){Uf.set(e,t)}function Ke(e){return Uf.get(e)}function By(e){Object.keys(e).forEach(t=>{Qr(t,e[t])})}function Yf(){Uf=new Map(Object.entries(Sy))}function _y(e){Yf(),e==="1.0"&&Qr("fanchor",.5)}const xy=()=>Un.set({});let es;const Qf=()=>(es=new AudioContext,es),De=()=>es||Qf();function ky(){return De().currentTime}let eh;function bM(){return eh||(eh=De().audioWorklet.addModule(cM)),eh}async function th(e={}){const{disableWorklets:t=!1,maxPolyphony:n,audioDeviceName:i=$f,multiChannelOrbits:r=!1}=e;if(qf(n),Kf(r),typeof window>"u")return;const s=De();if(i!=null&&i!=$f)try{const o=(await Jf()).get(i),c=(o??"").length>0;s.sinkId!==o&&c&&await s.setSinkId(o),Dt(`[superdough] Audio Device set to ${i}, it might take a few seconds before audio plays on all output channels`)}catch{Dt("[superdough] failed to set audio interface","warning")}if(await s.resume(),t){Dt("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await bM(),Dt("[superdough] AudioWorklets loaded")}catch(u){console.warn("could not load AudioWorklet effects",u)}Dt("[superdough] ready")}let nh;async function ih(e){return nh||(nh=new Promise(t=>{document.addEventListener("click",async function n(){document.removeEventListener("click",n),await th(e),t()})})),nh}let Nn={},ts,fi;function rh(){const e=De(),t=e.destination.maxChannelCount;e.destination.channelCount=t,ts=new ChannelMergerNode(e,{numberOfInputs:e.destination.channelCount}),fi=new GainNode(e),ts.connect(fi),fi.connect(e.destination)}const Ji=(e,t=[0,1])=>{const n=De();ts==null&&rh();const i=new StereoPannerNode(n);e.connect(i);const r=new ChannelSplitterNode(n,{numberOfOutputs:i.channelCount});i.connect(r),t.forEach((s,u)=>{r.connect(ts,u%i.channelCount,s%n.destination.channelCount)})},Iy=()=>{fi!=null&&(fi.gain.linearRampToValueAtTime(0,De().currentTime+.01),fi=null)};function AM(e,t,n,i,r){if(n=ji(n,0,.98),!Nn[e]){const u=De().createFeedbackDelay(1,t,n);u.start?.(i),Ji(u,r),Nn[e]=u}return Nn[e].delayTime.value!==t&&Nn[e].delayTime.setValueAtTime(t,i),Nn[e].feedback.value!==n&&Nn[e].feedback.setValueAtTime(n,i),Nn[e]}function ns(e,t,n,i={}){return Ft(e,"lfo-processor",{frequency:1,depth:1,skew:0,phaseoffset:0,time:t,end:n,shape:1,dcoffset:-.5,...i})}function MM(e,t,n=1,i=.5,r=1e3,s=2e3){const u=De(),o=ns(u,e,t,{frequency:n,depth:s*2}),c=2;let h=0;const d=[];for(let g=0;g<c;g++){const m=u.createBiquadFilter();m.type="notch",m.gain.value=1,m.frequency.value=r+h,m.Q.value=2-Math.min(Math.max(i*2,0),1.9),o.connect(m.detune),h+=282,g>0&&d[g-1].connect(m),d.push(m)}return d[d.length-1]}function CM(e){e=e??0;const t=["12db","ladder","24db"];return typeof e=="number"?t[Math.floor(hy(e,t.length))]:e}let Qt={},is=(e,t)=>e!==void 0&&e!==t;function vM(e,t,n,i,r,s,u){if(!Qt[e]){const c=De().createReverb(t,n,i,r,s);Ji(c,u),Qt[e]=c}return(is(t,Qt[e].duration)||is(n,Qt[e].fade)||is(i,Qt[e].lp)||is(r,Qt[e].dim)||Qt[e].ir!==s)&&Qt[e].generate(t,n,i,r,s),Qt[e]}a.analysers={},a.analysersData={};function sh(e,t=1024,n=.5){if(!a.analysers[e]){const i=De().createAnalyser();i.fftSize=t,i.smoothingTimeConstant=n,a.analysers[e]=i,a.analysersData[e]=new Float32Array(a.analysers[e].frequencyBinCount)}return a.analysers[e].fftSize!==t&&(a.analysers[e].fftSize=t,a.analysersData[e]=new Float32Array(a.analysers[e].frequencyBinCount)),a.analysers[e]}function Ui(e="time",t=1){const n={time:()=>a.analysers[t]?.getFloatTimeDomainData(a.analysersData[t]),frequency:()=>a.analysers[t]?.getFloatFrequencyData(a.analysersData[t])}[e];if(!n)throw new Error(`getAnalyzerData: ${e} not supported. use one of ${Object.keys(n).join(", ")}`);return n(),a.analysersData[t]}function uh(e,t,n){const i=Rt(n);return e.connect(i),i.connect(t),i}function Ny(){Nn={},Qt={},a.analysers={},a.analysersData={}}let Yi=new Map;function Vy(e){return(Array.isArray(e)?e:[e]).map(t=>t-1)}const Qi=async(e,t,n,i)=>{const r=De();t=typeof t=="string"&&t.startsWith("=")?Number(t.slice(1)):r.currentTime+t;let{stretch:s}=e;if(s!=null&&(t=t-.04),typeof e!="object")throw new Error(`expected hap.value to be an object, but got "${e}". Hint: append .note() or .s() to the end`,"error");if(e.duration=n,t<r.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${t.toFixed(2)}, now: ${r.currentTime.toFixed(2)})`);return}let{s:u=Ke("s"),bank:o,source:c,gain:h=Ke("gain"),postgain:d=Ke("postgain"),density:g=Ke("density"),fanchor:m=Ke("fanchor"),drive:M=.69,cutoff:C,lpenv:P,lpattack:w,lpdecay:I,lpsustain:k,lprelease:X,resonance:_=Ke("resonance"),hpenv:S,hcutoff:x,hpattack:N,hpdecay:V,hpsustain:H,hprelease:Z,hresonance:ee=Ke("hresonance"),bpenv:O,bandf:z,bpattack:te,bpdecay:Ae,bpsustain:pe,bprelease:fe,bandq:se=Ke("bandq"),phaserrate:Ve,phaserdepth:ce=Ke("phaserdepth"),phasersweep:ye,phasercenter:q,coarse:Ee,crush:ut,shape:He,shapevol:Me=Ke("shapevol"),distort:Ye,distortvol:Be=Ke("distortvol"),pan:Je,vowel:kt,delay:ft=Ke("delay"),delayfeedback:Te=Ke("delayfeedback"),delaytime:Cn=Ke("delaytime"),orbit:ke=Ke("orbit"),room:un,roomfade:$t,roomlp:qt,roomdim:vn,roomsize:ui,ir:an,i:Pn=Ke("i"),velocity:on=Ke("velocity"),analyze:vt,fft:Wn=Ke("fft"),compressor:be,compressorRatio:We,compressorKnee:ae,compressorAttack:Oe,compressorRelease:Ie}=e;const zn=Vy(Dy&&ke>0?[ke*2-1,ke*2]:Ke("channels")),Ar=e.channels!=null?Vy(e.channels):zn;h=In(dn(h,1)),d=In(d),Me=In(Me),Be=In(Be),ft=In(ft),on=In(on),h*=on;const gt=Math.round(Math.random()*1e6);for(let Ce=0;Ce<=Yi.size-Py;Ce++){const It=Yi.entries().next(),yt=It.value[1],bt=It.value[0],l=t+.25;yt?.node?.gain?.linearRampToValueAtTime(0,l),yt?.stop?.(l),Yi.delete(bt)}let Kt=[];o&&u&&(u=`${o}_${u}`,e.s=u);let Pt;if(c)Pt=c(t,e,n,i);else if(Hi(u)){const{onTrigger:Ce}=Hi(u),yt=await Ce(t,e,()=>{Kt.forEach(bt=>bt?.disconnect()),Yi.delete(gt)});yt&&(Pt=yt.node,Yi.set(gt,yt))}else throw new Error(`sound ${u} not found! Is it loaded?`);if(!Pt)return;if(r.currentTime>t){Dt("[webaudio] skip hap: still loading",r.currentTime-t);return}const he=[];he.push(Pt),s!==void 0&&he.push(Ft(r,"phase-vocoder-processor",{pitchFactor:s})),he.push(Rt(h));const Dn=CM(e.ftype);if(C!==void 0){let Ce=()=>$i(r,"lowpass",C,_,w,I,k,X,P,t,t+n,m,Dn,M);he.push(Ce()),Dn==="24db"&&he.push(Ce())}if(x!==void 0){let Ce=()=>$i(r,"highpass",x,ee,N,V,H,Z,S,t,t+n,m);he.push(Ce()),Dn==="24db"&&he.push(Ce())}if(z!==void 0){let Ce=()=>$i(r,"bandpass",z,se,te,Ae,pe,fe,O,t,t+n,m);he.push(Ce()),Dn==="24db"&&he.push(Ce())}if(kt!==void 0){const Ce=r.createVowelFilter(kt);he.push(Ce)}if(Ee!==void 0&&he.push(Ft(r,"coarse-processor",{coarse:Ee})),ut!==void 0&&he.push(Ft(r,"crush-processor",{crush:ut})),He!==void 0&&he.push(Ft(r,"shape-processor",{shape:He,postgain:Me})),Ye!==void 0&&he.push(Ft(r,"distort-processor",{distort:Ye,postgain:Be})),be!==void 0&&he.push(Vf(r,be,We,ae,Oe,Ie)),Je!==void 0){const Ce=r.createStereoPanner();Ce.pan.value=2*Je-1,he.push(Ce)}if(Ve!==void 0&&ce>0){const Ce=MM(t,t+n,Ve,ce,q,ye);he.push(Ce)}const Fn=new GainNode(r,{gain:d});he.push(Fn),Ji(Fn,Ar);let Re;if(ft>0&&Cn>0&&Te>0){const Ce=AM(ke,Cn,Te,t,zn);Re=uh(Fn,Ce,ft),Kt.push(Re)}let tt;if(un>0){let Ce;if(an!==void 0){let yt,bt=Hi(an);Array.isArray(bt)?yt=bt.data.samples[Pn%bt.data.samples.length]:typeof bt=="object"&&(yt=Object.values(bt.data.samples).flat()[Pn%Object.values(bt.data.samples).length]),Ce=await Ur(yt,r,an,0)}const It=vM(ke,ui,$t,qt,vn,Ce,zn);tt=uh(Fn,It,un),Kt.push(tt)}let cn;if(vt){const Ce=sh(vt,2**(Wn+5));cn=uh(Fn,Ce,1),Kt.push(cn)}he.slice(1).reduce((Ce,It)=>Ce.connect(It),he[0]),Kt=Kt.concat(he)},Ty=(e,t,n,i)=>{Qi(t,e-n,t.duration/i,i)};let ah={};function PM(e,t){const n=De();if(ah[e])return ah[e];const i=2*n.sampleRate,r=n.createBuffer(1,i,n.sampleRate),s=r.getChannelData(0);let u=0,o,c,h,d,g,m,M;o=c=h=d=g=m=M=0;for(let C=0;C<i;C++)if(e==="white")s[C]=Math.random()*2-1;else if(e==="brown"){let P=Math.random()*2-1;s[C]=(u+.02*P)/1.02,u=s[C]}else if(e==="pink"){let P=Math.random()*2-1;o=.99886*o+P*.0555179,c=.99332*c+P*.0750759,h=.969*h+P*.153852,d=.8665*d+P*.3104856,g=.55*g+P*.5329522,m=-.7616*m-P*.016898,s[C]=o+c+h+d+g+m+M+P*.5362,s[C]*=.11,M=P*.115926}else if(e==="crackle"){const P=t*.01;Math.random()<P?s[C]=Math.random()*2-1:s[C]=0}return e!=="crackle"&&(ah[e]=r),r}function Ly(e="white",t,n=.02){const r=De().createBufferSource();return r.buffer=PM(e,n),r.loop=!0,r.start(t),{node:r,stop:s=>r.stop(s)}}function DM(e,t,n){const i=Ly("pink",n);return{node:Tf(e,i.node,t),stop:s=>i?.stop(s)}}const rs=e=>{let{note:t,freq:n}=e;return t=t||36,typeof t=="string"&&(t=Hr(t)),!n&&typeof t=="number"&&(n=fy(t)),Number(n)};function ss(e){e!=null&&(e.disconnect(),e.parameters.get("end")?.setValueAtTime(0,0))}const FM=["triangle","square","sawtooth","sine"],EM=["pink","white","brown","crackle"];function oh(){[...FM].forEach(e=>{mn(e,(t,n,i)=>{const[r,s,u,o]=Xt([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c=lh(e,t,n),{node:h,stop:d,triggerRelease:g}=c;const m=Rt(.3),{duration:M}=n;h.onended=()=>{h.disconnect(),m.disconnect(),i()};const C=Rt(1);let P=h.connect(m).connect(C);const w=t+M;Gt(P.gain,r,s,u,o,0,1,t,w,"linear");const I=w+o+.01;return g?.(I),d(I),{node:P,stop:k=>{d(k)}}},{type:"synth",prebake:!0})}),mn("supersaw",(e,t,n)=>{const i=De();let{duration:r,n:s,unison:u=5,spread:o=.6,detune:c}=t;c=c??s??.18;const h=rs(t),[d,g,m,M]=Xt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),C=e+r,P=C+M+.01,w=ji(u,1,100);let I=w>1?ji(o,0,1):0,k=Ft(i,"supersaw-oscillator",{frequency:h,begin:e,end:P,freqspread:c,voices:w,panspread:I},{outputChannelCount:[2]});const X=1/Math.sqrt(w);ci(k.parameters.get("detune"),t,e,C);const _=li(k.parameters.get("detune"),t,e),S=Ki(k.parameters.get("frequency"),t,e);let x=Rt(1);x=k.connect(x),Gt(x.gain,d,g,m,M,0,.3*X,e,C,"linear");let N=qi(i,()=>{ss(k),x.disconnect(),n(),S?.stop(),_?.stop()},e,P);return{node:x,stop:V=>{N.stop(V)}}},{prebake:!0,type:"synth"}),mn("bytebeat",(e,t,n)=>{const i=["(t%255 >= t/255%255)*255","(t*(t*8%60 <= 300)|(-t)*(t*4%512 < 256))+t/400","t","t*(t >> 10^t)","t&128","t&t>>8","((t%255+t%128+t%64+t%32+t%16+t%127.8+t%64.8+t%32.8+t%16.8)/3)","((t%64+t%63.8+t%64.15+t%64.35+t%63.5)/1.25)","(t&(t>>7)-t)","(sin(t*PI/128)*127+127)","((t^t/2+t+64*(sin((t*PI/64)+(t*PI/32768))+64))%128*2)","((t^t/2+t+64*(cos >> 0))%127.85*2)","((t^t/2+t+64)%128*2)","(((t * .25)^(t * .25)/100+(t * .25))%128)*2","((t^t/2+t+64)%7 * 24)"],{n:r=0}=t,s=rs(t),{byteBeatExpression:u=i[r%i.length],byteBeatStartTime:o}=t,c=De();let{duration:h}=t;const[d,g,m,M]=Xt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),C=e+h,P=C+M+.01;let w=Ft(c,"byte-beat-processor",{frequency:s,begin:e,end:P},{outputChannelCount:[2]});w.port.postMessage({codeText:u,byteBeatStartTime:o,frequency:s});let I=Rt(1);I=w.connect(I),Gt(I.gain,d,g,m,M,0,1,e,C,"linear");let k=qi(c,()=>{ss(w),I.disconnect(),n()},e,P);return{node:I,stop:X=>{k.stop(X)}}},{prebake:!0,type:"synth"}),mn("pulse",(e,t,n)=>{const i=De();let{pwrate:r,pwsweep:s}=t;s==null&&(r!=null?s=.3:s=0),r==null&&s!=null&&(r=1);let{duration:u,pw:o=.5}=t;const c=rs(t),[h,d,g,m]=Xt([t.attack,t.decay,t.sustain,t.release],"linear",[.001,.05,.6,.01]),M=e+u,C=M+m+.01;let P=Ft(i,"pulse-oscillator",{frequency:c,begin:e,end:C,pulsewidth:o},{outputChannelCount:[2]});ci(P.parameters.get("detune"),t,e,M);const w=li(P.parameters.get("detune"),t,e),I=Ki(P.parameters.get("frequency"),t,e);let k=Rt(1);k=P.connect(k),Gt(k.gain,h,d,g,m,0,1,e,M,"linear");let X;s!=0&&(X=ns(i,e,C,{frequency:r,depth:s}),X.connect(P.parameters.get("pulsewidth")));let _=qi(i,()=>{ss(P),ss(X),k.disconnect(),n(),I?.stop(),w?.stop()},e,C);return{node:k,stop:S=>{_.stop(S)}}},{prebake:!0,type:"synth"}),[...EM].forEach(e=>{mn(e,(t,n,i)=>{const[r,s,u,o]=Xt([n.attack,n.decay,n.sustain,n.release],"linear",[.001,.05,.6,.01]);let c,{density:h}=n;c=Ly(e,t,h);let{node:d,stop:g,triggerRelease:m}=c;const M=Rt(.3),{duration:C}=n;d.onended=()=>{d.disconnect(),M.disconnect(),i()};const P=Rt(1);let w=d.connect(M).connect(P);const I=t+C;Gt(w.gain,r,s,u,o,0,1,t,I,"linear");const k=I+o+.01;return m?.(k),g(k),{node:w,stop:X=>{g(X)}}},{type:"synth",prebake:!0})})}function ch(e,t){const n=new Float32Array(e+1),i=new Float32Array(e+1),r=De(),s=r.createOscillator(),u={sawtooth:h=>[0,-1/h],square:h=>[0,h%2===0?0:1/h],triangle:h=>[h%2===0?0:1/(h*h),0]};if(!u[t])throw new Error(`unknown wave type ${t}`);n[0]=0,i[0]=0;let o=1;for(;o<=e;){const[h,d]=u[t](o);n[o]=h,i[o]=d,o++}const c=r.createPeriodicWave(n,i);return s.setPeriodicWave(c),s}function lh(e,t,n){let{n:i,duration:r,noise:s=0}=n,u;!i||e==="sine"?(u=De().createOscillator(),u.type=e||"triangle"):u=ch(i,e),u.frequency.value=rs(n),u.start(t);let o=li(u.detune,n,t);ci(u.detune,n,t,t+r);const c=Ki(u.frequency,n,t);let h;return s&&(h=DM(u,s,t)),{node:h?.node||u,stop:d=>{c.stop(d),o?.stop(d),h?.stop(d),u.stop(d)},triggerRelease:d=>{}}}function wM(e=1,t=.05,n=220,i=0,r=0,s=.1,u=0,o=1,c=0,h=0,d=0,g=0,m=0,M=0,C=0,P=0,w=0,I=1,k=0,X=0){let _=Math.PI*2,S=De().sampleRate,x=Ve=>Ve>0?1:-1,N=c*=500*_/S/S,V=n*=(1+t*2*Math.random()-t)*_/S,H=[],Z=0,ee=0,O=0,z=1,te=0,Ae=0,pe=0,fe,se;for(i=i*S+9,k*=S,r*=S,s*=S,w*=S,h*=500*_/S**3,C*=_/S,d*=_/S,g*=S,m=m*S|0,se=i+k+r+s+w|0;O<se;H[O++]=pe)++Ae%(P*100|0)||(pe=u?u>1?u>2?u>3?Math.sin((Z%_)**3):Math.max(Math.min(Math.tan(Z),1),-1):1-(2*Z/_%2+2)%2:1-4*Math.abs(Math.round(Z/_)-Z/_):Math.sin(Z),pe=(m?1-X+X*Math.sin(_*O/m):1)*x(pe)*Math.abs(pe)**o*e*1*(O<i?O/i:O<i+k?1-(O-i)/k*(1-I):O<i+k+r?I:O<se-w?(se-O-w)/s*I:0),pe=w?pe/2+(w>O?0:(O<se-w?1:(se-O)/w)*H[O-w|0]/2):pe),fe=(n+=c+=h)*Math.cos(C*ee++),Z+=fe-fe*M*(1-(Math.sin(O)+1)*1e9%2),z&&++z>g&&(n+=d,V+=d,z=0),m&&!(++te%m)&&(n=V,c=N,z||=1);return H}const fh=(e,t)=>{let{s:n,note:i=36,freq:r,zrand:s=0,attack:u=0,decay:o=0,sustain:c=.8,release:h=.1,curve:d=1,slide:g=0,deltaSlide:m=0,pitchJump:M=0,pitchJumpTime:C=0,lfo:P=0,znoise:w=0,zmod:I=0,zcrush:k=0,zdelay:X=0,tremolo:_=0,duration:S=.2,zzfx:x}=e;const N=Math.max(S-u-o,0);typeof i=="string"&&(i=Hr(i)),!r&&typeof i=="number"&&(r=fy(i)),n=n.replace("z_","");const V=["sine","triangle","sawtooth","tan","noise"].indexOf(n)||0;d=n==="square"?0:d;const Z=wM(...x||[.25,s,r,u,N,h,V,d,g,m,M,C,P,w,I,k,X,c,o,_]),ee=De(),O=ee.createBuffer(1,Z.length,ee.sampleRate);O.getChannelData(0).set(Z);const z=De().createBufferSource();return z.buffer=O,z.start(t),{node:z}};function Ry(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(e=>{mn(e,(t,n,i)=>{const{node:r}=fh({s:e,...n},t);return r.onended=()=>{r.disconnect(),i()},{node:r,stop:()=>{}}},{type:"synth",prebake:!0})})}let hi;async function hh(e,t){const n=`dsp-worklet-${Date.now()}`,i=`${t}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${n}', MyProcessor);
`,s=`data:text/javascript;base64,${btoa(i)}`;await e.audioWorklet.addModule(s);const u=new AudioWorkletNode(e,n);return{node:u,stop:()=>u.port.postMessage("stop")}}const Gy=()=>{hi&&(hi?.stop(),hi?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",e=>{e.data==="strudel-stop"?Gy():e.data?.dough&&hi?.node.port.postMessage(e.data)});const Xy=async e=>{const t=De();Gy(),hi=await hh(t,e),hi.node.connect(t.destination)};function dh(e,t,n,i,r){window.postMessage({time:r,dough:t.value,currentTime:n,duration:t.duration,cps:i})}const{Pattern:Zy,logger:SM,repl:BM}=oy;Nf(SM);const Wy=e=>(e.ensureObjectValue(),e.value),mh=(e,t,n,i)=>Qi(Wy(t),e-n,t.duration/i,i),ph=(e,t,n,i,r)=>Qi(Wy(e),r?`=${r}`:t,n);Zy.prototype.webaudio=function(){return this.onTrigger(mh)};function gh(e={}){return e={getTime:()=>De().currentTime,defaultOutput:ph,...e},BM(e)}Zy.prototype.dough=function(){return this.onTrigger(dh,1)};const Yn=(e="test-canvas",t)=>{let{contextType:n="2d",pixelated:i=!1,pixelRatio:r=window.devicePixelRatio}={},s=document.querySelector("#"+e);if(!s){s=document.createElement("canvas"),s.id=e,s.width=window.innerWidth*r,s.height=window.innerHeight*r,s.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",i&&(s.style.imageRendering="pixelated"),document.body.prepend(s);let u;window.addEventListener("resize",()=>{u&&clearTimeout(u),u=setTimeout(()=>{s.width=window.innerWidth*r,s.height=window.innerHeight*r},200)})}return s.getContext(n,{willReadFrequently:!0})};let er={};function _M(e){er[e]!==void 0&&(cancelAnimationFrame(er[e]),delete er[e])}let pn={};j.prototype.draw=function(e,t){if(typeof window>"u")return this;let{id:n=1,lookbehind:i=0,lookahead:r=0}=t,s=Math.max(Kr(),0);_M(n),i=Math.abs(i),pn[n]=(pn[n]||[]).filter(h=>!h.isInFuture(s));let u=this.queryArc(s,s+r).filter(h=>h.hasOnset());pn[n]=pn[n].concat(u);let o;const c=()=>{const h=Kr(),d=h+r;pn[n]=pn[n].filter(M=>M.isInNearPast(i,h));let g=Math.max(o||d,d-1/10);const m=this.queryArc(g,d).filter(M=>M.hasOnset());pn[n]=pn[n].concat(m),o=d,e(pn[n],h,d,this),er[n]=requestAnimationFrame(c)};return er[n]=requestAnimationFrame(c),this},j.prototype.onPaint=function(e){return this.withState(t=>{t.controls.painters||(t.controls.painters=[]),t.controls.painters.push(e)})},j.prototype.getPainters=function(){let e=[];return this.queryArc(0,0,{painters:e}),e};let xM={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function gn(){return xM}let zy="#22222210";j.prototype.animate=function({callback:e,sync:t=!1,smear:n=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const i=Yn();let{clientWidth:r,clientHeight:s}=i.canvas;r*=window.devicePixelRatio,s*=window.devicePixelRatio;let u=n===0?"99":Number((1-n)*100).toFixed(0);u=u.length===1?`0${u}`:u,zy=`#200010${u}`;const o=c=>{let h;c=Math.round(c),h=this.slow(1e3).queryArc(c,c),i.fillStyle=zy,i.fillRect(0,0,r,s),h.forEach(d=>{let{x:g,y:m,w:M,h:C,s:P,r:w,angle:I=0,fill:k="darkseagreen"}=d.value;if(M*=r,C*=s,w!==void 0&&I!==void 0){const _=I*2*Math.PI,[S,x]=[(r-M)/2,(s-C)/2];g=S+Math.cos(_)*w*S,m=x+Math.sin(_)*w*x}else g*=r-M,m*=s-C;const X={...d.value,x:g,y:m,w:M,h:C};i.fillStyle=k,P==="rect"?i.fillRect(g,m,M,C):P==="ellipse"&&(i.beginPath(),i.ellipse(g+M/2,m+C/2,M/2,C/2,0,0,2*Math.PI),i.fill()),e&&e(i,X,d)}),window.frame=requestAnimationFrame(o)};return window.frame=requestAnimationFrame(o),xe};const{x:Oy,y:oF,w:cF,h:lF,angle:fF,r:hF,fill:dF,smear:mF}=Lr("x","y","w","h","angle","r","fill","smear");L("rescale",function(e,t){return t.mul(Oy(e).w(e).y(e).h(e))}),L("moveXY",function(e,t,n){return n.add(Oy(e).y(t))}),L("zoomIn",function(e,t){const n=qe(1).sub(e).div(2);return t.rescale(e).move(n,n)});const tr=(e,t,n)=>e*(n-t)+t,jy=e=>{let{value:t}=e;typeof e.value!="object"&&(t={value:t});let{note:n,n:i,freq:r,s}=t;if(r)return Pr(r);if(n=n??i,typeof n=="string")try{return fn(n)}catch{return 0}return typeof n=="number"?n:s?"_"+s:t};j.prototype.pianoroll=function(e={}){let{cycles:t=4,playhead:n=.5,overscan:i=0,hideNegative:r=!1,ctx:s=Yn(),id:u=1}=e,o=-t*n,c=t*(1-n);const h=(d,g)=>(!r||d.whole.begin>=0)&&d.isWithinTime(g+o,g+c);return this.draw((d,g)=>{$y({...e,time:g,ctx:s,haps:d.filter(m=>h(m,g))})},{lookbehind:o-i,lookahead:c+i,id:u}),this};function $y({time:e,haps:t,cycles:n=4,playhead:i=.5,flipTime:r=0,flipValues:s=0,hideNegative:u=!1,inactive:o=gn().foreground,active:c=gn().foreground,background:h="transparent",smear:d=0,playheadColor:g=gn().foreground,minMidi:m=10,maxMidi:M=90,autorange:C=0,timeframe:P,fold:w=1,vertical:I=0,labels:k=!1,fill:X=1,fillActive:_=!1,strokeActive:S=!0,stroke:x,hideInactive:N=0,colorizeInactive:V=1,fontFamily:H,ctx:Z,id:ee}={}){const O=Z.canvas.width,z=Z.canvas.height;let te=-n*i,Ae=n*(1-i);ee&&(t=t.filter(Be=>Be.hasTag(ee))),P&&(console.warn("timeframe is deprecated! use from/to instead"),te=0,Ae=P);const pe=I?z:O,fe=I?O:z;let se=I?[pe,0]:[0,pe];const Ve=Ae-te,ce=I?[0,fe]:[fe,0];let ye=M-m+1,q=fe/ye,Ee=[];r&&se.reverse(),s&&ce.reverse();const{min:ut,max:He,values:Me}=t.reduce(({min:Be,max:Je,values:kt},ft)=>{const Te=jy(ft);return{min:Te<Be?Te:Be,max:Te>Je?Te:Je,values:kt.includes(Te)?kt:[...kt,Te]}},{min:1/0,max:-1/0,values:[]});C&&(m=ut,M=He,ye=M-m+1),Ee=Me.sort((Be,Je)=>typeof Be=="number"&&typeof Je=="number"?Be-Je:typeof Be=="number"?1:String(Be).localeCompare(String(Je))),q=w?fe/Ee.length:fe/ye,Z.fillStyle=h,Z.globalAlpha=1,d||(Z.clearRect(0,0,O,z),Z.fillRect(0,0,O,z)),t.forEach(Be=>{const Je=Be.whole.begin<=e&&Be.endClipped>e;let kt=x??(S&&Je),ft=!Je&&X||Je&&_;if(N&&!Je)return;let Te=Be.value?.color;c=Te||c,o=V&&Te||o,Te=Je?c:o,Z.fillStyle=ft?Te:"transparent",Z.strokeStyle=Te;const{velocity:Cn=1,gain:ke=1}=Be.value||{};Z.globalAlpha=Cn*ke;const un=(Be.whole.begin-(r?Ae:te))/Ve,$t=tr(un,...se);let qt=tr(Be.duration/Ve,0,pe);const vn=jy(Be),ui=w?Ee.indexOf(vn)/Ee.length:(Number(vn)-m)/ye,an=tr(ui,...ce);let Pn=0;const on=tr(e/Ve,...se);let vt;if(I?vt=[an+1-(s?q:0),pe-on+$t+Pn+1-(r?0:qt),q-2,qt-2]:vt=[$t-on+Pn+1-(r?qt:0),an+1-(s?0:q),qt-2,q-2],kt&&Z.strokeRect(...vt),ft&&Z.fillRect(...vt),k){const Wn=Be.value.note??Be.value.s+(Be.value.n?`:${Be.value.n}`:""),{label:be,activeLabel:We}=Be.value,Oe=(Je&&We||be)??Wn;let Ie=I?qt:q*.75;Z.font=`${Ie}px ${H||"monospace"}`,Z.fillStyle=ft?"black":Te,Z.textBaseline="top",Z.fillText(Oe,...vt)}}),Z.globalAlpha=1;const Ye=tr(-te/Ve,...se);return Z.strokeStyle=g,Z.beginPath(),I?(Z.moveTo(0,Ye),Z.lineTo(fe,Ye)):(Z.moveTo(Ye,0),Z.lineTo(Ye,fe)),Z.stroke(),this}function kM(e,t={}){let[n,i]=e;n=Math.abs(n);const r=i+n,s=r!==0?n/r:0;return{fold:1,...t,cycles:r,playhead:s}}const IM=(e={})=>(t,n,i,r)=>$y({ctx:t,time:n,haps:i,...kM(r,e)});j.prototype.punchcard=function(e){return this.onPaint(IM(e))},j.prototype.wordfall=function(e){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...e})};function NM(e,t,n,i){const r=(e-90)*Math.PI/180;return[n+Math.cos(r)*t,i+Math.sin(r)*t]}const qy=(e,t,n,i,r=0)=>NM((e+r)*360,t*e,n,i);function Ky(e){let{ctx:t,from:n=0,to:i=3,margin:r=50,cx:s=100,cy:u=100,rotate:o=0,thickness:c=r/2,color:h=gn().foreground,cap:d="round",stretch:g=1,fromOpacity:m=1,toOpacity:M=1}=e;n*=g,i*=g,o*=g,t.lineWidth=c,t.lineCap=d,t.strokeStyle=h,t.globalAlpha=m,t.beginPath();let[C,P]=qy(n,r,s,u,o);t.moveTo(C,P);const w=1/60;let I=n;for(;I<=i;){const[k,X]=qy(I,r,s,u,o);t.globalAlpha=(I-n)/(i-n)*M,t.lineTo(k,X),I+=w}t.stroke()}function VM(e){let{stretch:t=1,size:n=80,thickness:i=n/2,cap:r="butt",inset:s=3,playheadColor:u="#ffffff",playheadLength:o=.02,playheadThickness:c=i,padding:h=0,steady:d=1,activeColor:g=gn().foreground,inactiveColor:m=gn().gutterForeground,colorizeInactive:M=0,fade:C=!0,ctx:P,time:w,haps:I,drawTime:k,id:X}=e;X&&(I=I.filter(O=>O.hasTag(X)));const[_,S]=[P.canvas.width,P.canvas.height];P.clearRect(0,0,_*2,S*2);const[x,N]=[_/2,S/2],V={margin:n/t,cx:x,cy:N,stretch:t,cap:r,thickness:i},H={...V,thickness:c,from:s-o,to:s,color:u},[Z]=k,ee=d*w;I.forEach(O=>{const z=O.whole.begin<=w&&O.endClipped>w,te=O.whole.begin-w+s,Ae=O.endClipped-w+s-h,pe=O.value?.color||g,fe=M||z?pe:m,se=C?1-Math.abs((O.whole.begin-w)/Z):1;Ky({ctx:P,...V,from:te,to:Ae,rotate:ee,color:fe,fromOpacity:se,toOpacity:se})}),Ky({ctx:P,...H,rotate:ee})}j.prototype.spiral=function(e={}){return this.onPaint((t,n,i,r)=>VM({ctx:t,time:n,haps:i,drawTime:r,...e}))};const TM=xn(36),Hy=(e,t,n,i)=>{i=i*Math.PI*2;const r=Math.sin(i)*n+e,s=Math.cos(i)*n+t;return[r,s]},Jy=(e,t)=>.5-Math.log2(e/t)%1;function LM({haps:e,ctx:t,id:n,hapcircles:i=1,circle:r=0,edo:s=12,root:u=TM,thickness:o=3,hapRadius:c=6,mode:h="flake",margin:d=10}={}){const g=h==="polygon",m=h==="flake",M=t.canvas.width,C=t.canvas.height;t.clearRect(0,0,M,C);const P=gn().foreground,I=Math.min(M,C)/2-o/2-c-d,k=M/2,X=C/2;n&&(e=e.filter(S=>S.hasTag(n))),t.strokeStyle=P,t.fillStyle=P,t.globalAlpha=1,t.lineWidth=o,r&&(t.beginPath(),t.arc(k,X,I,0,2*Math.PI),t.stroke()),s&&(Array.from({length:s},(S,x)=>{const N=Jy(u*Math.pow(2,x/s),u),[V,H]=Hy(k,X,I,N);t.beginPath(),t.arc(V,H,c,0,2*Math.PI),t.fill()}),t.stroke());let _=[];t.lineWidth=c,e.forEach(S=>{let x;try{x=iu(S)}catch{return}const N=Jy(x,u),[V,H]=Hy(k,X,I,N),Z=S.value.color||P;t.strokeStyle=Z,t.fillStyle=Z;const{velocity:ee=1,gain:O=1}=S.value||{},z=ee*O;t.globalAlpha=z,_.push([V,H,N,Z,z]),t.beginPath(),i&&(t.moveTo(V+c,H),t.arc(V,H,c,0,2*Math.PI),t.fill()),m&&(t.moveTo(k,X),t.lineTo(V,H)),t.stroke()}),t.strokeStyle=P,t.globalAlpha=1,g&&_.length&&(_=_.sort((S,x)=>S[2]-x[2]),t.beginPath(),t.moveTo(_[0][0],_[0][1]),_.forEach(([S,x,N,V,H])=>{t.strokeStyle=V,t.globalAlpha=H,t.lineTo(S,x)}),t.lineTo(_[0][0],_[0][1]),t.stroke())}j.prototype.pitchwheel=function(e={}){let{ctx:t=Yn(),id:n=1}=e;return this.tag(n).onPaint((i,r,s)=>LM({...e,time:r,ctx:t,haps:s.filter(u=>u.isActive(r)),id:n}))};function yh(e,{align:t=!0,color:n="white",thickness:i=3,scale:r=.25,pos:s=.75,trigger:u=0,ctx:o=Yn(),id:c=1}={}){o.lineWidth=i,o.strokeStyle=n;let h=o.canvas;if(!e){o.beginPath();let P=s*h.height;o.moveTo(0,P),o.lineTo(h.width,P),o.stroke();return}const d=Ui("time",c);o.beginPath();const g=e.frequencyBinCount;let m=t?Array.from(d).findIndex((P,w,I)=>w&&I[w-1]>-u&&P<=-u):0;m=Math.max(m,0);const M=h.width*1/g;let C=0;for(let P=m;P<g;P++){const w=d[P]+1,I=(s-r*(w-1))*h.height;P===0?o.moveTo(C,I):o.lineTo(C,I),C+=M}o.stroke()}function bh(e,{color:t="white",scale:n=.25,pos:i=.75,lean:r=.5,min:s=-150,max:u=0,ctx:o=Yn(),id:c=1}={}){if(!e){o.beginPath();let C=i*d.height;o.moveTo(0,C),o.lineTo(d.width,C),o.stroke();return}const h=Ui("frequency",c),d=o.canvas;o.fillStyle=t;const g=e.frequencyBinCount,m=d.width*1/g;let M=0;for(let C=0;C<g;C++){const w=Ti((h[C]-s)/(u-s),0,1)*n,I=w*d.height,k=(i-w*r)*d.height;o.fillRect(M,k,Math.max(m,1),I),M+=m}}function Uy(e=0,t="0,0,0",n=Yn()){e?(n.fillStyle=`rgba(${t},${1-e})`,n.fillRect(0,0,n.canvas.width,n.canvas.height)):n.clearRect(0,0,n.canvas.width,n.canvas.height)}j.prototype.fscope=function(e={}){let t=e.id??1;return this.analyze(t).draw(()=>{Uy(e.smear,"0,0,0",e.ctx),a.analysers[t]&&bh(a.analysers[t],e)},{id:t})},j.prototype.tscope=function(e={}){let t=e.id??1;return this.analyze(t).draw(n=>{e.color=n[0]?.value?.color||gn().foreground,e.color,Uy(e.smear,"0,0,0",e.ctx),yh(a.analysers[t],e)},{id:t})},j.prototype.scope=j.prototype.tscope;let Yy={};j.prototype.spectrum=function(e={}){let t=e.id??1;return this.analyze(t).draw(n=>{e.color=n[0]?.value?.color||Yy[t]||gn().foreground,Yy[t]=e.color,RM(a.analysers[t],e)},{id:t})},j.prototype.scope=j.prototype.tscope;const Ah=new Map;function RM(e,{thickness:t=3,speed:n=1,min:i=-80,max:r=0,ctx:s=Yn(),id:u=1,color:o}={}){if(s.lineWidth=t,s.strokeStyle=o,!e)return;const c=n,h=Ui("frequency",u),d=s.canvas;s.fillStyle=o;const g=e.frequencyBinCount;let m=Ah.get(u)||s.getImageData(0,0,d.width,d.height);Ah.set(u,m),s.clearRect(0,0,s.canvas.width,s.canvas.height),s.putImageData(m,-c,0);let M=d.width-n;for(let C=0;C<g;C++){const P=Ti((h[C]-i)/(r-i),0,1);s.globalAlpha=P;const w=Math.log(C+1)/Math.log(g)*d.height;s.fillRect(M,d.height-w,c,2)}Ah.set(u,s.getImageData(0,0,d.width,d.height))}const GM=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_MAX_POLYPHONY:Yr,aliasBank:wy,get analysers(){return a.analysers},get analysersData(){return a.analysersData},applyFM:Ki,applyGainCurve:In,connectToDestination:Ji,createFilter:$i,dough:Xy,doughTrigger:dh,drawFrequencyScope:bh,drawTimeScope:yh,drywet:Tf,dspWorklet:hh,gainNode:Rt,getADSRValues:Xt,getAnalyserById:sh,getAnalyzerData:Ui,getAudioContext:De,getAudioContextCurrentTime:ky,getAudioDevices:Jf,getCachedBuffer:gy,getCompressor:Vf,getDefaultValue:Ke,getLfo:ns,getLoadedBuffer:yy,getOscillator:lh,getParamADSR:Gt,getPitchEnvelope:ci,getSampleBuffer:Xf,getSampleBufferSource:Zf,getSampleInfo:Gf,getSound:Hi,getVibratoOscillator:li,getWorklet:Ft,getZZFX:fh,initAudio:th,initAudioOnFirstClick:ih,initializeAudioOutput:rh,loadBuffer:Ur,logger:Dt,onTriggerSample:jf,panic:Iy,processSampleMap:zf,registerSamplesPrefix:Cy,registerSound:mn,registerSynthSounds:oh,registerZZFXSounds:Ry,resetDefaultValues:Yf,resetGlobalEffects:Ny,resetLoadedSounds:xy,reverseBuffer:Wf,samples:Of,setDefaultAudioContext:Qf,setDefaultValue:Qr,setDefaultValues:By,setGainCurve:Ey,setLogger:Nf,setMaxPolyphony:qf,setMultiChannelOrbits:Kf,setVersionDefaults:_y,soundMap:Un,superdough:Qi,superdoughTrigger:Ty,waveformN:ch,webAudioTimeout:qi,webaudioOutput:ph,webaudioOutputTrigger:mh,webaudioRepl:gh},Symbol.toStringTag,{value:"Module"}));function XM(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function Vn(e,t,n,i){var r=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(r,Vn.prototype),r.expected=t,r.found=n,r.location=i,r.name="SyntaxError",r}XM(Vn,Error);function Mh(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}Vn.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,i;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,s=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(r):r,u=this.location.source+":"+s.line+":"+s.column;if(n){var o=this.location.end,c=Mh("",s.line.toString().length," "),h=n[r.line-1],d=r.line===o.line?o.column:h.length+1,g=d-r.column||1;t+=`
 --> `+u+`
`+c+` |
`+s.line+" | "+h+`
`+c+" | "+Mh("",r.column-1," ")+Mh("",g,"^")}else t+=`
 at `+u}return t},Vn.buildMessage=function(e,t){var n={literal:function(h){return'"'+r(h.text)+'"'},class:function(h){var d=h.parts.map(function(g){return Array.isArray(g)?s(g[0])+"-"+s(g[1]):s(g)});return"["+(h.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(h){return h.description}};function i(h){return h.charCodeAt(0).toString(16).toUpperCase()}function r(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function s(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function u(h){return n[h.type](h)}function o(h){var d=h.map(u),g,m;if(d.sort(),d.length>0){for(g=1,m=1;g<d.length;g++)d[g-1]!==d[g]&&(d[m]=d[g],m++);d.length=m}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function c(h){return h?'"'+r(h)+'"':"end of input"}return"Expected "+o(e)+" but "+c(t)+" found."};function Ch(e,t){t=t!==void 0?t:{};var n={},i=t.grammarSource,r={start:pA},s=pA,u=".",o="-",c="0",h=",",d="|",g="[",m="]",M="{",C="}",P="%",w="<",I=">",k="!",X="(",_=")",S="/",x="*",N="?",V=":",H="..",Z="^",ee="struct",O="target",z="euclid",te="slow",Ae="rotL",pe="rotR",fe="fast",se="scale",Ve="//",ce="cat",ye="$",q="setcps",Ee="setbpm",ut="hush",He=/^[1-9]/,Me=/^[eE]/,Ye=/^[+\-]/,Be=/^[0-9]/,Je=/^[ \n\r\t\xA0]/,kt=/^["']/,ft=/^[#\--.0-9A-Z\^-_a-z~\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Te=/^[@_]/,Cn=/^[^\n]/,ke=R1("number"),un=we(".",!1),$t=wn([["1","9"]],!1,!1),qt=wn(["e","E"],!1,!1),vn=wn(["+","-"],!1,!1),ui=we("-",!1),an=we("0",!1),Pn=wn([["0","9"]],!1,!1),on=R1("whitespace"),vt=wn([" ",`
`,"\r","	"," "],!1,!1),Wn=we(",",!1),be=we("|",!1),We=wn(['"',"'"],!1,!1),ae=R1('a letter, a number, "-", "#", ".", "^", "_"'),Oe=wn(["#",["-","."],["0","9"],["A","Z"],["^","_"],["a","z"],"~","ª","µ","º",["À","Ö"],["Ø","ö"],["ø","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ",["Ͱ","ʹ"],["Ͷ","ͷ"],["ͺ","ͽ"],"Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ρ"],["Σ","ϵ"],["Ϸ","ҁ"],["Ҋ","ԯ"],["Ա","Ֆ"],"ՙ",["ՠ","ֈ"],["א","ת"],["ׯ","ײ"],["ؠ","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۥ","ۦ"],["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ߴ","ߵ"],"ߺ",["ࠀ","ࠕ"],"ࠚ","ࠤ","ࠨ",["ࡀ","ࡘ"],["ࡠ","ࡪ"],["ࢠ","ࢴ"],["ࢶ","ࢽ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॱ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],"ৼ",["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],"ಀ",["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൔ","ൖ"],["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๆ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],"ໆ",["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["ა","ჺ"],["ჼ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["Ꭰ","Ᏽ"],["ᏸ","ᏽ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛮ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៗ","ៜ",["ᠠ","ᡸ"],["ᢀ","ᢄ"],["ᢇ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],"ᪧ",["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱽ"],["ᲀ","ᲈ"],["Ა","Ჺ"],["Ჽ","Ჿ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ᴀ","ᶿ"],["Ḁ","ἕ"],["Ἐ","Ἕ"],["ἠ","ὅ"],["Ὀ","Ὅ"],["ὐ","ὗ"],"Ὑ","Ὓ","Ὕ",["Ὗ","ώ"],["ᾀ","ᾴ"],["ᾶ","ᾼ"],"ι",["ῂ","ῄ"],["ῆ","ῌ"],["ῐ","ΐ"],["ῖ","Ί"],["ῠ","Ῥ"],["ῲ","ῴ"],["ῶ","ῼ"],"ⁱ","ⁿ",["ₐ","ₜ"],"ℂ","ℇ",["ℊ","ℓ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℯ","ℹ"],["ℼ","ℿ"],["ⅅ","ⅉ"],"ⅎ",["Ⅰ","ↈ"],["Ⰰ","Ⱞ"],["ⰰ","ⱞ"],["Ⱡ","ⳤ"],["Ⳬ","ⳮ"],["Ⳳ","ⳳ"],["ⴀ","ⴥ"],"ⴧ","ⴭ",["ⴰ","ⵧ"],"ⵯ",["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"ⸯ",["々","〇"],["〡","〩"],["〱","〵"],["〸","〼"],["ぁ","ゖ"],["ゝ","ゟ"],["ァ","ヺ"],["ー","ヿ"],["ㄅ","ㄯ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿯"],["ꀀ","ꒌ"],["ꓐ","ꓽ"],["ꔀ","ꘌ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],["Ꙁ","ꙮ"],["ꙿ","ꚝ"],["ꚠ","ꛯ"],["ꜗ","ꜟ"],["Ꜣ","ꞈ"],["Ꞌ","ꞹ"],["ꟷ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ",["ꣽ","ꣾ"],["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],"ꧏ",["ꧠ","ꧤ"],["ꧦ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫝ"],["ꫠ","ꫪ"],["ꫲ","ꫴ"],["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꬰ","ꭚ"],["ꭜ","ꭥ"],["ꭰ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["Ａ","Ｚ"],["ａ","ｚ"],["ｦ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),Ie=we("[",!1),zn=we("]",!1),Ar=we("{",!1),gt=we("}",!1),Kt=we("%",!1),Pt=we("<",!1),he=we(">",!1),Dn=wn(["@","_"],!1,!1),Fn=we("!",!1),Re=we("(",!1),tt=we(")",!1),cn=we("/",!1),Ce=we("*",!1),It=we("?",!1),yt=we(":",!1),bt=we("..",!1),l=we("^",!1),y=we("struct",!1),p=we("target",!1),b=we("euclid",!1),D=we("slow",!1),T=we("rotL",!1),G=we("rotR",!1),W=we("fast",!1),U=we("scale",!1),ve=we("//",!1),je=wn([`
`],!0,!1),En=we("cat",!1),On=we("$",!1),Os=we("setcps",!1),js=we("setbpm",!1),Nt=we("hush",!1),_9=function(){return parseFloat(p7())},x9=function(f){const v=f.join("");return v==="."||v==="_"},k9=function(f){return new rF(f.join(""))},I9=function(f){return f},N9=function(f,v){return f.arguments_.stepsPerCycle=v,f},V9=function(f){return f},T9=function(f){return f.arguments_.alignment="polymeter_slowcat",f},L9=function(f){return v=>v.options_.weight=(v.options_.weight??1)+(f??2)-1},R9=function(f){return v=>{const E=(v.options_.reps??1)+(f??2)-1;v.options_.reps=E,v.options_.ops=v.options_.ops.filter(R=>R.type_!=="replicate"),v.options_.ops.push({type_:"replicate",arguments_:{amount:E}}),v.options_.weight=E}},G9=function(f,v,E){return R=>R.options_.ops.push({type_:"bjorklund",arguments_:{pulse:f,step:v,rotation:E}})},X9=function(f){return v=>v.options_.ops.push({type_:"stretch",arguments_:{amount:f,type:"slow"}})},Z9=function(f){return v=>v.options_.ops.push({type_:"stretch",arguments_:{amount:f,type:"fast"}})},W9=function(f){return v=>v.options_.ops.push({type_:"degradeBy",arguments_:{amount:f,seed:W1++}})},z9=function(f){return v=>v.options_.ops.push({type_:"tail",arguments_:{element:f}})},O9=function(f){return v=>v.options_.ops.push({type_:"range",arguments_:{element:f}})},j9=function(f,v){const E=new uF(f,{ops:[],weight:1,reps:1});for(const R of v)R(E);return E},$9=function(f,v){return new Hs(v,"fastcat",void 0,!!f)},q9=function(f){return{alignment:"stack",list:f}},K9=function(f){return{alignment:"rand",list:f,seed:W1++}},H9=function(f){return{alignment:"feet",list:f,seed:W1++}},J9=function(f,v){return v&&v.list.length>0?new Hs([f,...v.list],v.alignment,v.seed):f},U9=function(f,v){return new Hs(v?[f,...v.list]:[f],"polymeter")},Y9=function(f){return f},Q9=function(f){return{name:"struct",args:{mini:f}}},e7=function(f){return{name:"target",args:{name:f}}},t7=function(f,v,E){return{name:"bjorklund",args:{pulse:f,step:parseInt(v)}}},n7=function(f){return{name:"stretch",args:{amount:f}}},i7=function(f){return{name:"shift",args:{amount:"-"+f}}},r7=function(f){return{name:"shift",args:{amount:f}}},s7=function(f){return{name:"stretch",args:{amount:"1/"+f}}},u7=function(f){return{name:"scale",args:{scale:f.join("")}}},hA=function(f,v){return v},a7=function(f,v){return v.unshift(f),new Hs(v,"slowcat")},o7=function(f){return f},c7=function(f,v){return new sF(f.name,f.args,v)},l7=function(f){return f},f7=function(f){return f},h7=function(f){return new Z1("setcps",{value:f})},d7=function(f){return new Z1("setcps",{value:f/120/2})},m7=function(){return new Z1("hush")},F=t.peg$currPos|0,de=F,Si=[{line:1,column:1}],Ht=F,$s=t.peg$maxFailExpected||[],ne=t.peg$silentFails|0,Mr;if(t.startRule){if(!(t.startRule in r))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');s=r[t.startRule]}function p7(){return e.substring(de,F)}function dA(){return G1(de,F)}function we(f,v){return{type:"literal",text:f,ignoreCase:v}}function wn(f,v,E){return{type:"class",parts:f,inverted:v,ignoreCase:E}}function g7(){return{type:"end"}}function R1(f){return{type:"other",description:f}}function mA(f){var v=Si[f],E;if(v)return v;if(f>=Si.length)E=Si.length-1;else for(E=f;!Si[--E];);for(v=Si[E],v={line:v.line,column:v.column};E<f;)e.charCodeAt(E)===10?(v.line++,v.column=1):v.column++,E++;return Si[f]=v,v}function G1(f,v,E){var R=mA(f),ie=mA(v),Ze={source:i,start:{offset:f,line:R.line,column:R.column},end:{offset:v,line:ie.line,column:ie.column}};return Ze}function ue(f){F<Ht||(F>Ht&&(Ht=F,$s=[]),$s.push(f))}function y7(f,v,E){return new Vn(Vn.buildMessage(f,v),f,v,E)}function pA(){var f;return f=iF(),f}function Sn(){var f,v;return ne++,f=F,P7(),v=qs(),v!==n?(v7(),C7(),de=f,f=_9()):(F=f,f=n),ne--,f===n&&ne===0&&ue(ke),f}function b7(){var f;return e.charCodeAt(F)===46?(f=u,F++):(f=n,ne===0&&ue(un)),f}function A7(){var f;return f=e.charAt(F),He.test(f)?F++:(f=n,ne===0&&ue($t)),f}function M7(){var f;return f=e.charAt(F),Me.test(f)?F++:(f=n,ne===0&&ue(qt)),f}function C7(){var f,v,E,R,ie;if(f=F,v=M7(),v!==n){if(E=e.charAt(F),Ye.test(E)?F++:(E=n,ne===0&&ue(vn)),E===n&&(E=null),R=[],ie=Bi(),ie!==n)for(;ie!==n;)R.push(ie),ie=Bi();else R=n;R!==n?(v=[v,E,R],f=v):(F=f,f=n)}else F=f,f=n;return f}function v7(){var f,v,E,R;if(f=F,v=b7(),v!==n){if(E=[],R=Bi(),R!==n)for(;R!==n;)E.push(R),R=Bi();else E=n;E!==n?(v=[v,E],f=v):(F=f,f=n)}else F=f,f=n;return f}function qs(){var f,v,E,R;if(f=D7(),f===n)if(f=F,v=A7(),v!==n){for(E=[],R=Bi();R!==n;)E.push(R),R=Bi();v=[v,E],f=v}else F=f,f=n;return f}function P7(){var f;return e.charCodeAt(F)===45?(f=o,F++):(f=n,ne===0&&ue(ui)),f}function D7(){var f;return e.charCodeAt(F)===48?(f=c,F++):(f=n,ne===0&&ue(an)),f}function Bi(){var f;return f=e.charAt(F),Be.test(f)?F++:(f=n,ne===0&&ue(Pn)),f}function oe(){var f,v;for(ne++,f=[],v=e.charAt(F),Je.test(v)?F++:(v=n,ne===0&&ue(vt));v!==n;)f.push(v),v=e.charAt(F),Je.test(v)?F++:(v=n,ne===0&&ue(vt));return ne--,v=n,ne===0&&ue(on),f}function _i(){var f,v,E,R;return f=F,v=oe(),e.charCodeAt(F)===44?(E=h,F++):(E=n,ne===0&&ue(Wn)),E!==n?(R=oe(),v=[v,E,R],f=v):(F=f,f=n),f}function gA(){var f,v,E,R;return f=F,v=oe(),e.charCodeAt(F)===124?(E=d,F++):(E=n,ne===0&&ue(be)),E!==n?(R=oe(),v=[v,E,R],f=v):(F=f,f=n),f}function yA(){var f,v,E,R;return f=F,v=oe(),e.charCodeAt(F)===46?(E=u,F++):(E=n,ne===0&&ue(un)),E!==n?(R=oe(),v=[v,E,R],f=v):(F=f,f=n),f}function xi(){var f;return f=e.charAt(F),kt.test(f)?F++:(f=n,ne===0&&ue(We)),f}function Ks(){var f;return ne++,f=e.charAt(F),ft.test(f)?F++:(f=n,ne===0&&ue(Oe)),ne--,f===n&&ne===0&&ue(ae),f}function bA(){var f,v,E,R;if(f=F,oe(),v=[],E=Ks(),E!==n)for(;E!==n;)v.push(E),E=Ks();else v=n;return v!==n?(E=oe(),de=F,R=x9(v),R?R=n:R=void 0,R!==n?(de=f,f=k9(v)):(F=f,f=n)):(F=f,f=n),f}function F7(){var f,v,E,R;return f=F,oe(),e.charCodeAt(F)===91?(v=g,F++):(v=n,ne===0&&ue(Ie)),v!==n?(oe(),E=CA(),E!==n?(oe(),e.charCodeAt(F)===93?(R=m,F++):(R=n,ne===0&&ue(zn)),R!==n?(oe(),de=f,f=I9(E)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function E7(){var f,v,E,R,ie;return f=F,oe(),e.charCodeAt(F)===123?(v=M,F++):(v=n,ne===0&&ue(Ar)),v!==n?(oe(),E=vA(),E!==n?(oe(),e.charCodeAt(F)===125?(R=C,F++):(R=n,ne===0&&ue(gt)),R!==n?(ie=w7(),ie===n&&(ie=null),oe(),de=f,f=N9(E,ie)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function w7(){var f,v,E;return f=F,e.charCodeAt(F)===37?(v=P,F++):(v=n,ne===0&&ue(Kt)),v!==n?(E=ki(),E!==n?(de=f,f=V9(E)):(F=f,f=n)):(F=f,f=n),f}function S7(){var f,v,E,R;return f=F,oe(),e.charCodeAt(F)===60?(v=w,F++):(v=n,ne===0&&ue(Pt)),v!==n?(oe(),E=vA(),E!==n?(oe(),e.charCodeAt(F)===62?(R=I,F++):(R=n,ne===0&&ue(he)),R!==n?(oe(),de=f,f=T9(E)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function ki(){var f;return f=bA(),f===n&&(f=F7(),f===n&&(f=E7(),f===n&&(f=S7()))),f}function AA(){var f;return f=B7(),f===n&&(f=x7(),f===n&&(f=k7(),f===n&&(f=I7(),f===n&&(f=_7(),f===n&&(f=N7(),f===n&&(f=V7(),f===n&&(f=T7()))))))),f}function B7(){var f,v,E;return f=F,oe(),v=e.charAt(F),Te.test(v)?F++:(v=n,ne===0&&ue(Dn)),v!==n?(E=Sn(),E===n&&(E=null),de=f,f=L9(E)):(F=f,f=n),f}function _7(){var f,v,E;return f=F,oe(),e.charCodeAt(F)===33?(v=k,F++):(v=n,ne===0&&ue(Fn)),v!==n?(E=Sn(),E===n&&(E=null),de=f,f=R9(E)):(F=f,f=n),f}function x7(){var f,v,E,R,ie,Ze,Jt;return f=F,e.charCodeAt(F)===40?(v=X,F++):(v=n,ne===0&&ue(Re)),v!==n?(oe(),E=Cr(),E!==n?(oe(),R=_i(),R!==n?(oe(),ie=Cr(),ie!==n?(oe(),_i(),oe(),Ze=Cr(),Ze===n&&(Ze=null),oe(),e.charCodeAt(F)===41?(Jt=_,F++):(Jt=n,ne===0&&ue(tt)),Jt!==n?(de=f,f=G9(E,ie,Ze)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function k7(){var f,v,E;return f=F,e.charCodeAt(F)===47?(v=S,F++):(v=n,ne===0&&ue(cn)),v!==n?(E=ki(),E!==n?(de=f,f=X9(E)):(F=f,f=n)):(F=f,f=n),f}function I7(){var f,v,E;return f=F,e.charCodeAt(F)===42?(v=x,F++):(v=n,ne===0&&ue(Ce)),v!==n?(E=ki(),E!==n?(de=f,f=Z9(E)):(F=f,f=n)):(F=f,f=n),f}function N7(){var f,v,E;return f=F,e.charCodeAt(F)===63?(v=N,F++):(v=n,ne===0&&ue(It)),v!==n?(E=Sn(),E===n&&(E=null),de=f,f=W9(E)):(F=f,f=n),f}function V7(){var f,v,E;return f=F,e.charCodeAt(F)===58?(v=V,F++):(v=n,ne===0&&ue(yt)),v!==n?(E=ki(),E!==n?(de=f,f=z9(E)):(F=f,f=n)):(F=f,f=n),f}function T7(){var f,v,E;return f=F,e.substr(F,2)===H?(v=H,F+=2):(v=n,ne===0&&ue(bt)),v!==n?(E=ki(),E!==n?(de=f,f=O9(E)):(F=f,f=n)):(F=f,f=n),f}function Cr(){var f,v,E,R;if(f=F,v=ki(),v!==n){for(E=[],R=AA();R!==n;)E.push(R),R=AA();de=f,f=j9(v,E)}else F=f,f=n;return f}function jn(){var f,v,E,R;if(f=F,e.charCodeAt(F)===94?(v=Z,F++):(v=n,ne===0&&ue(l)),v===n&&(v=null),E=[],R=Cr(),R!==n)for(;R!==n;)E.push(R),R=Cr();else E=n;return E!==n?(de=f,f=$9(v,E)):(F=f,f=n),f}function MA(){var f,v,E,R,ie;if(f=F,v=[],E=F,R=_i(),R!==n?(ie=jn(),ie!==n?E=ie:(F=E,E=n)):(F=E,E=n),E!==n)for(;E!==n;)v.push(E),E=F,R=_i(),R!==n?(ie=jn(),ie!==n?E=ie:(F=E,E=n)):(F=E,E=n);else v=n;return v!==n&&(de=f,v=q9(v)),f=v,f}function L7(){var f,v,E,R,ie;if(f=F,v=[],E=F,R=gA(),R!==n?(ie=jn(),ie!==n?E=ie:(F=E,E=n)):(F=E,E=n),E!==n)for(;E!==n;)v.push(E),E=F,R=gA(),R!==n?(ie=jn(),ie!==n?E=ie:(F=E,E=n)):(F=E,E=n);else v=n;return v!==n&&(de=f,v=K9(v)),f=v,f}function R7(){var f,v,E,R,ie;if(f=F,v=[],E=F,R=yA(),R!==n?(ie=jn(),ie!==n?E=ie:(F=E,E=n)):(F=E,E=n),E!==n)for(;E!==n;)v.push(E),E=F,R=yA(),R!==n?(ie=jn(),ie!==n?E=ie:(F=E,E=n)):(F=E,E=n);else v=n;return v!==n&&(de=f,v=H9(v)),f=v,f}function CA(){var f,v,E;return f=F,v=jn(),v!==n?(E=MA(),E===n&&(E=L7(),E===n&&(E=R7())),E===n&&(E=null),de=f,f=J9(v,E)):(F=f,f=n),f}function vA(){var f,v,E;return f=F,v=jn(),v!==n?(E=MA(),E===n&&(E=null),de=f,f=U9(v,E)):(F=f,f=n),f}function G7(){var f,v,E,R;return f=F,oe(),v=xi(),v!==n?(oe(),E=CA(),E!==n?(oe(),R=xi(),R!==n?(de=f,f=Y9(E)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function X7(){var f;return f=K7(),f===n&&(f=O7(),f===n&&(f=q7(),f===n&&(f=W7(),f===n&&(f=z7(),f===n&&(f=Z7(),f===n&&(f=$7(),f===n&&(f=j7()))))))),f}function Z7(){var f,v,E;return f=F,e.substr(F,6)===ee?(v=ee,F+=6):(v=n,ne===0&&ue(y)),v!==n?(oe(),E=Ii(),E!==n?(de=f,f=Q9(E)):(F=f,f=n)):(F=f,f=n),f}function W7(){var f,v,E,R,ie;return f=F,e.substr(F,6)===O?(v=O,F+=6):(v=n,ne===0&&ue(p)),v!==n?(oe(),E=xi(),E!==n?(R=bA(),R!==n?(ie=xi(),ie!==n?(de=f,f=e7(R)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function z7(){var f,v,E,R;return f=F,e.substr(F,6)===z?(v=z,F+=6):(v=n,ne===0&&ue(b)),v!==n?(oe(),E=qs(),E!==n?(oe(),R=qs(),R!==n?(oe(),qs(),de=f,f=t7(E,R)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n),f}function O7(){var f,v,E;return f=F,e.substr(F,4)===te?(v=te,F+=4):(v=n,ne===0&&ue(D)),v!==n?(oe(),E=Sn(),E!==n?(de=f,f=n7(E)):(F=f,f=n)):(F=f,f=n),f}function j7(){var f,v,E;return f=F,e.substr(F,4)===Ae?(v=Ae,F+=4):(v=n,ne===0&&ue(T)),v!==n?(oe(),E=Sn(),E!==n?(de=f,f=i7(E)):(F=f,f=n)):(F=f,f=n),f}function $7(){var f,v,E;return f=F,e.substr(F,4)===pe?(v=pe,F+=4):(v=n,ne===0&&ue(G)),v!==n?(oe(),E=Sn(),E!==n?(de=f,f=r7(E)):(F=f,f=n)):(F=f,f=n),f}function q7(){var f,v,E;return f=F,e.substr(F,4)===fe?(v=fe,F+=4):(v=n,ne===0&&ue(W)),v!==n?(oe(),E=Sn(),E!==n?(de=f,f=s7(E)):(F=f,f=n)):(F=f,f=n),f}function K7(){var f,v,E,R,ie;if(f=F,e.substr(F,5)===se?(v=se,F+=5):(v=n,ne===0&&ue(U)),v!==n)if(oe(),E=xi(),E!==n){if(R=[],ie=Ks(),ie!==n)for(;ie!==n;)R.push(ie),ie=Ks();else R=n;R!==n?(ie=xi(),ie!==n?(de=f,f=u7(R)):(F=f,f=n)):(F=f,f=n)}else F=f,f=n;else F=f,f=n;return f}function X1(){var f,v,E,R;if(f=F,e.substr(F,2)===Ve?(v=Ve,F+=2):(v=n,ne===0&&ue(ve)),v!==n){for(E=[],R=e.charAt(F),Cn.test(R)?F++:(R=n,ne===0&&ue(je));R!==n;)E.push(R),R=e.charAt(F),Cn.test(R)?F++:(R=n,ne===0&&ue(je));v=[v,E],f=v}else F=f,f=n;return f}function H7(){var f,v,E,R,ie,Ze,Jt,Ni;if(f=F,e.substr(F,3)===ce?(v=ce,F+=3):(v=n,ne===0&&ue(En)),v!==n)if(oe(),e.charCodeAt(F)===91?(E=g,F++):(E=n,ne===0&&ue(Ie)),E!==n)if(oe(),R=Ii(),R!==n){for(ie=[],Ze=F,Jt=_i(),Jt!==n?(Ni=Ii(),Ni!==n?(de=Ze,Ze=hA(R,Ni)):(F=Ze,Ze=n)):(F=Ze,Ze=n);Ze!==n;)ie.push(Ze),Ze=F,Jt=_i(),Jt!==n?(Ni=Ii(),Ni!==n?(de=Ze,Ze=hA(R,Ni)):(F=Ze,Ze=n)):(F=Ze,Ze=n);Ze=oe(),e.charCodeAt(F)===93?(Jt=m,F++):(Jt=n,ne===0&&ue(zn)),Jt!==n?(de=f,f=a7(R,ie)):(F=f,f=n)}else F=f,f=n;else F=f,f=n;else F=f,f=n;return f}function J7(){var f;return f=H7(),f===n&&(f=G7()),f}function Ii(){var f,v,E,R,ie;if(f=F,v=J7(),v!==n){for(oe(),E=[],R=X1();R!==n;)E.push(R),R=X1();de=f,f=o7(v)}else F=f,f=n;return f===n&&(f=F,v=X7(),v!==n?(oe(),e.charCodeAt(F)===36?(E=ye,F++):(E=n,ne===0&&ue(On)),E!==n?(R=oe(),ie=Ii(),ie!==n?(de=f,f=c7(v,ie)):(F=f,f=n)):(F=f,f=n)):(F=f,f=n)),f}function U7(){var f,v;return f=F,v=Ii(),v!==n&&(de=f,v=l7(v)),f=v,f===n&&(f=X1()),f}function Y7(){var f;return f=U7(),f}function Q7(){var f,v;return f=F,oe(),v=eF(),v===n&&(v=tF(),v===n&&(v=nF())),v!==n?(oe(),de=f,f=f7(v)):(F=f,f=n),f}function eF(){var f,v,E;return f=F,e.substr(F,6)===q?(v=q,F+=6):(v=n,ne===0&&ue(Os)),v!==n?(oe(),E=Sn(),E!==n?(de=f,f=h7(E)):(F=f,f=n)):(F=f,f=n),f}function tF(){var f,v,E;return f=F,e.substr(F,6)===Ee?(v=Ee,F+=6):(v=n,ne===0&&ue(js)),v!==n?(oe(),E=Sn(),E!==n?(de=f,f=d7(E)):(F=f,f=n)):(F=f,f=n),f}function nF(){var f,v;return f=F,e.substr(F,4)===ut?(v=ut,F+=4):(v=n,ne===0&&ue(Nt)),v!==n&&(de=f,v=m7()),f=v,f}function iF(){var f;return f=Y7(),f===n&&(f=Q7()),f}var rF=function(f){this.type_="atom",this.source_=f,this.location_=dA()},Hs=function(f,v,E,R){this.type_="pattern",this.arguments_={alignment:v,_steps:R},E!==void 0&&(this.arguments_.seed=E),this.source_=f},sF=function(f,v,E){this.type_=f,this.arguments_=v,this.source_=E},uF=function(f,v){this.type_="element",this.source_=f,this.options_=v,this.location_=dA()},Z1=function(f,v){this.type_="command",this.name_=f,this.options_=v},W1=0;if(Mr=s(),t.peg$library)return{peg$result:Mr,peg$currPos:F,peg$FAILED:n,peg$maxFailExpected:$s,peg$maxFailPos:Ht};if(Mr!==n&&F===e.length)return Mr;throw Mr!==n&&F<e.length&&ue(g7()),y7($s,Ht<e.length?e.charAt(Ht):null,Ht<e.length?G1(Ht,Ht+1):G1(Ht,Ht))}const Qy=["start"],e2=3e-4,ZM=(e,t)=>(n,i)=>{const u=e.source_[i].options_?.ops,o=n.__steps_source;if(u)for(const c of u)switch(c.type_){case"stretch":{const h=["fast","slow"],{type:d,amount:g}=c.arguments_;if(!h.includes(d))throw new Error(`mini: stretch: type must be one of ${h.join("|")} but got ${d}`);n=K(n)[d](t(g));break}case"replicate":{const{amount:h}=c.arguments_;n=K(n),n=n._repeatCycles(h)._fast(h);break}case"bjorklund":{c.arguments_.rotation?n=n.euclidRot(t(c.arguments_.pulse),t(c.arguments_.step),t(c.arguments_.rotation)):n=n.euclid(t(c.arguments_.pulse),t(c.arguments_.step));break}case"degradeBy":{n=K(n)._degradeByWith(ct.early(e2*c.arguments_.seed),c.arguments_.amount??.5);break}case"tail":{const h=t(c.arguments_.element);n=n.fmap(d=>g=>Array.isArray(d)?[...d,g]:[d,g]).appLeft(h);break}case"range":{const h=t(c.arguments_.element);n=K(n);const d=(m,M,C=1)=>Array.from({length:Math.abs(M-m)/C+1},(P,w)=>m<M?m+w*C:m-w*C);n=((m,M)=>m.squeezeBind(C=>M.bind(P=>at(...d(C,P)))))(n,h);break}default:console.warn(`operator "${c.type_}" not implemented`)}return n.__steps_source=n.__steps_source||o,n};function Qn(e,t,n,i=0){n?.(e);const r=s=>Qn(s,t,n,i);switch(e.type_){case"pattern":{const s=e.source_.map(h=>r(h)).map(ZM(e,r)),u=e.arguments_.alignment,o=s.filter(h=>h.__steps_source);let c;switch(u){case"stack":{c=Ne(...s),o.length&&(c._steps=Tt(...o.map(h=>$(h._steps))));break}case"polymeter_slowcat":{c=Ne(...s.map(h=>h._slow(h.__weight))),o.length&&(c._steps=Tt(...o.map(h=>$(h._steps))));break}case"polymeter":{const h=e.arguments_.stepsPerCycle?r(e.arguments_.stepsPerCycle).fmap(g=>$(g)):qe($(s.length>0?s[0].__weight:1)),d=s.map(g=>g.fast(h.fmap(m=>m.div(g.__weight))));c=Ne(...d);break}case"rand":{c=jr(ct.early(e2*e.arguments_.seed).segment(1),s),o.length&&(c._steps=Tt(...o.map(h=>$(h._steps))));break}case"feet":{c=at(...s);break}default:{if(e.source_.some(d=>!!d.options_?.weight)){const d=e.source_.reduce((g,m)=>g.add(m.options_?.weight||$(1)),$(0));c=Vr(...e.source_.map((g,m)=>[g.options_?.weight||$(1),s[m]])),c.__weight=d,c._steps=d,o.length&&(c._steps=c._steps.mul(Tt(...o.map(g=>$(g._steps)))))}else c=Mt(...s),c._steps=s.length;e.arguments_._steps&&(c.__steps_source=!0)}}return o.length&&(c.__steps_source=!0),c}case"element":return r(e.source_);case"atom":{if(e.source_==="~"||e.source_==="-")return xe;if(!e.location_)return console.warn("no location for",e),e.source_;const s=isNaN(Number(e.source_))?e.source_:Number(e.source_);if(i===-1)return qe(s);const[u,o]=us(t,e,i);return qe(s).withLoc(u,o)}case"stretch":return r(e.source_).slow(r(e.arguments_.amount));default:return console.warn(`node type "${e.type_}" not implemented -> returning silence`),xe}}const us=(e,t,n=0)=>{const{start:i,end:r}=t.location_,s=e?.split("").slice(i.offset,r.offset).join(""),[u=0,o=0]=s?s.split(t.source_).map(c=>c.split("").filter(h=>h===" ").length):[];return[i.offset+u+n,r.offset-o+n]},di=(e,t=0,n=e)=>{try{return Ch(e)}catch(i){const r=[i.location.start.offset+t,i.location.end.offset+t],s=n.slice(0,r[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${s}: ${i.message}`)}},vh=(e,t,n)=>{const i=di(e,t,n);let r=[];return Qn(i,e,s=>{s.type_==="atom"&&r.push(s)},-1),r},as=(e,t=0,n)=>vh(e,t,n).map(i=>us(e,i,t)),os=(...e)=>{const t=e.map(n=>{const i=`"${n}"`,r=di(i);return Qn(r,i)});return Mt(...t)},t2=(e,t)=>{const n=`"${e}"`,i=di(n);return Qn(i,n,null,t)},n2=e=>{const t=di(e);return Qn(t,e)};function i2(e){return typeof e=="string"?os(e):K(e)}function Ph(){yu(os)}const WM=Object.freeze(Object.defineProperty({__proto__:null,StartRules:Qy,SyntaxError:Vn,getLeafLocation:us,getLeafLocations:as,getLeaves:vh,h:n2,m:t2,mini:os,mini2ast:di,miniAllStrings:Ph,minify:i2,parse:Ch,patternifyAST:Qn},Symbol.toStringTag,{value:"Module"}));var zM=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],r2=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],OM="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",s2="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Dh={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Fh="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",jM={5:Fh,"5module":Fh+" export import",6:Fh+" const class extends export import super"},$M=/^in(stanceof)?$/,qM=new RegExp("["+s2+"]"),KM=new RegExp("["+s2+OM+"]");function Eh(e,t){for(var n=65536,i=0;i<t.length;i+=2){if(n+=t[i],n>e)return!1;if(n+=t[i+1],n>=e)return!0}return!1}function yn(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&qM.test(String.fromCharCode(e)):t===!1?!1:Eh(e,r2)}function mi(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&KM.test(String.fromCharCode(e)):t===!1?!1:Eh(e,r2)||Eh(e,zM)}var Se=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Et(e,t){return new Se(e,{beforeExpr:!0,binop:t})}var wt={beforeExpr:!0},pt={startsExpr:!0},wh={};function Fe(e,t){return t===void 0&&(t={}),t.keyword=e,wh[e]=new Se(e,t)}var A={num:new Se("num",pt),regexp:new Se("regexp",pt),string:new Se("string",pt),name:new Se("name",pt),privateId:new Se("privateId",pt),eof:new Se("eof"),bracketL:new Se("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Se("]"),braceL:new Se("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Se("}"),parenL:new Se("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Se(")"),comma:new Se(",",wt),semi:new Se(";",wt),colon:new Se(":",wt),dot:new Se("."),question:new Se("?",wt),questionDot:new Se("?."),arrow:new Se("=>",wt),template:new Se("template"),invalidTemplate:new Se("invalidTemplate"),ellipsis:new Se("...",wt),backQuote:new Se("`",pt),dollarBraceL:new Se("${",{beforeExpr:!0,startsExpr:!0}),eq:new Se("=",{beforeExpr:!0,isAssign:!0}),assign:new Se("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Se("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Se("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Et("||",1),logicalAND:Et("&&",2),bitwiseOR:Et("|",3),bitwiseXOR:Et("^",4),bitwiseAND:Et("&",5),equality:Et("==/!=/===/!==",6),relational:Et("</>/<=/>=",7),bitShift:Et("<</>>/>>>",8),plusMin:new Se("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Et("%",10),star:Et("*",10),slash:Et("/",10),starstar:new Se("**",{beforeExpr:!0}),coalesce:Et("??",1),_break:Fe("break"),_case:Fe("case",wt),_catch:Fe("catch"),_continue:Fe("continue"),_debugger:Fe("debugger"),_default:Fe("default",wt),_do:Fe("do",{isLoop:!0,beforeExpr:!0}),_else:Fe("else",wt),_finally:Fe("finally"),_for:Fe("for",{isLoop:!0}),_function:Fe("function",pt),_if:Fe("if"),_return:Fe("return",wt),_switch:Fe("switch"),_throw:Fe("throw",wt),_try:Fe("try"),_var:Fe("var"),_const:Fe("const"),_while:Fe("while",{isLoop:!0}),_with:Fe("with"),_new:Fe("new",{beforeExpr:!0,startsExpr:!0}),_this:Fe("this",pt),_super:Fe("super",pt),_class:Fe("class",pt),_extends:Fe("extends",wt),_export:Fe("export"),_import:Fe("import",pt),_null:Fe("null",pt),_true:Fe("true",pt),_false:Fe("false",pt),_in:Fe("in",{beforeExpr:!0,binop:7}),_instanceof:Fe("instanceof",{beforeExpr:!0,binop:7}),_typeof:Fe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Fe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Fe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},St=/\r\n?|\n|\u2028|\u2029/,HM=new RegExp(St.source,"g");function pi(e){return e===10||e===13||e===8232||e===8233}function u2(e,t,n){n===void 0&&(n=e.length);for(var i=t;i<n;i++){var r=e.charCodeAt(i);if(pi(r))return i<n-1&&r===13&&e.charCodeAt(i+1)===10?i+2:i+1}return-1}var a2=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Bt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,o2=Object.prototype,JM=o2.hasOwnProperty,UM=o2.toString,gi=Object.hasOwn||function(e,t){return JM.call(e,t)},c2=Array.isArray||function(e){return UM.call(e)==="[object Array]"},l2=Object.create(null);function Tn(e){return l2[e]||(l2[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function bn(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var YM=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,nr=function(t,n){this.line=t,this.column=n};nr.prototype.offset=function(t){return new nr(this.line,this.column+t)};var cs=function(t,n,i){this.start=n,this.end=i,t.sourceFile!==null&&(this.source=t.sourceFile)};function f2(e,t){for(var n=1,i=0;;){var r=u2(e,i,t);if(r<0)return new nr(n,t-i);++n,i=r}}var Sh={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},h2=!1;function QM(e){var t={};for(var n in Sh)t[n]=e&&gi(e,n)?e[n]:Sh[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!h2&&typeof console=="object"&&console.warn&&(h2=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),c2(t.onToken)){var i=t.onToken;t.onToken=function(r){return i.push(r)}}return c2(t.onComment)&&(t.onComment=eC(t,t.onComment)),t}function eC(e,t){return function(n,i,r,s,u,o){var c={type:n?"Block":"Line",value:i,start:r,end:s};e.locations&&(c.loc=new cs(this,u,o)),e.ranges&&(c.range=[r,s]),t.push(c)}}var ir=1,yi=2,Bh=4,d2=8,m2=16,p2=32,_h=64,g2=128,rr=256,xh=ir|yi|rr;function kh(e,t){return yi|(e?Bh:0)|(t?d2:0)}var ls=0,Ih=1,An=2,y2=3,b2=4,A2=5,Qe=function(t,n,i){this.options=t=QM(t),this.sourceFile=t.sourceFile,this.keywords=Tn(jM[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var r="";t.allowReserved!==!0&&(r=Dh[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(r+=" await")),this.reservedWords=Tn(r);var s=(r?r+" ":"")+Dh.strict;this.reservedWordsStrict=Tn(s),this.reservedWordsStrictBind=Tn(s+" "+Dh.strictBind),this.input=String(n),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(St).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(ir),this.regexpState=null,this.privateNameStack=[]},en={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Qe.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},en.inFunction.get=function(){return(this.currentVarScope().flags&yi)>0},en.inGenerator.get=function(){return(this.currentVarScope().flags&d2)>0&&!this.currentVarScope().inClassFieldInit},en.inAsync.get=function(){return(this.currentVarScope().flags&Bh)>0&&!this.currentVarScope().inClassFieldInit},en.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&rr)return!1;if(t.flags&yi)return(t.flags&Bh)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},en.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&_h)>0||n||this.options.allowSuperOutsideMethod},en.allowDirectSuper.get=function(){return(this.currentThisScope().flags&g2)>0},en.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},en.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&(yi|rr))>0||n},en.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&rr)>0},Qe.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var i=this,r=0;r<t.length;r++)i=t[r](i);return i},Qe.parse=function(t,n){return new this(n,t).parse()},Qe.parseExpressionAt=function(t,n,i){var r=new this(i,t,n);return r.nextToken(),r.parseExpression()},Qe.tokenizer=function(t,n){return new this(n,t)},Object.defineProperties(Qe.prototype,en);var lt=Qe.prototype,tC=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;lt.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Bt.lastIndex=e,e+=Bt.exec(this.input)[0].length;var t=tC.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Bt.lastIndex=e+t[0].length;var n=Bt.exec(this.input),i=n.index+n[0].length,r=this.input.charAt(i);return r===";"||r==="}"||St.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(i+1)==="=")}e+=t[0].length,Bt.lastIndex=e,e+=Bt.exec(this.input)[0].length,this.input[e]===";"&&e++}},lt.eat=function(e){return this.type===e?(this.next(),!0):!1},lt.isContextual=function(e){return this.type===A.name&&this.value===e&&!this.containsEsc},lt.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1},lt.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},lt.canInsertSemicolon=function(){return this.type===A.eof||this.type===A.braceR||St.test(this.input.slice(this.lastTokEnd,this.start))},lt.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},lt.semicolon=function(){!this.eat(A.semi)&&!this.insertSemicolon()&&this.unexpected()},lt.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},lt.expect=function(e){this.eat(e)||this.unexpected()},lt.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var fs=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};lt.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},lt.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},lt.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},lt.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var Q=Qe.prototype;Q.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==A.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var i=0,r=Object.keys(this.undefinedExports);i<r.length;i+=1){var s=r[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Nh={kind:"loop"},nC={kind:"switch"};Q.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Bt.lastIndex=this.pos;var t=Bt.exec(this.input),n=this.pos+t[0].length,i=this.input.charCodeAt(n);if(i===91||i===92)return!0;if(e)return!1;if(i===123||i>55295&&i<56320)return!0;if(yn(i,!0)){for(var r=n+1;mi(i=this.input.charCodeAt(r),!0);)++r;if(i===92||i>55295&&i<56320)return!0;var s=this.input.slice(n,r);if(!$M.test(s))return!0}return!1},Q.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Bt.lastIndex=this.pos;var e=Bt.exec(this.input),t=this.pos+e[0].length,n;return!St.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(mi(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))},Q.parseStatement=function(e,t,n){var i=this.type,r=this.startNode(),s;switch(this.isLet(e)&&(i=A._var,s="let"),i){case A._break:case A._continue:return this.parseBreakContinueStatement(r,i.keyword);case A._debugger:return this.parseDebuggerStatement(r);case A._do:return this.parseDoStatement(r);case A._for:return this.parseForStatement(r);case A._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!e);case A._class:return e&&this.unexpected(),this.parseClass(r,!0);case A._if:return this.parseIfStatement(r);case A._return:return this.parseReturnStatement(r);case A._switch:return this.parseSwitchStatement(r);case A._throw:return this.parseThrowStatement(r);case A._try:return this.parseTryStatement(r);case A._const:case A._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case A._while:return this.parseWhileStatement(r);case A._with:return this.parseWithStatement(r);case A.braceL:return this.parseBlock(!0,r);case A.semi:return this.parseEmptyStatement(r);case A._export:case A._import:if(this.options.ecmaVersion>10&&i===A._import){Bt.lastIndex=this.pos;var u=Bt.exec(this.input),o=this.pos+u[0].length,c=this.input.charCodeAt(o);if(c===40||c===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===A._import?this.parseImport(r):this.parseExport(r,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!e);var h=this.value,d=this.parseExpression();return i===A.name&&d.type==="Identifier"&&this.eat(A.colon)?this.parseLabeledStatement(r,h,d,e):this.parseExpressionStatement(r,d)}},Q.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(A.semi)||this.insertSemicolon()?e.label=null:this.type!==A.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if((e.label==null||r.name===e.label.name)&&(r.kind!=null&&(n||r.kind==="loop")||e.label&&n))break}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},Q.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},Q.parseDoStatement=function(e){return this.next(),this.labels.push(Nh),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(A._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(A.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},Q.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Nh),this.enterScope(0),this.expect(A.parenL),this.type===A.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===A._var||this.type===A._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&i.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===A._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i)):(t>-1&&this.unexpected(t),this.parseFor(e,i))}var s=this.isContextual("let"),u=!1,o=this.containsEsc,c=new fs,h=this.start,d=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===A._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===A._in&&this.unexpected(t),e.await=!0):u&&this.options.ecmaVersion>=8&&(d.start===h&&!o&&d.type==="Identifier"&&d.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),s&&u&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(e,d)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(e,d))},Q.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,sr|(n?0:Vh),!1,t)},Q.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(A._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},Q.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(A.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},Q.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(A.braceL),this.labels.push(nC),this.enterScope(0);for(var t,n=!1;this.type!==A.braceR;)if(this.type===A._case||this.type===A._default){var i=this.type===A._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(A.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},Q.parseThrowStatement=function(e){return this.next(),St.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var iC=[];Q.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?p2:0),this.checkLValPattern(e,t?b2:An),this.expect(A.parenR),e},Q.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===A._catch){var t=this.startNode();this.next(),this.eat(A.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(A._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},Q.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},Q.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Nh),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},Q.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},Q.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},Q.parseLabeledStatement=function(e,t,n,i){for(var r=0,s=this.labels;r<s.length;r+=1){var u=s[r];u.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===A._switch?"switch":null,c=this.labels.length-1;c>=0;c--){var h=this.labels[c];if(h.statementStart===e.start)h.statementStart=this.start,h.kind=o;else break}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},Q.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},Q.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(A.braceL),e&&this.enterScope(0);this.type!==A.braceR;){var i=this.parseStatement(null);t.body.push(i)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},Q.parseFor=function(e,t){return e.init=t,this.expect(A.semi),e.test=this.type===A.semi?null:this.parseExpression(),this.expect(A.semi),e.update=this.type===A.parenR?null:this.parseExpression(),this.expect(A.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},Q.parseForIn=function(e,t){var n=this.type===A._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(A.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},Q.parseVar=function(e,t,n,i){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(A.eq)?r.init=this.parseMaybeAssign(t):!i&&n==="const"&&!(this.type===A._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!i&&r.id.type!=="Identifier"&&!(t&&(this.type===A._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(A.comma))break}return e},Q.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?Ih:An,!1)};var sr=1,Vh=2,M2=4;Q.parseFunction=function(e,t,n,i,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===A.star&&t&Vh&&this.unexpected(),e.generator=this.eat(A.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&sr&&(e.id=t&M2&&this.type!==A.name?null:this.parseIdent(),e.id&&!(t&Vh)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?Ih:An:y2));var s=this.yieldPos,u=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(kh(e.async,e.generator)),t&sr||(e.id=this.type===A.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,r),this.yieldPos=s,this.awaitPos=u,this.awaitIdentPos=o,this.finishNode(e,t&sr?"FunctionDeclaration":"FunctionExpression")},Q.parseFunctionParams=function(e){this.expect(A.parenL),e.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Q.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(A.braceL);this.type!==A.braceR;){var u=this.parseClassElement(e.superClass!==null);u&&(r.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(s&&this.raiseRecoverable(u.start,"Duplicate constructor in the same class"),s=!0):u.key&&u.key.type==="PrivateIdentifier"&&rC(i,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},Q.parseClassElement=function(e){if(this.eat(A.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),i="",r=!1,s=!1,u="method",o=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(A.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===A.star?o=!0:i="static"}if(n.static=o,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===A.star)&&!this.canInsertSemicolon()?s=!0:i="async"),!i&&(t>=9||!s)&&this.eat(A.star)&&(r=!0),!i&&!s&&!r){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=c:i=c)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===A.parenL||u!=="method"||r||s){var h=!n.static&&hs(n,"constructor"),d=h&&e;h&&u!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=h?"constructor":u,this.parseClassMethod(n,r,s,d)}else this.parseClassField(n);return n},Q.isClassElementNameStart=function(){return this.type===A.name||this.type===A.privateId||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword},Q.parseClassElementName=function(e){this.type===A.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},Q.parseClassMethod=function(e,t,n,i){var r=e.key;e.kind==="constructor"?(t&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method")):e.static&&hs(e,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,i);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},Q.parseClassField=function(e){if(hs(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&hs(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(A.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},Q.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(rr|_h);this.type!==A.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},Q.parseClassId=function(e,t){this.type===A.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,An,!1)):(t===!0&&this.unexpected(),e.id=null)},Q.parseClassSuper=function(e){e.superClass=this.eat(A._extends)?this.parseExprSubscripts(null,!1):null},Q.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},Q.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,r=i===0?null:this.privateNameStack[i-1],s=0;s<n.length;++s){var u=n[s];gi(t,u.name)||(r?r.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function rC(e,t){var n=t.key.name,i=e[n],r="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(r=(t.static?"s":"i")+t.kind),i==="iget"&&r==="iset"||i==="iset"&&r==="iget"||i==="sget"&&r==="sset"||i==="sset"&&r==="sget"?(e[n]="true",!1):i?!0:(e[n]=r,!1)}function hs(e,t){var n=e.computed,i=e.key;return!n&&(i.type==="Identifier"&&i.name===t||i.type==="Literal"&&i.value===t)}Q.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==A.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},Q.parseExport=function(e,t){if(this.next(),this.eat(A.star))return this.parseExportAllDeclaration(e,t);if(this.eat(A._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==A.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,i=e.specifiers;n<i.length;n+=1){var r=i[n];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},Q.parseExportDeclaration=function(e){return this.parseStatement(null)},Q.parseExportDefaultDeclaration=function(){var e;if(this.type===A._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,sr|M2,!1,e)}else if(this.type===A._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var i=this.parseMaybeAssign();return this.semicolon(),i}},Q.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),gi(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},Q.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var i=0,r=t.properties;i<r.length;i+=1){var s=r[i];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var u=0,o=t.elements;u<o.length;u+=1){var c=o[u];c&&this.checkPatternExport(e,c)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)},Q.checkVariableExport=function(e,t){if(e)for(var n=0,i=t;n<i.length;n+=1){var r=i[n];this.checkPatternExport(e,r.id)}},Q.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},Q.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},Q.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(A.braceL);!this.eat(A.braceR);){if(n)n=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;t.push(this.parseExportSpecifier(e))}return t},Q.parseImport=function(e){return this.next(),this.type===A.string?(e.specifiers=iC,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===A.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},Q.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,An),this.finishNode(e,"ImportSpecifier")},Q.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,An),this.finishNode(e,"ImportDefaultSpecifier")},Q.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,An),this.finishNode(e,"ImportNamespaceSpecifier")},Q.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===A.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(A.comma)))return e;if(this.type===A.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(A.braceL);!this.eat(A.braceR);){if(t)t=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;e.push(this.parseImportSpecifier())}return e},Q.parseWithClause=function(){var e=[];if(!this.eat(A._with))return e;this.expect(A.braceL);for(var t={},n=!0;!this.eat(A.braceR);){if(n)n=!1;else if(this.expect(A.comma),this.afterTrailingComma(A.braceR))break;var i=this.parseImportAttribute(),r=i.key.type==="Identifier"?i.key.name:i.key.value;gi(t,r)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+r+"'"),t[r]=!0,e.push(i)}return e},Q.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===A.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(A.colon),this.type!==A.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},Q.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===A.string){var e=this.parseLiteral(this.value);return YM.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},Q.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},Q.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var _t=Qe.prototype;_t.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},_t.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];r&&this.toAssignable(r,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e},_t.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},_t.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==A.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},_t.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case A.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(A.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case A.braceL:return this.parseObj(!0)}return this.parseIdent()},_t.parseBindingList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(A.comma),t&&this.type===A.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===A.ellipsis){var u=this.parseRestBinding();this.parseBindingListItem(u),r.push(u),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else r.push(this.parseAssignableListItem(i))}return r},_t.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},_t.parseBindingListItem=function(e){return e},_t.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(A.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},_t.checkLValSimple=function(e,t,n){t===void 0&&(t=ls);var i=t!==ls;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(i?"Binding ":"Assigning to ")+e.name+" in strict mode"),i&&(t===An&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(gi(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==A2&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(i?"Binding":"Assigning to")+" rvalue")}},_t.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=ls),e.type){case"ObjectPattern":for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var u=0,o=e.elements;u<o.length;u+=1){var c=o[u];c&&this.checkLValInnerPattern(c,t,n)}break;default:this.checkLValSimple(e,t,n)}},_t.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=ls),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Wt=function(t,n,i,r,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!i,this.override=r,this.generator=!!s},Xe={b_stat:new Wt("{",!1),b_expr:new Wt("{",!0),b_tmpl:new Wt("${",!1),p_stat:new Wt("(",!1),p_expr:new Wt("(",!0),q_tmpl:new Wt("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Wt("function",!1),f_expr:new Wt("function",!0),f_expr_gen:new Wt("function",!0,!1,null,!0),f_gen:new Wt("function",!1,!1,null,!0)},bi=Qe.prototype;bi.initialContext=function(){return[Xe.b_stat]},bi.curContext=function(){return this.context[this.context.length-1]},bi.braceIsBlock=function(e){var t=this.curContext();return t===Xe.f_expr||t===Xe.f_stat?!0:e===A.colon&&(t===Xe.b_stat||t===Xe.b_expr)?!t.isExpr:e===A._return||e===A.name&&this.exprAllowed?St.test(this.input.slice(this.lastTokEnd,this.start)):e===A._else||e===A.semi||e===A.eof||e===A.parenR||e===A.arrow?!0:e===A.braceL?t===Xe.b_stat:e===A._var||e===A._const||e===A.name?!1:!this.exprAllowed},bi.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1},bi.updateContext=function(e){var t,n=this.type;n.keyword&&e===A.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},bi.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},A.parenR.updateContext=A.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Xe.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},A.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Xe.b_stat:Xe.b_expr),this.exprAllowed=!0},A.dollarBraceL.updateContext=function(){this.context.push(Xe.b_tmpl),this.exprAllowed=!0},A.parenL.updateContext=function(e){var t=e===A._if||e===A._for||e===A._with||e===A._while;this.context.push(t?Xe.p_stat:Xe.p_expr),this.exprAllowed=!0},A.incDec.updateContext=function(){},A._function.updateContext=A._class.updateContext=function(e){e.beforeExpr&&e!==A._else&&!(e===A.semi&&this.curContext()!==Xe.p_stat)&&!(e===A._return&&St.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===A.colon||e===A.braceL)&&this.curContext()===Xe.b_stat)?this.context.push(Xe.f_expr):this.context.push(Xe.f_stat),this.exprAllowed=!1},A.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},A.backQuote.updateContext=function(){this.curContext()===Xe.q_tmpl?this.context.pop():this.context.push(Xe.q_tmpl),this.exprAllowed=!1},A.star.updateContext=function(e){if(e===A._function){var t=this.context.length-1;this.context[t]===Xe.f_expr?this.context[t]=Xe.f_expr_gen:this.context[t]=Xe.f_gen}this.exprAllowed=!0},A.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==A.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var le=Qe.prototype;le.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i=e.key,r;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);return}r="$"+r;var u=t[r];if(u){var o;s==="init"?o=this.strict&&u.init||u.get||u.set:o=u.init||u[s],o&&this.raiseRecoverable(i.start,"Redefinition of property")}else u=t[r]={init:!1,get:!1,set:!1};u[s]=!0}},le.parseExpression=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(e,t);if(this.type===A.comma){var s=this.startNodeAt(n,i);for(s.expressions=[r];this.eat(A.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return r},le.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,r=-1,s=-1,u=-1;t?(r=t.parenthesizedAssign,s=t.trailingComma,u=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new fs,i=!0);var o=this.start,c=this.startLoc;(this.type===A.parenL||this.type===A.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var h=this.parseMaybeConditional(e,t);if(n&&(h=n.call(this,h,o,c)),this.type.isAssign){var d=this.startNodeAt(o,c);return d.operator=this.value,this.type===A.eq&&(h=this.toAssignable(h,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=h.start&&(t.shorthandAssign=-1),this.type===A.eq?this.checkLValPattern(h):this.checkLValSimple(h),d.left=h,this.next(),d.right=this.parseMaybeAssign(e),u>-1&&(t.doubleProto=u),this.finishNode(d,"AssignmentExpression")}else i&&this.checkExpressionErrors(t,!0);return r>-1&&(t.parenthesizedAssign=r),s>-1&&(t.trailingComma=s),h},le.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return r;if(this.eat(A.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(A.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return r},le.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||r.start===n&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,n,i,-1,e)},le.parseExprOp=function(e,t,n,i,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==A._in)&&s>i){var u=this.type===A.logicalOR||this.type===A.logicalAND,o=this.type===A.coalesce;o&&(s=A.logicalAND.binop);var c=this.value;this.next();var h=this.start,d=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),h,d,s,r),m=this.buildBinary(t,n,e,g,c,u||o);return(u&&this.type===A.coalesce||o&&(this.type===A.logicalOR||this.type===A.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(m,t,n,i,r)}return e},le.buildBinary=function(e,t,n,i,r,s){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(e,t);return u.left=n,u.operator=r,u.right=i,this.finishNode(u,s?"LogicalExpression":"BinaryExpression")},le.parseMaybeUnary=function(e,t,n,i){var r=this.start,s=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(i),t=!0;else if(this.type.prefix){var o=this.startNode(),c=this.type===A.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,c,i),this.checkExpressionErrors(e,!0),c?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&C2(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&Th(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):t=!0,u=this.finishNode(o,c?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===A.privateId)(i||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==A._in&&this.unexpected();else{if(u=this.parseExprSubscripts(e,i),this.checkExpressionErrors(e))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,s);h.operator=this.value,h.prefix=!1,h.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(h,"UpdateExpression")}}if(!n&&this.eat(A.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,u,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return u};function C2(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&C2(e.expression)}function Th(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&Th(e.expression)||e.type==="ParenthesizedExpression"&&Th(e.expression)}le.parseExprSubscripts=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprAtom(e,t);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,n,i,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s},le.parseSubscripts=function(e,t,n,i,r){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,u=!1;;){var o=this.parseSubscript(e,t,n,i,s,u,r);if(o.optional&&(u=!0),o===e||o.type==="ArrowFunctionExpression"){if(u){var c=this.startNodeAt(t,n);c.expression=o,o=this.finishNode(c,"ChainExpression")}return o}e=o}},le.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(A.arrow)},le.parseSubscriptAsyncArrow=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,i)},le.parseSubscript=function(e,t,n,i,r,s,u){var o=this.options.ecmaVersion>=11,c=o&&this.eat(A.questionDot);i&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(A.bracketL);if(h||c&&this.type!==A.parenL&&this.type!==A.backQuote||this.eat(A.dot)){var d=this.startNodeAt(t,n);d.object=e,h?(d.property=this.parseExpression(),this.expect(A.bracketR)):this.type===A.privateId&&e.type!=="Super"?d.property=this.parsePrivateIdent():d.property=this.parseIdent(this.options.allowReserved!=="never"),d.computed=!!h,o&&(d.optional=c),e=this.finishNode(d,"MemberExpression")}else if(!i&&this.eat(A.parenL)){var g=new fs,m=this.yieldPos,M=this.awaitPos,C=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var P=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1,g);if(r&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=m,this.awaitPos=M,this.awaitIdentPos=C,this.parseSubscriptAsyncArrow(t,n,P,u);this.checkExpressionErrors(g,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=M||this.awaitPos,this.awaitIdentPos=C||this.awaitIdentPos;var w=this.startNodeAt(t,n);w.callee=e,w.arguments=P,o&&(w.optional=c),e=this.finishNode(w,"CallExpression")}else if(this.type===A.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var I=this.startNodeAt(t,n);I.tag=e,I.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(I,"TaggedTemplateExpression")}return e},le.parseExprAtom=function(e,t,n){this.type===A.slash&&this.readRegexp();var i,r=this.potentialArrowAt===this.start;switch(this.type){case A._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===A.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==A.dot&&this.type!==A.bracketL&&this.type!==A.parenL&&this.unexpected(),this.finishNode(i,"Super");case A._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case A.name:var s=this.start,u=this.startLoc,o=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&c.name==="async"&&!this.canInsertSemicolon()&&this.eat(A._function))return this.overrideContext(Xe.f_expr),this.parseFunction(this.startNodeAt(s,u),0,!1,!0,t);if(r&&!this.canInsertSemicolon()){if(this.eat(A.arrow))return this.parseArrowExpression(this.startNodeAt(s,u),[c],!1,t);if(this.options.ecmaVersion>=8&&c.name==="async"&&this.type===A.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return c=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(A.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,u),[c],!0,t)}return c;case A.regexp:var h=this.value;return i=this.parseLiteral(h.value),i.regex={pattern:h.pattern,flags:h.flags},i;case A.num:case A.string:return this.parseLiteral(this.value);case A._null:case A._true:case A._false:return i=this.startNode(),i.value=this.type===A._null?null:this.type===A._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case A.parenL:var d=this.start,g=this.parseParenAndDistinguishExpression(r,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(e.parenthesizedAssign=d),e.parenthesizedBind<0&&(e.parenthesizedBind=d)),g;case A.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(A.bracketR,!0,!0,e),this.finishNode(i,"ArrayExpression");case A.braceL:return this.overrideContext(Xe.b_expr),this.parseObj(!1,e);case A._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case A._class:return this.parseClass(this.startNode(),!1);case A._new:return this.parseNew();case A.backQuote:return this.parseTemplate();case A._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},le.parseExprAtomDefault=function(){this.unexpected()},le.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===A.parenL&&!e)return this.parseDynamicImport(t);if(this.type===A.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()},le.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(A.parenR)?e.options=null:(this.expect(A.comma),this.afterTrailingComma(A.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(A.parenR)||(this.expect(A.comma),this.afterTrailingComma(A.parenR)||this.unexpected())));else if(!this.eat(A.parenR)){var t=this.start;this.eat(A.comma)&&this.eat(A.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},le.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},le.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},le.parseParenExpression=function(){this.expect(A.parenL);var e=this.parseExpression();return this.expect(A.parenR),e},le.shouldParseArrow=function(e){return!this.canInsertSemicolon()},le.parseParenAndDistinguishExpression=function(e,t){var n=this.start,i=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,o=this.startLoc,c=[],h=!0,d=!1,g=new fs,m=this.yieldPos,M=this.awaitPos,C;for(this.yieldPos=0,this.awaitPos=0;this.type!==A.parenR;)if(h?h=!1:this.expect(A.comma),s&&this.afterTrailingComma(A.parenR,!0)){d=!0;break}else if(this.type===A.ellipsis){C=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else c.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var P=this.lastTokEnd,w=this.lastTokEndLoc;if(this.expect(A.parenR),e&&this.shouldParseArrow(c)&&this.eat(A.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=m,this.awaitPos=M,this.parseParenArrowList(n,i,c,t);(!c.length||d)&&this.unexpected(this.lastTokStart),C&&this.unexpected(C),this.checkExpressionErrors(g,!0),this.yieldPos=m||this.yieldPos,this.awaitPos=M||this.awaitPos,c.length>1?(r=this.startNodeAt(u,o),r.expressions=c,this.finishNodeAt(r,"SequenceExpression",P,w)):r=c[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var I=this.startNodeAt(n,i);return I.expression=r,this.finishNode(I,"ParenthesizedExpression")}else return r},le.parseParenItem=function(e){return e},le.parseParenArrowList=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,i)};var sC=[];le.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===A.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var i=this.start,r=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,r,!0,!1),this.eat(A.parenL)?e.arguments=this.parseExprList(A.parenR,this.options.ecmaVersion>=8,!1):e.arguments=sC,this.finishNode(e,"NewExpression")},le.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===A.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===A.backQuote,this.finishNode(n,"TemplateElement")},le.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.type===A.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(A.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(A.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},le.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===A.name||this.type===A.num||this.type===A.string||this.type===A.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===A.star)&&!St.test(this.input.slice(this.lastTokEnd,this.start))},le.parseObj=function(e,t){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(A.braceR);){if(i)i=!1;else if(this.expect(A.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(A.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,r,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},le.parseProperty=function(e,t){var n=this.startNode(),i,r,s,u;if(this.options.ecmaVersion>=9&&this.eat(A.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===A.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===A.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,u=this.startLoc),e||(i=this.eat(A.star)));var o=this.containsEsc;return this.parsePropertyName(n),!e&&!o&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(n)?(r=!0,i=this.options.ecmaVersion>=9&&this.eat(A.star),this.parsePropertyName(n)):r=!1,this.parsePropertyValue(n,e,i,r,s,u,t,o),this.finishNode(n,"Property")},le.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},le.parsePropertyValue=function(e,t,n,i,r,s,u,o){(n||i)&&this.type===A.colon&&this.unexpected(),this.eat(A.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),e.kind="init"):this.options.ecmaVersion>=6&&this.type===A.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,i)):!t&&!o&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==A.comma&&this.type!==A.braceR&&this.type!==A.eq?((n||i)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||i)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),e.kind="init",t?e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key)):this.type===A.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()},le.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(A.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(A.bracketR),e.key;e.computed=!1}return e.key=this.type===A.num||this.type===A.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},le.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},le.parseMethod=function(e,t,n){var i=this.startNode(),r=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(kh(t,i.generator)|_h|(n?g2:0)),this.expect(A.parenL),i.params=this.parseBindingList(A.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(i,"FunctionExpression")},le.parseArrowExpression=function(e,t,n,i){var r=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(kh(n,!1)|m2),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,i),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(e,"ArrowFunctionExpression")},le.parseFunctionBody=function(e,t,n,i){var r=t&&this.type!==A.braceL,s=this.strict,u=!1;if(r)e.body=this.parseMaybeAssign(i),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||o)&&(u=this.strictDirective(this.end),u&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var c=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(e,!s&&!u&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,A2),e.body=this.parseBlock(!1,void 0,u&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=c}this.exitScope()},le.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var i=n[t];if(i.type!=="Identifier")return!1}return!0},le.checkParams=function(e,t){for(var n=Object.create(null),i=0,r=e.params;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,Ih,t?null:n)}},le.parseExprList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(A.comma),t&&this.afterTrailingComma(e))break;var u=void 0;n&&this.type===A.comma?u=null:this.type===A.ellipsis?(u=this.parseSpread(i),i&&this.type===A.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):u=this.parseMaybeAssign(!1,i),r.push(u)}return r},le.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&i==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))}},le.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t},le.parseIdentNode=function(){var e=this.startNode();return this.type===A.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=A.name):this.unexpected(),e},le.parsePrivateIdent=function(){var e=this.startNode();return this.type===A.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},le.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===A.semi||this.canInsertSemicolon()||this.type!==A.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(A.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},le.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var ds=Qe.prototype;ds.raise=function(e,t){var n=f2(this.input,e);t+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},ds.raiseRecoverable=ds.raise,ds.curPosition=function(){if(this.options.locations)return new nr(this.curLine,this.pos-this.lineStart)};var Ln=Qe.prototype,uC=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Ln.enterScope=function(e){this.scopeStack.push(new uC(e))},Ln.exitScope=function(){this.scopeStack.pop()},Ln.treatFunctionsAsVarInScope=function(e){return e.flags&yi||!this.inModule&&e.flags&ir},Ln.declareName=function(e,t,n){var i=!1;if(t===An){var r=this.currentScope();i=r.lexical.indexOf(e)>-1||r.functions.indexOf(e)>-1||r.var.indexOf(e)>-1,r.lexical.push(e),this.inModule&&r.flags&ir&&delete this.undefinedExports[e]}else if(t===b2){var s=this.currentScope();s.lexical.push(e)}else if(t===y2){var u=this.currentScope();this.treatFunctionsAsVar?i=u.lexical.indexOf(e)>-1:i=u.lexical.indexOf(e)>-1||u.var.indexOf(e)>-1,u.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var c=this.scopeStack[o];if(c.lexical.indexOf(e)>-1&&!(c.flags&p2&&c.lexical[0]===e)||!this.treatFunctionsAsVarInScope(c)&&c.functions.indexOf(e)>-1){i=!0;break}if(c.var.push(e),this.inModule&&c.flags&ir&&delete this.undefinedExports[e],c.flags&xh)break}i&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},Ln.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)},Ln.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Ln.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&xh)return t}},Ln.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&xh&&!(t.flags&m2))return t}};var ms=function(t,n,i){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new cs(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},ur=Qe.prototype;ur.startNode=function(){return new ms(this,this.start,this.startLoc)},ur.startNodeAt=function(e,t){return new ms(this,e,t)};function v2(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}ur.finishNode=function(e,t){return v2.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},ur.finishNodeAt=function(e,t,n,i){return v2.call(this,e,t,n,i)},ur.copyNode=function(e){var t=new ms(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var aC="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",P2="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",D2=P2+" Extended_Pictographic",F2=D2,E2=F2+" EBase EComp EMod EPres ExtPict",w2=E2,oC=w2,cC={9:P2,10:D2,11:F2,12:E2,13:w2,14:oC},lC="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",fC={9:"",10:"",11:"",12:"",13:"",14:lC},S2="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",B2="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",_2=B2+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",x2=_2+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",k2=x2+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",I2=k2+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",hC=I2+" "+aC,dC={9:B2,10:_2,11:x2,12:k2,13:I2,14:hC},N2={};function mC(e){var t=N2[e]={binary:Tn(cC[e]+" "+S2),binaryOfStrings:Tn(fC[e]),nonBinary:{General_Category:Tn(S2),Script:Tn(dC[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Lh=0,V2=[9,10,11,12,13,14];Lh<V2.length;Lh+=1){var pC=V2[Lh];mC(pC)}var Y=Qe.prototype,ps=function(t,n){this.parent=t,this.base=n||this};ps.prototype.separatedFrom=function(t){for(var n=this;n;n=n.parent)for(var i=t;i;i=i.parent)if(n.base===i.base&&n!==i)return!0;return!1},ps.prototype.sibling=function(){return new ps(this.parent,this.base)};var tn=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=N2[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};tn.prototype.reset=function(t,n,i){var r=i.indexOf("v")!==-1,s=i.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=i,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},tn.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},tn.prototype.at=function(t,n){n===void 0&&(n=!1);var i=this.source,r=i.length;if(t>=r)return-1;var s=i.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=r)return s;var u=i.charCodeAt(t+1);return u>=56320&&u<=57343?(s<<10)+u-56613888:s},tn.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var i=this.source,r=i.length;if(t>=r)return r;var s=i.charCodeAt(t),u;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=r||(u=i.charCodeAt(t+1))<56320||u>57343?t+1:t+2},tn.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)},tn.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},tn.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)},tn.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1},tn.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var i=this.pos,r=0,s=t;r<s.length;r+=1){var u=s[r],o=this.at(i,n);if(o===-1||o!==u)return!1;i=this.nextIndex(i,n)}return this.pos=i,!0},Y.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=!1,r=!1,s=0;s<n.length;s++){var u=n.charAt(s);t.indexOf(u)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(u,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),u==="u"&&(i=!0),u==="v"&&(r=!0)}this.options.ecmaVersion>=15&&i&&r&&this.raise(e.start,"Invalid regular expression flag")};function gC(e){for(var t in e)return!0;return!1}Y.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&gC(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},Y.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var i=n[t];e.groupNames[i]||e.raise("Invalid named capture referenced")}},Y.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new ps(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Y.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},Y.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1},Y.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Y.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1},Y.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Y.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue),e.eat(125)))return r!==-1&&r<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Y.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Y.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Y.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),i=e.eat(45);if(n||i){for(var r=0;r<n.length;r++){var s=n.charAt(r);n.indexOf(s,r+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(i){var u=this.regexp_eatModifiers(e);!n&&!u&&e.current()===58&&e.raise("Invalid regular expression modifiers");for(var o=0;o<u.length;o++){var c=u.charAt(o);(u.indexOf(c,o+1)>-1||n.indexOf(c)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},Y.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Y.regexp_eatModifiers=function(e){for(var t="",n=0;(n=e.current())!==-1&&yC(n);)t+=bn(n),e.advance();return t};function yC(e){return e===105||e===109||e===115}Y.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Y.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Y.regexp_eatSyntaxCharacter=function(e){var t=e.current();return T2(t)?(e.lastIntValue=t,e.advance(),!0):!1};function T2(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}Y.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!T2(n);)e.advance();return e.pos!==t},Y.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1},Y.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n)if(t)for(var i=0,r=n;i<r.length;i+=1){var s=r[i];s.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},Y.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Y.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=bn(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=bn(e.lastIntValue);return!0}return!1},Y.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),bC(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)};function bC(e){return yn(e,!0)||e===36||e===95}Y.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,i=e.current(n);return e.advance(n),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(i=e.lastIntValue),AC(i)?(e.lastIntValue=i,!0):(e.pos=t,!1)};function AC(e){return mi(e,!0)||e===36||e===95||e===8204||e===8205}Y.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Y.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Y.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Y.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Y.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Y.regexp_eatZero=function(e){return e.current()===48&&!gs(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1},Y.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1},Y.regexp_eatControlLetter=function(e){var t=e.current();return L2(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function L2(e){return e>=65&&e<=90||e>=97&&e<=122}Y.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r=e.lastIntValue;if(i&&r>=55296&&r<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var u=e.lastIntValue;if(u>=56320&&u<=57343)return e.lastIntValue=(r-55296)*1024+(u-56320)+65536,!0}e.pos=s,e.lastIntValue=r}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&MC(e.lastIntValue))return!0;i&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function MC(e){return e>=0&&e<=1114111}Y.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1},Y.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var R2=0,Mn=1,xt=2;Y.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(CC(t))return e.lastIntValue=-1,e.advance(),Mn;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var i;if(e.eat(123)&&(i=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&i===xt&&e.raise("Invalid property name"),i;e.raise("Invalid property name")}return R2};function CC(e){return e===100||e===68||e===115||e===83||e===119||e===87}Y.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,i),Mn}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,r)}return R2},Y.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){gi(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Y.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Mn;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return xt;e.raise("Invalid property name")},Y.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";G2(t=e.current());)e.lastStringValue+=bn(t),e.advance();return e.lastStringValue!==""};function G2(e){return L2(e)||e===95}Y.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";vC(t=e.current());)e.lastStringValue+=bn(t),e.advance();return e.lastStringValue!==""};function vC(e){return G2(e)||gs(e)}Y.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Y.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===xt&&e.raise("Negated character class may contain strings"),!0}return!1},Y.regexp_classContents=function(e){return e.current()===93?Mn:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Mn)},Y.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}},Y.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||W2(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return i!==93?(e.lastIntValue=i,e.advance(),!0):!1},Y.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Y.regexp_classSetExpression=function(e){var t=Mn,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===xt&&(t=xt);for(var i=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==xt&&(t=Mn);continue}e.raise("Invalid character in character class")}if(i!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(i!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===xt&&(t=xt)}},Y.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;return n!==-1&&i!==-1&&n>i&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},Y.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Mn:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},Y.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),i=this.regexp_classContents(e);if(e.eat(93))return n&&i===xt&&e.raise("Negated character class may contain strings"),i;e.pos=t}if(e.eat(92)){var r=this.regexp_eatCharacterClassEscape(e);if(r)return r;e.pos=t}return null},Y.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},Y.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===xt&&(t=xt);return t},Y.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Mn:xt},Y.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&PC(n)||DC(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function PC(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function DC(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}Y.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return FC(t)?(e.lastIntValue=t,e.advance(),!0):!1};function FC(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}Y.regexp_eatClassControlLetter=function(e){var t=e.current();return gs(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1},Y.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Y.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;gs(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function gs(e){return e>=48&&e<=57}Y.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;X2(n=e.current());)e.lastIntValue=16*e.lastIntValue+Z2(n),e.advance();return e.pos!==t};function X2(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Z2(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}Y.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1},Y.regexp_eatOctalDigit=function(e){var t=e.current();return W2(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function W2(e){return e>=48&&e<=55}Y.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var r=e.current();if(!X2(r))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Z2(r),e.advance()}return!0};var Rh=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new cs(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Pe=Qe.prototype;Pe.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Rh(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Pe.getToken=function(){return this.next(),new Rh(this)},typeof Symbol<"u"&&(Pe[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===A.eof,value:t}}}}),Pe.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(A.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())},Pe.readToken=function(e){return yn(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)},Pe.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},Pe.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var i=void 0,r=t;(i=u2(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},Pe.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!pi(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Pe.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&a2.test(String.fromCharCode(e)))++this.pos;else break e}}},Pe.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Pe.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(A.ellipsis)):(++this.pos,this.finishToken(A.dot))},Pe.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(A.assign,2):this.finishOp(A.slash,1)},Pe.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=e===42?A.star:A.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,i=A.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(A.assign,n+1):this.finishOp(i,n)},Pe.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(A.assign,3)}return this.finishOp(e===124?A.logicalOR:A.logicalAND,2)}return t===61?this.finishOp(A.assign,2):this.finishOp(e===124?A.bitwiseOR:A.bitwiseAND,1)},Pe.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(A.assign,2):this.finishOp(A.bitwiseXOR,1)},Pe.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||St.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(A.incDec,2):t===61?this.finishOp(A.assign,2):this.finishOp(A.plusMin,1)},Pe.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(A.assign,n+1):this.finishOp(A.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(A.relational,n))},Pe.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(A.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(A.arrow)):this.finishOp(e===61?A.eq:A.prefix,1)},Pe.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(A.questionDot,2)}if(t===63){if(e>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(A.assign,3)}return this.finishOp(A.coalesce,2)}}return this.finishOp(A.question,1)},Pe.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),yn(t,!0)||t===92))return this.finishToken(A.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+bn(t)+"'")},Pe.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(A.parenL);case 41:return++this.pos,this.finishToken(A.parenR);case 59:return++this.pos,this.finishToken(A.semi);case 44:return++this.pos,this.finishToken(A.comma);case 91:return++this.pos,this.finishToken(A.bracketL);case 93:return++this.pos,this.finishToken(A.bracketR);case 123:return++this.pos,this.finishToken(A.braceL);case 125:return++this.pos,this.finishToken(A.braceR);case 58:return++this.pos,this.finishToken(A.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(A.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(A.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+bn(e)+"'")},Pe.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Pe.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(St.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(i==="[")t=!0;else if(i==="]"&&t)t=!1;else if(i==="/"&&!t)break;e=i==="\\"}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var s=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new tn(this));o.reset(n,r,u),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var c=null;try{c=new RegExp(r,u)}catch{}return this.finishToken(A.regexp,{pattern:r,flags:u,value:c})},Pe.readInt=function(e,t,n){for(var i=this.options.ecmaVersion>=12&&t===void 0,r=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,u=0,o=0,c=0,h=t??1/0;c<h;++c,++this.pos){var d=this.input.charCodeAt(this.pos),g=void 0;if(i&&d===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),c===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=d;continue}if(d>=97?g=d-97+10:d>=65?g=d-65+10:d>=48&&d<=57?g=d-48:g=1/0,g>=e)break;o=d,u=u*e+g}return i&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:u};function EC(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function z2(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Pe.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=z2(this.input.slice(t,this.pos)),++this.pos):yn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,n)},Pe.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&i===110){var r=z2(this.input.slice(t,this.pos));return++this.pos,yn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(A.num,r)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),i===46&&!n&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!n&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),yn(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=EC(this.input.slice(t,this.pos),n);return this.finishToken(A.num,s)},Pe.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t},Pe.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;i===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(pi(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(A.string,t)};var O2={};Pe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===O2)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},Pe.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw O2;this.raise(e,t)},Pe.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===A.template||this.type===A.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(A.dollarBraceL)):(++this.pos,this.finishToken(A.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(A.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(pi(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Pe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(A.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Pe.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return bn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(i,8);return r>255&&(i=i.slice(0,-1),r=parseInt(i,8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),(i!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-i.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return pi(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}},Pe.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n},Pe.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(mi(r,i))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(t?yn:mi)(u,i)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=bn(u),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)},Pe.readWord=function(){var e=this.readWord1(),t=A.name;return this.keywords.test(e)&&(t=wh[e]),this.finishToken(t,e)};var wC="8.14.0";Qe.acorn={Parser:Qe,version:wC,defaultOptions:Sh,Position:nr,SourceLocation:cs,getLineInfo:f2,Node:ms,TokenType:Se,tokTypes:A,keywordTypes:wh,TokContext:Wt,tokContexts:Xe,isIdentifierChar:mi,isIdentifierStart:yn,Token:Rh,isNewLine:pi,lineBreak:St,lineBreakG:HM,nonASCIIwhitespace:a2};function SC(e,t){return Qe.parse(e,t)}var BC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _C(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var Gh={},Xh={},$2;function xC(){return $2||($2=1,function(e){(function t(n){var i,r,s,u,o,c;function h(S){var x={},N,V;for(N in S)S.hasOwnProperty(N)&&(V=S[N],typeof V=="object"&&V!==null?x[N]=h(V):x[N]=V);return x}function d(S,x){var N,V,H,Z;for(V=S.length,H=0;V;)N=V>>>1,Z=H+N,x(S[Z])?V=N:(H=Z+1,V-=N+1);return H}i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={},o={},c={},r={Break:u,Skip:o,Remove:c};function g(S,x){this.parent=S,this.key=x}g.prototype.replace=function(x){this.parent[this.key]=x},g.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function m(S,x,N,V){this.node=S,this.path=x,this.wrap=N,this.ref=V}function M(){}M.prototype.path=function(){var x,N,V,H,Z,ee;function O(z,te){if(Array.isArray(te))for(V=0,H=te.length;V<H;++V)z.push(te[V]);else z.push(te)}if(!this.__current.path)return null;for(Z=[],x=2,N=this.__leavelist.length;x<N;++x)ee=this.__leavelist[x],O(Z,ee.path);return O(Z,this.__current.path),Z},M.prototype.type=function(){var S=this.current();return S.type||this.__current.wrap},M.prototype.parents=function(){var x,N,V;for(V=[],x=1,N=this.__leavelist.length;x<N;++x)V.push(this.__leavelist[x].node);return V},M.prototype.current=function(){return this.__current.node},M.prototype.__execute=function(x,N){var V,H;return H=void 0,V=this.__current,this.__current=N,this.__state=null,x&&(H=x.call(this,N.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=V,H},M.prototype.notify=function(x){this.__state=x},M.prototype.skip=function(){this.notify(o)},M.prototype.break=function(){this.notify(u)},M.prototype.remove=function(){this.notify(c)},M.prototype.__initialize=function(S,x){this.visitor=x,this.root=S,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,x.fallback==="iteration"?this.__fallback=Object.keys:typeof x.fallback=="function"&&(this.__fallback=x.fallback),this.__keys=s,x.keys&&(this.__keys=Object.assign(Object.create(this.__keys),x.keys))};function C(S){return S==null?!1:typeof S=="object"&&typeof S.type=="string"}function P(S,x){return(S===i.ObjectExpression||S===i.ObjectPattern)&&x==="properties"}function w(S,x){for(var N=S.length-1;N>=0;--N)if(S[N].node===x)return!0;return!1}M.prototype.traverse=function(x,N){var V,H,Z,ee,O,z,te,Ae,pe,fe,se,Ve;for(this.__initialize(x,N),Ve={},V=this.__worklist,H=this.__leavelist,V.push(new m(x,null,null,null)),H.push(new m(null,null,null,null));V.length;){if(Z=V.pop(),Z===Ve){if(Z=H.pop(),z=this.__execute(N.leave,Z),this.__state===u||z===u)return;continue}if(Z.node){if(z=this.__execute(N.enter,Z),this.__state===u||z===u)return;if(V.push(Ve),H.push(Z),this.__state===o||z===o)continue;if(ee=Z.node,O=ee.type||Z.wrap,fe=this.__keys[O],!fe)if(this.__fallback)fe=this.__fallback(ee);else throw new Error("Unknown node type "+O+".");for(Ae=fe.length;(Ae-=1)>=0;)if(te=fe[Ae],se=ee[te],!!se){if(Array.isArray(se)){for(pe=se.length;(pe-=1)>=0;)if(se[pe]&&!w(H,se[pe])){if(P(O,fe[Ae]))Z=new m(se[pe],[te,pe],"Property",null);else if(C(se[pe]))Z=new m(se[pe],[te,pe],null,null);else continue;V.push(Z)}}else if(C(se)){if(w(H,se))continue;V.push(new m(se,te,null,null))}}}}},M.prototype.replace=function(x,N){var V,H,Z,ee,O,z,te,Ae,pe,fe,se,Ve,ce;function ye(q){var Ee,ut,He,Me;if(q.ref.remove()){for(ut=q.ref.key,Me=q.ref.parent,Ee=V.length;Ee--;)if(He=V[Ee],He.ref&&He.ref.parent===Me){if(He.ref.key<ut)break;--He.ref.key}}}for(this.__initialize(x,N),se={},V=this.__worklist,H=this.__leavelist,Ve={root:x},z=new m(x,null,null,new g(Ve,"root")),V.push(z),H.push(z);V.length;){if(z=V.pop(),z===se){if(z=H.pop(),O=this.__execute(N.leave,z),O!==void 0&&O!==u&&O!==o&&O!==c&&z.ref.replace(O),(this.__state===c||O===c)&&ye(z),this.__state===u||O===u)return Ve.root;continue}if(O=this.__execute(N.enter,z),O!==void 0&&O!==u&&O!==o&&O!==c&&(z.ref.replace(O),z.node=O),(this.__state===c||O===c)&&(ye(z),z.node=null),this.__state===u||O===u)return Ve.root;if(Z=z.node,!!Z&&(V.push(se),H.push(z),!(this.__state===o||O===o))){if(ee=Z.type||z.wrap,pe=this.__keys[ee],!pe)if(this.__fallback)pe=this.__fallback(Z);else throw new Error("Unknown node type "+ee+".");for(te=pe.length;(te-=1)>=0;)if(ce=pe[te],fe=Z[ce],!!fe)if(Array.isArray(fe)){for(Ae=fe.length;(Ae-=1)>=0;)if(fe[Ae]){if(P(ee,pe[te]))z=new m(fe[Ae],[ce,Ae],"Property",new g(fe,Ae));else if(C(fe[Ae]))z=new m(fe[Ae],[ce,Ae],null,new g(fe,Ae));else continue;V.push(z)}}else C(fe)&&V.push(new m(fe,ce,null,new g(Z,ce)))}}return Ve.root};function I(S,x){var N=new M;return N.traverse(S,x)}function k(S,x){var N=new M;return N.replace(S,x)}function X(S,x){var N;return N=d(x,function(H){return H.range[0]>S.range[0]}),S.extendedRange=[S.range[0],S.range[1]],N!==x.length&&(S.extendedRange[1]=x[N].range[0]),N-=1,N>=0&&(S.extendedRange[0]=x[N].range[1]),S}function _(S,x,N){var V=[],H,Z,ee,O;if(!S.range)throw new Error("attachComments needs range information");if(!N.length){if(x.length){for(ee=0,Z=x.length;ee<Z;ee+=1)H=h(x[ee]),H.extendedRange=[0,S.range[0]],V.push(H);S.leadingComments=V}return S}for(ee=0,Z=x.length;ee<Z;ee+=1)V.push(X(h(x[ee]),N));return O=0,I(S,{enter:function(z){for(var te;O<V.length&&(te=V[O],!(te.extendedRange[1]>z.range[0]));)te.extendedRange[1]===z.range[0]?(z.leadingComments||(z.leadingComments=[]),z.leadingComments.push(te),V.splice(O,1)):O+=1;if(O===V.length)return r.Break;if(V[O].extendedRange[0]>z.range[1])return r.Skip}}),O=0,I(S,{leave:function(z){for(var te;O<V.length&&(te=V[O],!(z.range[1]<te.extendedRange[0]));)z.range[1]===te.extendedRange[0]?(z.trailingComments||(z.trailingComments=[]),z.trailingComments.push(te),V.splice(O,1)):O+=1;if(O===V.length)return r.Break;if(V[O].extendedRange[0]>z.range[1])return r.Skip}}),S}return n.Syntax=i,n.traverse=I,n.replace=k,n.attachComments=_,n.VisitorKeys=s,n.VisitorOption=r,n.Controller=M,n.cloneEnvironment=function(){return t({})},n})(e)}(Xh)),Xh}var ar={},Zh={exports:{}},q2;function kC(){return q2||(q2=1,function(){function e(u){if(u==null)return!1;switch(u.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(u){if(u==null)return!1;switch(u.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function n(u){if(u==null)return!1;switch(u.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(u){return n(u)||u!=null&&u.type==="FunctionDeclaration"}function r(u){switch(u.type){case"IfStatement":return u.alternate!=null?u.alternate:u.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return u.body}return null}function s(u){var o;if(u.type!=="IfStatement"||u.alternate==null)return!1;o=u.consequent;do{if(o.type==="IfStatement"&&o.alternate==null)return!0;o=r(o)}while(o);return!1}Zh.exports={isExpression:e,isStatement:n,isIterationStatement:t,isSourceElement:i,isProblematicIfStatement:s,trailingStatement:r}}()),Zh.exports}var Wh={exports:{}},K2;function H2(){return K2||(K2=1,function(){var e,t,n,i,r,s;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function u(w){return 48<=w&&w<=57}function o(w){return 48<=w&&w<=57||97<=w&&w<=102||65<=w&&w<=70}function c(w){return w>=48&&w<=55}n=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function h(w){return w===32||w===9||w===11||w===12||w===160||w>=5760&&n.indexOf(w)>=0}function d(w){return w===10||w===13||w===8232||w===8233}function g(w){if(w<=65535)return String.fromCharCode(w);var I=String.fromCharCode(Math.floor((w-65536)/1024)+55296),k=String.fromCharCode((w-65536)%1024+56320);return I+k}for(i=new Array(128),s=0;s<128;++s)i[s]=s>=97&&s<=122||s>=65&&s<=90||s===36||s===95;for(r=new Array(128),s=0;s<128;++s)r[s]=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===36||s===95;function m(w){return w<128?i[w]:t.NonAsciiIdentifierStart.test(g(w))}function M(w){return w<128?r[w]:t.NonAsciiIdentifierPart.test(g(w))}function C(w){return w<128?i[w]:e.NonAsciiIdentifierStart.test(g(w))}function P(w){return w<128?r[w]:e.NonAsciiIdentifierPart.test(g(w))}Wh.exports={isDecimalDigit:u,isHexDigit:o,isOctalDigit:c,isWhiteSpace:h,isLineTerminator:d,isIdentifierStartES5:m,isIdentifierPartES5:M,isIdentifierStartES6:C,isIdentifierPartES6:P}}()),Wh.exports}var zh={exports:{}},J2;function IC(){return J2||(J2=1,function(){var e=H2();function t(m){switch(m){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function n(m,M){return!M&&m==="yield"?!1:i(m,M)}function i(m,M){if(M&&t(m))return!0;switch(m.length){case 2:return m==="if"||m==="in"||m==="do";case 3:return m==="var"||m==="for"||m==="new"||m==="try";case 4:return m==="this"||m==="else"||m==="case"||m==="void"||m==="with"||m==="enum";case 5:return m==="while"||m==="break"||m==="catch"||m==="throw"||m==="const"||m==="yield"||m==="class"||m==="super";case 6:return m==="return"||m==="typeof"||m==="delete"||m==="switch"||m==="export"||m==="import";case 7:return m==="default"||m==="finally"||m==="extends";case 8:return m==="function"||m==="continue"||m==="debugger";case 10:return m==="instanceof";default:return!1}}function r(m,M){return m==="null"||m==="true"||m==="false"||n(m,M)}function s(m,M){return m==="null"||m==="true"||m==="false"||i(m,M)}function u(m){return m==="eval"||m==="arguments"}function o(m){var M,C,P;if(m.length===0||(P=m.charCodeAt(0),!e.isIdentifierStartES5(P)))return!1;for(M=1,C=m.length;M<C;++M)if(P=m.charCodeAt(M),!e.isIdentifierPartES5(P))return!1;return!0}function c(m,M){return(m-55296)*1024+(M-56320)+65536}function h(m){var M,C,P,w,I;if(m.length===0)return!1;for(I=e.isIdentifierStartES6,M=0,C=m.length;M<C;++M){if(P=m.charCodeAt(M),55296<=P&&P<=56319){if(++M,M>=C||(w=m.charCodeAt(M),!(56320<=w&&w<=57343)))return!1;P=c(P,w)}if(!I(P))return!1;I=e.isIdentifierPartES6}return!0}function d(m,M){return o(m)&&!r(m,M)}function g(m,M){return h(m)&&!s(m,M)}zh.exports={isKeywordES5:n,isKeywordES6:i,isReservedWordES5:r,isReservedWordES6:s,isRestrictedWord:u,isIdentifierNameES5:o,isIdentifierNameES6:h,isIdentifierES5:d,isIdentifierES6:g}}()),zh.exports}var U2;function NC(){return U2||(U2=1,function(){ar.ast=kC(),ar.code=H2(),ar.keyword=IC()}()),ar}var or={},Oh={},ys={},bs={},Y2;function VC(){if(Y2)return bs;Y2=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return bs.encode=function(t){if(0<=t&&t<e.length)return e[t];throw new TypeError("Must be between 0 and 63: "+t)},bs.decode=function(t){var n=65,i=90,r=97,s=122,u=48,o=57,c=43,h=47,d=26,g=52;return n<=t&&t<=i?t-n:r<=t&&t<=s?t-r+d:u<=t&&t<=o?t-u+g:t==c?62:t==h?63:-1},bs}var Q2;function e3(){if(Q2)return ys;Q2=1;var e=VC(),t=5,n=1<<t,i=n-1,r=n;function s(o){return o<0?(-o<<1)+1:(o<<1)+0}function u(o){var c=(o&1)===1,h=o>>1;return c?-h:h}return ys.encode=function(c){var h="",d,g=s(c);do d=g&i,g>>>=t,g>0&&(d|=r),h+=e.encode(d);while(g>0);return h},ys.decode=function(c,h,d){var g=c.length,m=0,M=0,C,P;do{if(h>=g)throw new Error("Expected more digits in base 64 VLQ value.");if(P=e.decode(c.charCodeAt(h++)),P===-1)throw new Error("Invalid base64 digit: "+c.charAt(h-1));C=!!(P&r),P&=i,m=m+(P<<M),M+=t}while(C);d.value=u(m),d.rest=h},ys}var jh={},t3;function cr(){return t3||(t3=1,function(e){function t(_,S,x){if(S in _)return _[S];if(arguments.length===3)return x;throw new Error('"'+S+'" is a required argument.')}e.getArg=t;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function r(_){var S=_.match(n);return S?{scheme:S[1],auth:S[2],host:S[3],port:S[4],path:S[5]}:null}e.urlParse=r;function s(_){var S="";return _.scheme&&(S+=_.scheme+":"),S+="//",_.auth&&(S+=_.auth+"@"),_.host&&(S+=_.host),_.port&&(S+=":"+_.port),_.path&&(S+=_.path),S}e.urlGenerate=s;function u(_){var S=_,x=r(_);if(x){if(!x.path)return _;S=x.path}for(var N=e.isAbsolute(S),V=S.split(/\/+/),H,Z=0,ee=V.length-1;ee>=0;ee--)H=V[ee],H==="."?V.splice(ee,1):H===".."?Z++:Z>0&&(H===""?(V.splice(ee+1,Z),Z=0):(V.splice(ee,2),Z--));return S=V.join("/"),S===""&&(S=N?"/":"."),x?(x.path=S,s(x)):S}e.normalize=u;function o(_,S){_===""&&(_="."),S===""&&(S=".");var x=r(S),N=r(_);if(N&&(_=N.path||"/"),x&&!x.scheme)return N&&(x.scheme=N.scheme),s(x);if(x||S.match(i))return S;if(N&&!N.host&&!N.path)return N.host=S,s(N);var V=S.charAt(0)==="/"?S:u(_.replace(/\/+$/,"")+"/"+S);return N?(N.path=V,s(N)):V}e.join=o,e.isAbsolute=function(_){return _.charAt(0)==="/"||n.test(_)};function c(_,S){_===""&&(_="."),_=_.replace(/\/$/,"");for(var x=0;S.indexOf(_+"/")!==0;){var N=_.lastIndexOf("/");if(N<0||(_=_.slice(0,N),_.match(/^([^\/]+:\/)?\/*$/)))return S;++x}return Array(x+1).join("../")+S.substr(_.length+1)}e.relative=c;var h=function(){var _=Object.create(null);return!("__proto__"in _)}();function d(_){return _}function g(_){return M(_)?"$"+_:_}e.toSetString=h?d:g;function m(_){return M(_)?_.slice(1):_}e.fromSetString=h?d:m;function M(_){if(!_)return!1;var S=_.length;if(S<9||_.charCodeAt(S-1)!==95||_.charCodeAt(S-2)!==95||_.charCodeAt(S-3)!==111||_.charCodeAt(S-4)!==116||_.charCodeAt(S-5)!==111||_.charCodeAt(S-6)!==114||_.charCodeAt(S-7)!==112||_.charCodeAt(S-8)!==95||_.charCodeAt(S-9)!==95)return!1;for(var x=S-10;x>=0;x--)if(_.charCodeAt(x)!==36)return!1;return!0}function C(_,S,x){var N=w(_.source,S.source);return N!==0||(N=_.originalLine-S.originalLine,N!==0)||(N=_.originalColumn-S.originalColumn,N!==0||x)||(N=_.generatedColumn-S.generatedColumn,N!==0)||(N=_.generatedLine-S.generatedLine,N!==0)?N:w(_.name,S.name)}e.compareByOriginalPositions=C;function P(_,S,x){var N=_.generatedLine-S.generatedLine;return N!==0||(N=_.generatedColumn-S.generatedColumn,N!==0||x)||(N=w(_.source,S.source),N!==0)||(N=_.originalLine-S.originalLine,N!==0)||(N=_.originalColumn-S.originalColumn,N!==0)?N:w(_.name,S.name)}e.compareByGeneratedPositionsDeflated=P;function w(_,S){return _===S?0:_===null?1:S===null?-1:_>S?1:-1}function I(_,S){var x=_.generatedLine-S.generatedLine;return x!==0||(x=_.generatedColumn-S.generatedColumn,x!==0)||(x=w(_.source,S.source),x!==0)||(x=_.originalLine-S.originalLine,x!==0)||(x=_.originalColumn-S.originalColumn,x!==0)?x:w(_.name,S.name)}e.compareByGeneratedPositionsInflated=I;function k(_){return JSON.parse(_.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=k;function X(_,S,x){if(S=S||"",_&&(_[_.length-1]!=="/"&&S[0]!=="/"&&(_+="/"),S=_+S),x){var N=r(x);if(!N)throw new Error("sourceMapURL could not be parsed");if(N.path){var V=N.path.lastIndexOf("/");V>=0&&(N.path=N.path.substring(0,V+1))}S=o(s(N),S)}return u(S)}e.computeSourceURL=X}(jh)),jh}var $h={},n3;function i3(){if(n3)return $h;n3=1;var e=cr(),t=Object.prototype.hasOwnProperty,n=typeof Map<"u";function i(){this._array=[],this._set=n?new Map:Object.create(null)}return i.fromArray=function(s,u){for(var o=new i,c=0,h=s.length;c<h;c++)o.add(s[c],u);return o},i.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(s,u){var o=n?s:e.toSetString(s),c=n?this.has(s):t.call(this._set,o),h=this._array.length;(!c||u)&&this._array.push(s),c||(n?this._set.set(s,h):this._set[o]=h)},i.prototype.has=function(s){if(n)return this._set.has(s);var u=e.toSetString(s);return t.call(this._set,u)},i.prototype.indexOf=function(s){if(n){var u=this._set.get(s);if(u>=0)return u}else{var o=e.toSetString(s);if(t.call(this._set,o))return this._set[o]}throw new Error('"'+s+'" is not in the set.')},i.prototype.at=function(s){if(s>=0&&s<this._array.length)return this._array[s];throw new Error("No element indexed by "+s)},i.prototype.toArray=function(){return this._array.slice()},$h.ArraySet=i,$h}var qh={},r3;function TC(){if(r3)return qh;r3=1;var e=cr();function t(i,r){var s=i.generatedLine,u=r.generatedLine,o=i.generatedColumn,c=r.generatedColumn;return u>s||u==s&&c>=o||e.compareByGeneratedPositionsInflated(i,r)<=0}function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return n.prototype.unsortedForEach=function(r,s){this._array.forEach(r,s)},n.prototype.add=function(r){t(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},qh.MappingList=n,qh}var s3;function u3(){if(s3)return Oh;s3=1;var e=e3(),t=cr(),n=i3().ArraySet,i=TC().MappingList;function r(s){s||(s={}),this._file=t.getArg(s,"file",null),this._sourceRoot=t.getArg(s,"sourceRoot",null),this._skipValidation=t.getArg(s,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new i,this._sourcesContents=null}return r.prototype._version=3,r.fromSourceMap=function(u){var o=u.sourceRoot,c=new r({file:u.file,sourceRoot:o});return u.eachMapping(function(h){var d={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(d.source=h.source,o!=null&&(d.source=t.relative(o,d.source)),d.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(d.name=h.name)),c.addMapping(d)}),u.sources.forEach(function(h){var d=h;o!==null&&(d=t.relative(o,h)),c._sources.has(d)||c._sources.add(d);var g=u.sourceContentFor(h);g!=null&&c.setSourceContent(h,g)}),c},r.prototype.addMapping=function(u){var o=t.getArg(u,"generated"),c=t.getArg(u,"original",null),h=t.getArg(u,"source",null),d=t.getArg(u,"name",null);this._skipValidation||this._validateMapping(o,c,h,d),h!=null&&(h=String(h),this._sources.has(h)||this._sources.add(h)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:o.line,generatedColumn:o.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:h,name:d})},r.prototype.setSourceContent=function(u,o){var c=u;this._sourceRoot!=null&&(c=t.relative(this._sourceRoot,c)),o!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(c)]=o):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},r.prototype.applySourceMap=function(u,o,c){var h=o;if(o==null){if(u.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=u.file}var d=this._sourceRoot;d!=null&&(h=t.relative(d,h));var g=new n,m=new n;this._mappings.unsortedForEach(function(M){if(M.source===h&&M.originalLine!=null){var C=u.originalPositionFor({line:M.originalLine,column:M.originalColumn});C.source!=null&&(M.source=C.source,c!=null&&(M.source=t.join(c,M.source)),d!=null&&(M.source=t.relative(d,M.source)),M.originalLine=C.line,M.originalColumn=C.column,C.name!=null&&(M.name=C.name))}var P=M.source;P!=null&&!g.has(P)&&g.add(P);var w=M.name;w!=null&&!m.has(w)&&m.add(w)},this),this._sources=g,this._names=m,u.sources.forEach(function(M){var C=u.sourceContentFor(M);C!=null&&(c!=null&&(M=t.join(c,M)),d!=null&&(M=t.relative(d,M)),this.setSourceContent(M,C))},this)},r.prototype._validateMapping=function(u,o,c,h){if(o&&typeof o.line!="number"&&typeof o.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(u&&"line"in u&&"column"in u&&u.line>0&&u.column>=0&&!o&&!c&&!h)){if(u&&"line"in u&&"column"in u&&o&&"line"in o&&"column"in o&&u.line>0&&u.column>=0&&o.line>0&&o.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:u,source:c,original:o,name:h}))}},r.prototype._serializeMappings=function(){for(var u=0,o=1,c=0,h=0,d=0,g=0,m="",M,C,P,w,I=this._mappings.toArray(),k=0,X=I.length;k<X;k++){if(C=I[k],M="",C.generatedLine!==o)for(u=0;C.generatedLine!==o;)M+=";",o++;else if(k>0){if(!t.compareByGeneratedPositionsInflated(C,I[k-1]))continue;M+=","}M+=e.encode(C.generatedColumn-u),u=C.generatedColumn,C.source!=null&&(w=this._sources.indexOf(C.source),M+=e.encode(w-g),g=w,M+=e.encode(C.originalLine-1-h),h=C.originalLine-1,M+=e.encode(C.originalColumn-c),c=C.originalColumn,C.name!=null&&(P=this._names.indexOf(C.name),M+=e.encode(P-d),d=P)),m+=M}return m},r.prototype._generateSourcesContent=function(u,o){return u.map(function(c){if(!this._sourcesContents)return null;o!=null&&(c=t.relative(o,c));var h=t.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},r.prototype.toJSON=function(){var u={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(u.file=this._file),this._sourceRoot!=null&&(u.sourceRoot=this._sourceRoot),this._sourcesContents&&(u.sourcesContent=this._generateSourcesContent(u.sources,u.sourceRoot)),u},r.prototype.toString=function(){return JSON.stringify(this.toJSON())},Oh.SourceMapGenerator=r,Oh}var lr={},Kh={},a3;function LC(){return a3||(a3=1,function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(n,i,r,s,u,o){var c=Math.floor((i-n)/2)+n,h=u(r,s[c],!0);return h===0?c:h>0?i-c>1?t(c,i,r,s,u,o):o==e.LEAST_UPPER_BOUND?i<s.length?i:-1:c:c-n>1?t(n,c,r,s,u,o):o==e.LEAST_UPPER_BOUND?c:n<0?-1:n}e.search=function(i,r,s,u){if(r.length===0)return-1;var o=t(-1,r.length,i,r,s,u||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&s(r[o],r[o-1],!0)===0;)--o;return o}}(Kh)),Kh}var Hh={},o3;function RC(){if(o3)return Hh;o3=1;function e(i,r,s){var u=i[r];i[r]=i[s],i[s]=u}function t(i,r){return Math.round(i+Math.random()*(r-i))}function n(i,r,s,u){if(s<u){var o=t(s,u),c=s-1;e(i,o,u);for(var h=i[u],d=s;d<u;d++)r(i[d],h)<=0&&(c+=1,e(i,c,d));e(i,c+1,d);var g=c+1;n(i,r,s,g-1),n(i,r,g+1,u)}}return Hh.quickSort=function(i,r){n(i,r,0,i.length-1)},Hh}var c3;function GC(){if(c3)return lr;c3=1;var e=cr(),t=LC(),n=i3().ArraySet,i=e3(),r=RC().quickSort;function s(h,d){var g=h;return typeof h=="string"&&(g=e.parseSourceMapInput(h)),g.sections!=null?new c(g,d):new u(g,d)}s.fromSourceMap=function(h,d){return u.fromSourceMap(h,d)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(d,g){var m=d.charAt(g);return m===";"||m===","},s.prototype._parseMappings=function(d,g){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(d,g,m){var M=g||null,C=m||s.GENERATED_ORDER,P;switch(C){case s.GENERATED_ORDER:P=this._generatedMappings;break;case s.ORIGINAL_ORDER:P=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var w=this.sourceRoot;P.map(function(I){var k=I.source===null?null:this._sources.at(I.source);return k=e.computeSourceURL(w,k,this._sourceMapURL),{source:k,generatedLine:I.generatedLine,generatedColumn:I.generatedColumn,originalLine:I.originalLine,originalColumn:I.originalColumn,name:I.name===null?null:this._names.at(I.name)}},this).forEach(d,M)},s.prototype.allGeneratedPositionsFor=function(d){var g=e.getArg(d,"line"),m={source:e.getArg(d,"source"),originalLine:g,originalColumn:e.getArg(d,"column",0)};if(m.source=this._findSourceIndex(m.source),m.source<0)return[];var M=[],C=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(C>=0){var P=this._originalMappings[C];if(d.column===void 0)for(var w=P.originalLine;P&&P.originalLine===w;)M.push({line:e.getArg(P,"generatedLine",null),column:e.getArg(P,"generatedColumn",null),lastColumn:e.getArg(P,"lastGeneratedColumn",null)}),P=this._originalMappings[++C];else for(var I=P.originalColumn;P&&P.originalLine===g&&P.originalColumn==I;)M.push({line:e.getArg(P,"generatedLine",null),column:e.getArg(P,"generatedColumn",null),lastColumn:e.getArg(P,"lastGeneratedColumn",null)}),P=this._originalMappings[++C]}return M},lr.SourceMapConsumer=s;function u(h,d){var g=h;typeof h=="string"&&(g=e.parseSourceMapInput(h));var m=e.getArg(g,"version"),M=e.getArg(g,"sources"),C=e.getArg(g,"names",[]),P=e.getArg(g,"sourceRoot",null),w=e.getArg(g,"sourcesContent",null),I=e.getArg(g,"mappings"),k=e.getArg(g,"file",null);if(m!=this._version)throw new Error("Unsupported version: "+m);P&&(P=e.normalize(P)),M=M.map(String).map(e.normalize).map(function(X){return P&&e.isAbsolute(P)&&e.isAbsolute(X)?e.relative(P,X):X}),this._names=n.fromArray(C.map(String),!0),this._sources=n.fromArray(M,!0),this._absoluteSources=this._sources.toArray().map(function(X){return e.computeSourceURL(P,X,d)}),this.sourceRoot=P,this.sourcesContent=w,this._mappings=I,this._sourceMapURL=d,this.file=k}u.prototype=Object.create(s.prototype),u.prototype.consumer=s,u.prototype._findSourceIndex=function(h){var d=h;if(this.sourceRoot!=null&&(d=e.relative(this.sourceRoot,d)),this._sources.has(d))return this._sources.indexOf(d);var g;for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==h)return g;return-1},u.fromSourceMap=function(d,g){var m=Object.create(u.prototype),M=m._names=n.fromArray(d._names.toArray(),!0),C=m._sources=n.fromArray(d._sources.toArray(),!0);m.sourceRoot=d._sourceRoot,m.sourcesContent=d._generateSourcesContent(m._sources.toArray(),m.sourceRoot),m.file=d._file,m._sourceMapURL=g,m._absoluteSources=m._sources.toArray().map(function(x){return e.computeSourceURL(m.sourceRoot,x,g)});for(var P=d._mappings.toArray().slice(),w=m.__generatedMappings=[],I=m.__originalMappings=[],k=0,X=P.length;k<X;k++){var _=P[k],S=new o;S.generatedLine=_.generatedLine,S.generatedColumn=_.generatedColumn,_.source&&(S.source=C.indexOf(_.source),S.originalLine=_.originalLine,S.originalColumn=_.originalColumn,_.name&&(S.name=M.indexOf(_.name)),I.push(S)),w.push(S)}return r(m.__originalMappings,e.compareByOriginalPositions),m},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}u.prototype._parseMappings=function(d,g){for(var m=1,M=0,C=0,P=0,w=0,I=0,k=d.length,X=0,_={},S={},x=[],N=[],V,H,Z,ee,O;X<k;)if(d.charAt(X)===";")m++,X++,M=0;else if(d.charAt(X)===",")X++;else{for(V=new o,V.generatedLine=m,ee=X;ee<k&&!this._charIsMappingSeparator(d,ee);ee++);if(H=d.slice(X,ee),Z=_[H],Z)X+=H.length;else{for(Z=[];X<ee;)i.decode(d,X,S),O=S.value,X=S.rest,Z.push(O);if(Z.length===2)throw new Error("Found a source, but no line and column");if(Z.length===3)throw new Error("Found a source and line, but no column");_[H]=Z}V.generatedColumn=M+Z[0],M=V.generatedColumn,Z.length>1&&(V.source=w+Z[1],w+=Z[1],V.originalLine=C+Z[2],C=V.originalLine,V.originalLine+=1,V.originalColumn=P+Z[3],P=V.originalColumn,Z.length>4&&(V.name=I+Z[4],I+=Z[4])),N.push(V),typeof V.originalLine=="number"&&x.push(V)}r(N,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=N,r(x,e.compareByOriginalPositions),this.__originalMappings=x},u.prototype._findMapping=function(d,g,m,M,C,P){if(d[m]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[m]);if(d[M]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[M]);return t.search(d,g,C,P)},u.prototype.computeColumnSpans=function(){for(var d=0;d<this._generatedMappings.length;++d){var g=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var m=this._generatedMappings[d+1];if(g.generatedLine===m.generatedLine){g.lastGeneratedColumn=m.generatedColumn-1;continue}}g.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(d){var g={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},m=this._findMapping(g,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(d,"bias",s.GREATEST_LOWER_BOUND));if(m>=0){var M=this._generatedMappings[m];if(M.generatedLine===g.generatedLine){var C=e.getArg(M,"source",null);C!==null&&(C=this._sources.at(C),C=e.computeSourceURL(this.sourceRoot,C,this._sourceMapURL));var P=e.getArg(M,"name",null);return P!==null&&(P=this._names.at(P)),{source:C,line:e.getArg(M,"originalLine",null),column:e.getArg(M,"originalColumn",null),name:P}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},u.prototype.sourceContentFor=function(d,g){if(!this.sourcesContent)return null;var m=this._findSourceIndex(d);if(m>=0)return this.sourcesContent[m];var M=d;this.sourceRoot!=null&&(M=e.relative(this.sourceRoot,M));var C;if(this.sourceRoot!=null&&(C=e.urlParse(this.sourceRoot))){var P=M.replace(/^file:\/\//,"");if(C.scheme=="file"&&this._sources.has(P))return this.sourcesContent[this._sources.indexOf(P)];if((!C.path||C.path=="/")&&this._sources.has("/"+M))return this.sourcesContent[this._sources.indexOf("/"+M)]}if(g)return null;throw new Error('"'+M+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(d){var g=e.getArg(d,"source");if(g=this._findSourceIndex(g),g<0)return{line:null,column:null,lastColumn:null};var m={source:g,originalLine:e.getArg(d,"line"),originalColumn:e.getArg(d,"column")},M=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(d,"bias",s.GREATEST_LOWER_BOUND));if(M>=0){var C=this._originalMappings[M];if(C.source===m.source)return{line:e.getArg(C,"generatedLine",null),column:e.getArg(C,"generatedColumn",null),lastColumn:e.getArg(C,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},lr.BasicSourceMapConsumer=u;function c(h,d){var g=h;typeof h=="string"&&(g=e.parseSourceMapInput(h));var m=e.getArg(g,"version"),M=e.getArg(g,"sections");if(m!=this._version)throw new Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var C={line:-1,column:0};this._sections=M.map(function(P){if(P.url)throw new Error("Support for url field in sections not implemented.");var w=e.getArg(P,"offset"),I=e.getArg(w,"line"),k=e.getArg(w,"column");if(I<C.line||I===C.line&&k<C.column)throw new Error("Section offsets must be ordered and non-overlapping.");return C=w,{generatedOffset:{generatedLine:I+1,generatedColumn:k+1},consumer:new s(e.getArg(P,"map"),d)}})}return c.prototype=Object.create(s.prototype),c.prototype.constructor=s,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var h=[],d=0;d<this._sections.length;d++)for(var g=0;g<this._sections[d].consumer.sources.length;g++)h.push(this._sections[d].consumer.sources[g]);return h}}),c.prototype.originalPositionFor=function(d){var g={generatedLine:e.getArg(d,"line"),generatedColumn:e.getArg(d,"column")},m=t.search(g,this._sections,function(C,P){var w=C.generatedLine-P.generatedOffset.generatedLine;return w||C.generatedColumn-P.generatedOffset.generatedColumn}),M=this._sections[m];return M?M.consumer.originalPositionFor({line:g.generatedLine-(M.generatedOffset.generatedLine-1),column:g.generatedColumn-(M.generatedOffset.generatedLine===g.generatedLine?M.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(d,g){for(var m=0;m<this._sections.length;m++){var M=this._sections[m],C=M.consumer.sourceContentFor(d,!0);if(C)return C}if(g)return null;throw new Error('"'+d+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(d){for(var g=0;g<this._sections.length;g++){var m=this._sections[g];if(m.consumer._findSourceIndex(e.getArg(d,"source"))!==-1){var M=m.consumer.generatedPositionFor(d);if(M){var C={line:M.line+(m.generatedOffset.generatedLine-1),column:M.column+(m.generatedOffset.generatedLine===M.line?m.generatedOffset.generatedColumn-1:0)};return C}}}return{line:null,column:null}},c.prototype._parseMappings=function(d,g){this.__generatedMappings=[],this.__originalMappings=[];for(var m=0;m<this._sections.length;m++)for(var M=this._sections[m],C=M.consumer._generatedMappings,P=0;P<C.length;P++){var w=C[P],I=M.consumer._sources.at(w.source);I=e.computeSourceURL(M.consumer.sourceRoot,I,this._sourceMapURL),this._sources.add(I),I=this._sources.indexOf(I);var k=null;w.name&&(k=M.consumer._names.at(w.name),this._names.add(k),k=this._names.indexOf(k));var X={source:I,generatedLine:w.generatedLine+(M.generatedOffset.generatedLine-1),generatedColumn:w.generatedColumn+(M.generatedOffset.generatedLine===w.generatedLine?M.generatedOffset.generatedColumn-1:0),originalLine:w.originalLine,originalColumn:w.originalColumn,name:k};this.__generatedMappings.push(X),typeof X.originalLine=="number"&&this.__originalMappings.push(X)}r(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),r(this.__originalMappings,e.compareByOriginalPositions)},lr.IndexedSourceMapConsumer=c,lr}var Jh={},l3;function XC(){if(l3)return Jh;l3=1;var e=u3().SourceMapGenerator,t=cr(),n=/(\r?\n)/,i=10,r="$$$isSourceNode$$$";function s(u,o,c,h,d){this.children=[],this.sourceContents={},this.line=u??null,this.column=o??null,this.source=c??null,this.name=d??null,this[r]=!0,h!=null&&this.add(h)}return s.fromStringWithSourceMap=function(o,c,h){var d=new s,g=o.split(n),m=0,M=function(){var k=_(),X=_()||"";return k+X;function _(){return m<g.length?g[m++]:void 0}},C=1,P=0,w=null;return c.eachMapping(function(k){if(w!==null)if(C<k.generatedLine)I(w,M()),C++,P=0;else{var X=g[m]||"",_=X.substr(0,k.generatedColumn-P);g[m]=X.substr(k.generatedColumn-P),P=k.generatedColumn,I(w,_),w=k;return}for(;C<k.generatedLine;)d.add(M()),C++;if(P<k.generatedColumn){var X=g[m]||"";d.add(X.substr(0,k.generatedColumn)),g[m]=X.substr(k.generatedColumn),P=k.generatedColumn}w=k},this),m<g.length&&(w&&I(w,M()),d.add(g.splice(m).join(""))),c.sources.forEach(function(k){var X=c.sourceContentFor(k);X!=null&&(h!=null&&(k=t.join(h,k)),d.setSourceContent(k,X))}),d;function I(k,X){if(k===null||k.source===void 0)d.add(X);else{var _=h?t.join(h,k.source):k.source;d.add(new s(k.originalLine,k.originalColumn,_,X,k.name))}}},s.prototype.add=function(o){if(Array.isArray(o))o.forEach(function(c){this.add(c)},this);else if(o[r]||typeof o=="string")o&&this.children.push(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},s.prototype.prepend=function(o){if(Array.isArray(o))for(var c=o.length-1;c>=0;c--)this.prepend(o[c]);else if(o[r]||typeof o=="string")this.children.unshift(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this},s.prototype.walk=function(o){for(var c,h=0,d=this.children.length;h<d;h++)c=this.children[h],c[r]?c.walk(o):c!==""&&o(c,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(o){var c,h,d=this.children.length;if(d>0){for(c=[],h=0;h<d-1;h++)c.push(this.children[h]),c.push(o);c.push(this.children[h]),this.children=c}return this},s.prototype.replaceRight=function(o,c){var h=this.children[this.children.length-1];return h[r]?h.replaceRight(o,c):typeof h=="string"?this.children[this.children.length-1]=h.replace(o,c):this.children.push("".replace(o,c)),this},s.prototype.setSourceContent=function(o,c){this.sourceContents[t.toSetString(o)]=c},s.prototype.walkSourceContents=function(o){for(var c=0,h=this.children.length;c<h;c++)this.children[c][r]&&this.children[c].walkSourceContents(o);for(var d=Object.keys(this.sourceContents),c=0,h=d.length;c<h;c++)o(t.fromSetString(d[c]),this.sourceContents[d[c]])},s.prototype.toString=function(){var o="";return this.walk(function(c){o+=c}),o},s.prototype.toStringWithSourceMap=function(o){var c={code:"",line:1,column:0},h=new e(o),d=!1,g=null,m=null,M=null,C=null;return this.walk(function(P,w){c.code+=P,w.source!==null&&w.line!==null&&w.column!==null?((g!==w.source||m!==w.line||M!==w.column||C!==w.name)&&h.addMapping({source:w.source,original:{line:w.line,column:w.column},generated:{line:c.line,column:c.column},name:w.name}),g=w.source,m=w.line,M=w.column,C=w.name,d=!0):d&&(h.addMapping({generated:{line:c.line,column:c.column}}),g=null,d=!1);for(var I=0,k=P.length;I<k;I++)P.charCodeAt(I)===i?(c.line++,c.column=0,I+1===k?(g=null,d=!1):d&&h.addMapping({source:w.source,original:{line:w.line,column:w.column},generated:{line:c.line,column:c.column},name:w.name})):c.column++}),this.walkSourceContents(function(P,w){h.setSourceContent(P,w)}),{code:c.code,map:h}},Jh.SourceNode=s,Jh}var f3;function ZC(){return f3||(f3=1,or.SourceMapGenerator=u3().SourceMapGenerator,or.SourceMapConsumer=GC().SourceMapConsumer,or.SourceNode=XC().SourceNode),or}const WC={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/estools/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files:["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],version:"2.1.0",engines:{node:">=6.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/escodegen.git"},dependencies:{estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1"},optionalDependencies:{"source-map":"~0.6.1"},devDependencies:{acorn:"^8.0.4",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^4.0.2","gulp-eslint":"^6.0.0","gulp-mocha":"^7.0.2",minimist:"^1.2.5",optionator:"^0.9.1",semver:"^7.3.4"},license:"BSD-2-Clause",scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}};var h3;function zC(){return h3||(h3=1,function(e){(function(){var t,n,i,r,s,u,o,c,h,d,g,m,M,C,P,w,I,k,X,_,S,x,N,V,H,Z;s=xC(),u=NC(),t=s.Syntax;function ee(l){return Re.Expression.hasOwnProperty(l.type)}function O(l){return Re.Statement.hasOwnProperty(l.type)}n={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},i={"??":n.Coalesce,"||":n.LogicalOR,"&&":n.LogicalAND,"|":n.BitwiseOR,"^":n.BitwiseXOR,"&":n.BitwiseAND,"==":n.Equality,"!=":n.Equality,"===":n.Equality,"!==":n.Equality,is:n.Equality,isnt:n.Equality,"<":n.Relational,">":n.Relational,"<=":n.Relational,">=":n.Relational,in:n.Relational,instanceof:n.Relational,"<<":n.BitwiseSHIFT,">>":n.BitwiseSHIFT,">>>":n.BitwiseSHIFT,"+":n.Additive,"-":n.Additive,"*":n.Multiplicative,"%":n.Multiplicative,"/":n.Multiplicative,"**":n.Exponentiation};var z=1,te=2,Ae=4,pe=8,fe=16,se=32,Ve=64,ce=te|Ae,ye=z|te,q=z|te|Ae,Ee=z,ut=Ae,He=z|Ae,Me=z,Ye=z|se,Be=0,Je=z|fe,kt=z|pe;function ft(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Te(l,y){var p="";for(y|=0;y>0;y>>>=1,l+=l)y&1&&(p+=l);return p}function Cn(l){return/[\r\n]/g.test(l)}function ke(l){var y=l.length;return y&&u.code.isLineTerminator(l.charCodeAt(y-1))}function un(l,y){var p;for(p in y)y.hasOwnProperty(p)&&(l[p]=y[p]);return l}function $t(l,y){var p,b;function D(T){return typeof T=="object"&&T instanceof Object&&!(T instanceof RegExp)}for(p in y)y.hasOwnProperty(p)&&(b=y[p],D(b)?D(l[p])?$t(l[p],b):l[p]=$t({},b):l[p]=b);return l}function qt(l){var y,p,b,D,T;if(l!==l)throw new Error("Numeric literal whose value is NaN");if(l<0||l===0&&1/l<0)throw new Error("Numeric literal whose value is negative");if(l===1/0)return h?"null":d?"1e400":"1e+400";if(y=""+l,!d||y.length<3)return y;for(p=y.indexOf("."),!h&&y.charCodeAt(0)===48&&p===1&&(p=0,y=y.slice(1)),b=y,y=y.replace("e+","e"),D=0,(T=b.indexOf("e"))>0&&(D=+b.slice(T+1),b=b.slice(0,T)),p>=0&&(D-=b.length-p-1,b=+(b.slice(0,p)+b.slice(p+1))+""),T=0;b.charCodeAt(b.length+T-1)===48;)--T;return T!==0&&(D-=T,b=b.slice(0,T)),D!==0&&(b+="e"+D),(b.length<y.length||g&&l>1e12&&Math.floor(l)===l&&(b="0x"+l.toString(16)).length<y.length)&&+b===l&&(y=b),y}function vn(l,y){return(l&-2)===8232?(y?"u":"\\u")+(l===8232?"2028":"2029"):l===10||l===13?(y?"":"\\")+(l===10?"n":"r"):String.fromCharCode(l)}function ui(l){var y,p,b,D,T,G,W,U;if(p=l.toString(),l.source){if(y=p.match(/\/([^/]*)$/),!y)return p;for(b=y[1],p="",W=!1,U=!1,D=0,T=l.source.length;D<T;++D)G=l.source.charCodeAt(D),U?(p+=vn(G,U),U=!1):(W?G===93&&(W=!1):G===47?p+="\\":G===91&&(W=!0),p+=vn(G,U),U=G===92);return"/"+p+"/"+b}return p}function an(l,y){var p;return l===8?"\\b":l===12?"\\f":l===9?"\\t":(p=l.toString(16).toUpperCase(),h||l>255?"\\u"+"0000".slice(p.length)+p:l===0&&!u.code.isDecimalDigit(y)?"\\0":l===11?"\\x0B":"\\x"+"00".slice(p.length)+p)}function Pn(l){if(l===92)return"\\\\";if(l===10)return"\\n";if(l===13)return"\\r";if(l===8232)return"\\u2028";if(l===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function on(l){var y,p,b,D;for(D=m==="double"?'"':"'",y=0,p=l.length;y<p;++y)if(b=l.charCodeAt(y),b===39){D='"';break}else if(b===34){D="'";break}else b===92&&++y;return D+l+D}function vt(l){var y="",p,b,D,T=0,G=0,W,U;for(p=0,b=l.length;p<b;++p){if(D=l.charCodeAt(p),D===39)++T;else if(D===34)++G;else if(D===47&&h)y+="\\";else if(u.code.isLineTerminator(D)||D===92){y+=Pn(D);continue}else if(!u.code.isIdentifierPartES5(D)&&(h&&D<32||!h&&!M&&(D<32||D>126))){y+=an(D,l.charCodeAt(p+1));continue}y+=String.fromCharCode(D)}if(W=!(m==="double"||m==="auto"&&G<T),U=W?"'":'"',!(W?T:G))return U+y+U;for(l=y,y=U,p=0,b=l.length;p<b;++p)D=l.charCodeAt(p),(D===39&&W||D===34&&!W)&&(y+="\\"),y+=String.fromCharCode(D);return y+U}function Wn(l){var y,p,b,D="";for(y=0,p=l.length;y<p;++y)b=l[y],D+=Array.isArray(b)?Wn(b):b;return D}function be(l,y){if(!x)return Array.isArray(l)?Wn(l):l;if(y==null){if(l instanceof r)return l;y={}}return y.loc==null?new r(null,null,x,l,y.name||null):new r(y.loc.start.line,y.loc.start.column,x===!0?y.loc.source||null:x,l,y.name||null)}function We(){return P||" "}function ae(l,y){var p,b,D,T;return p=be(l).toString(),p.length===0?[y]:(b=be(y).toString(),b.length===0?[l]:(D=p.charCodeAt(p.length-1),T=b.charCodeAt(0),(D===43||D===45)&&D===T||u.code.isIdentifierPartES5(D)&&u.code.isIdentifierPartES5(T)||D===47&&T===105?[l,We(),y]:u.code.isWhiteSpace(D)||u.code.isLineTerminator(D)||u.code.isWhiteSpace(T)||u.code.isLineTerminator(T)?[l,y]:[l,P,y]))}function Oe(l){return[o,l]}function Ie(l){var y;y=o,o+=c,l(o),o=y}function zn(l){var y;for(y=l.length-1;y>=0&&!u.code.isLineTerminator(l.charCodeAt(y));--y);return l.length-1-y}function Ar(l,y){var p,b,D,T,G,W,U,ve;for(p=l.split(/\r\n|[\r\n]/),W=Number.MAX_VALUE,b=1,D=p.length;b<D;++b){for(T=p[b],G=0;G<T.length&&u.code.isWhiteSpace(T.charCodeAt(G));)++G;W>G&&(W=G)}for(typeof y<"u"?(U=o,p[1][W]==="*"&&(y+=" "),o=y):(W&1&&--W,U=o),b=1,D=p.length;b<D;++b)ve=be(Oe(p[b].slice(W))),p[b]=x?ve.join(""):ve;return o=U,p.join(`
`)}function gt(l,y){if(l.type==="Line"){if(ke(l.value))return"//"+l.value;var p="//"+l.value;return V||(p+=`
`),p}return _.format.indent.adjustMultilineComment&&/[\n\r]/.test(l.value)?Ar("/*"+l.value+"*/",y):"/*"+l.value+"*/"}function Kt(l,y){var p,b,D,T,G,W,U,ve,je,En,On,Os,js,Nt;if(l.leadingComments&&l.leadingComments.length>0){if(T=y,V){for(D=l.leadingComments[0],y=[],ve=D.extendedRange,je=D.range,On=N.substring(ve[0],je[0]),Nt=(On.match(/\n/g)||[]).length,Nt>0?(y.push(Te(`
`,Nt)),y.push(Oe(gt(D)))):(y.push(On),y.push(gt(D))),En=je,p=1,b=l.leadingComments.length;p<b;p++)D=l.leadingComments[p],je=D.range,Os=N.substring(En[1],je[0]),Nt=(Os.match(/\n/g)||[]).length,y.push(Te(`
`,Nt)),y.push(Oe(gt(D))),En=je;js=N.substring(je[1],ve[1]),Nt=(js.match(/\n/g)||[]).length,y.push(Te(`
`,Nt))}else for(D=l.leadingComments[0],y=[],k&&l.type===t.Program&&l.body.length===0&&y.push(`
`),y.push(gt(D)),ke(be(y).toString())||y.push(`
`),p=1,b=l.leadingComments.length;p<b;++p)D=l.leadingComments[p],U=[gt(D)],ke(be(U).toString())||U.push(`
`),y.push(Oe(U));y.push(Oe(T))}if(l.trailingComments)if(V)D=l.trailingComments[0],ve=D.extendedRange,je=D.range,On=N.substring(ve[0],je[0]),Nt=(On.match(/\n/g)||[]).length,Nt>0?(y.push(Te(`
`,Nt)),y.push(Oe(gt(D)))):(y.push(On),y.push(gt(D)));else for(G=!ke(be(y).toString()),W=Te(" ",zn(be([o,y,c]).toString())),p=0,b=l.trailingComments.length;p<b;++p)D=l.trailingComments[p],G?(p===0?y=[y,c]:y=[y,W],y.push(gt(D,W))):y=[y,Oe(gt(D))],p!==b-1&&!ke(be(y).toString())&&(y=[y,`
`]);return y}function Pt(l,y,p){var b,D=0;for(b=l;b<y;b++)N[b]===`
`&&D++;for(b=1;b<D;b++)p.push(C)}function he(l,y,p){return y<p?["(",l,")"]:l}function Dn(l){var y,p,b;for(b=l.split(/\r\n|\n/),y=1,p=b.length;y<p;y++)b[y]=C+o+b[y];return b}function Fn(l,y){var p,b,D;return p=l[_.verbatim],typeof p=="string"?b=he(Dn(p),n.Sequence,y):(b=Dn(p.content),D=p.precedence!=null?p.precedence:n.Sequence,b=he(b,D,y)),be(b,l)}function Re(){}Re.prototype.maybeBlock=function(l,y){var p,b,D=this;return b=!_.comment||!l.leadingComments,l.type===t.BlockStatement&&b?[P,this.generateStatement(l,y)]:l.type===t.EmptyStatement&&b?";":(Ie(function(){p=[C,Oe(D.generateStatement(l,y))]}),p)},Re.prototype.maybeBlockSuffix=function(l,y){var p=ke(be(y).toString());return l.type===t.BlockStatement&&(!_.comment||!l.leadingComments)&&!p?[y,P]:p?[y,o]:[y,C,o]};function tt(l){return be(l.name,l)}function cn(l,y){return l.async?"async"+(y?We():P):""}function Ce(l){var y=l.generator&&!_.moz.starlessGenerator;return y?"*"+P:""}function It(l){var y=l.value,p="";return y.async&&(p+=cn(y,!l.computed)),y.generator&&(p+=Ce(y)?"*":""),p}Re.prototype.generatePattern=function(l,y,p){return l.type===t.Identifier?tt(l):this.generateExpression(l,y,p)},Re.prototype.generateFunctionParams=function(l){var y,p,b,D;if(D=!1,l.type===t.ArrowFunctionExpression&&!l.rest&&(!l.defaults||l.defaults.length===0)&&l.params.length===1&&l.params[0].type===t.Identifier)b=[cn(l,!0),tt(l.params[0])];else{for(b=l.type===t.ArrowFunctionExpression?[cn(l,!1)]:[],b.push("("),l.defaults&&(D=!0),y=0,p=l.params.length;y<p;++y)D&&l.defaults[y]?b.push(this.generateAssignment(l.params[y],l.defaults[y],"=",n.Assignment,q)):b.push(this.generatePattern(l.params[y],n.Assignment,q)),y+1<p&&b.push(","+P);l.rest&&(l.params.length&&b.push(","+P),b.push("..."),b.push(tt(l.rest))),b.push(")")}return b},Re.prototype.generateFunctionBody=function(l){var y,p;return y=this.generateFunctionParams(l),l.type===t.ArrowFunctionExpression&&(y.push(P),y.push("=>")),l.expression?(y.push(P),p=this.generateExpression(l.body,n.Assignment,q),p.toString().charAt(0)==="{"&&(p=["(",p,")"]),y.push(p)):y.push(this.maybeBlock(l.body,kt)),y},Re.prototype.generateIterationForStatement=function(l,y,p){var b=["for"+(y.await?We()+"await":"")+P+"("],D=this;return Ie(function(){y.left.type===t.VariableDeclaration?Ie(function(){b.push(y.left.kind+We()),b.push(D.generateStatement(y.left.declarations[0],Be))}):b.push(D.generateExpression(y.left,n.Call,q)),b=ae(b,l),b=[ae(b,D.generateExpression(y.right,n.Assignment,q)),")"]}),b.push(this.maybeBlock(y.body,p)),b},Re.prototype.generatePropertyKey=function(l,y){var p=[];return y&&p.push("["),p.push(this.generateExpression(l,n.Assignment,q)),y&&p.push("]"),p},Re.prototype.generateAssignment=function(l,y,p,b,D){return n.Assignment<b&&(D|=z),he([this.generateExpression(l,n.Call,D),P+p+P,this.generateExpression(y,n.Assignment,D)],n.Assignment,b)},Re.prototype.semicolon=function(l){return!I&&l&se?"":";"},Re.Statement={BlockStatement:function(l,y){var p,b,D=["{",C],T=this;return Ie(function(){l.body.length===0&&V&&(p=l.range,p[1]-p[0]>2&&(b=N.substring(p[0]+1,p[1]-1),b[0]===`
`&&(D=["{"]),D.push(b)));var G,W,U,ve;for(ve=Me,y&pe&&(ve|=fe),G=0,W=l.body.length;G<W;++G)V&&(G===0&&(l.body[0].leadingComments&&(p=l.body[0].leadingComments[0].extendedRange,b=N.substring(p[0],p[1]),b[0]===`
`&&(D=["{"])),l.body[0].leadingComments||Pt(l.range[0],l.body[0].range[0],D)),G>0&&!l.body[G-1].trailingComments&&!l.body[G].leadingComments&&Pt(l.body[G-1].range[1],l.body[G].range[0],D)),G===W-1&&(ve|=se),l.body[G].leadingComments&&V?U=T.generateStatement(l.body[G],ve):U=Oe(T.generateStatement(l.body[G],ve)),D.push(U),ke(be(U).toString())||V&&G<W-1&&l.body[G+1].leadingComments||D.push(C),V&&G===W-1&&(l.body[G].trailingComments||Pt(l.body[G].range[1],l.range[1],D))}),D.push(Oe("}")),D},BreakStatement:function(l,y){return l.label?"break "+l.label.name+this.semicolon(y):"break"+this.semicolon(y)},ContinueStatement:function(l,y){return l.label?"continue "+l.label.name+this.semicolon(y):"continue"+this.semicolon(y)},ClassBody:function(l,y){var p=["{",C],b=this;return Ie(function(D){var T,G;for(T=0,G=l.body.length;T<G;++T)p.push(D),p.push(b.generateExpression(l.body[T],n.Sequence,q)),T+1<G&&p.push(C)}),ke(be(p).toString())||p.push(C),p.push(o),p.push("}"),p},ClassDeclaration:function(l,y){var p,b;return p=["class"],l.id&&(p=ae(p,this.generateExpression(l.id,n.Sequence,q))),l.superClass&&(b=ae("extends",this.generateExpression(l.superClass,n.Unary,q)),p=ae(p,b)),p.push(P),p.push(this.generateStatement(l.body,Ye)),p},DirectiveStatement:function(l,y){return _.raw&&l.raw?l.raw+this.semicolon(y):on(l.directive)+this.semicolon(y)},DoWhileStatement:function(l,y){var p=ae("do",this.maybeBlock(l.body,Me));return p=this.maybeBlockSuffix(l.body,p),ae(p,["while"+P+"(",this.generateExpression(l.test,n.Sequence,q),")"+this.semicolon(y)])},CatchClause:function(l,y){var p,b=this;return Ie(function(){var D;l.param?(p=["catch"+P+"(",b.generateExpression(l.param,n.Sequence,q),")"],l.guard&&(D=b.generateExpression(l.guard,n.Sequence,q),p.splice(2,0," if ",D))):p=["catch"]}),p.push(this.maybeBlock(l.body,Me)),p},DebuggerStatement:function(l,y){return"debugger"+this.semicolon(y)},EmptyStatement:function(l,y){return";"},ExportDefaultDeclaration:function(l,y){var p=["export"],b;return b=y&se?Ye:Me,p=ae(p,"default"),O(l.declaration)?p=ae(p,this.generateStatement(l.declaration,b)):p=ae(p,this.generateExpression(l.declaration,n.Assignment,q)+this.semicolon(y)),p},ExportNamedDeclaration:function(l,y){var p=["export"],b,D=this;return b=y&se?Ye:Me,l.declaration?ae(p,this.generateStatement(l.declaration,b)):(l.specifiers&&(l.specifiers.length===0?p=ae(p,"{"+P+"}"):l.specifiers[0].type===t.ExportBatchSpecifier?p=ae(p,this.generateExpression(l.specifiers[0],n.Sequence,q)):(p=ae(p,"{"),Ie(function(T){var G,W;for(p.push(C),G=0,W=l.specifiers.length;G<W;++G)p.push(T),p.push(D.generateExpression(l.specifiers[G],n.Sequence,q)),G+1<W&&p.push(","+C)}),ke(be(p).toString())||p.push(C),p.push(o+"}")),l.source?p=ae(p,["from"+P,this.generateExpression(l.source,n.Sequence,q),this.semicolon(y)]):p.push(this.semicolon(y))),p)},ExportAllDeclaration:function(l,y){return["export"+P,"*"+P,"from"+P,this.generateExpression(l.source,n.Sequence,q),this.semicolon(y)]},ExpressionStatement:function(l,y){var p,b;function D(W){var U;return W.slice(0,5)!=="class"?!1:(U=W.charCodeAt(5),U===123||u.code.isWhiteSpace(U)||u.code.isLineTerminator(U))}function T(W){var U;return W.slice(0,8)!=="function"?!1:(U=W.charCodeAt(8),U===40||u.code.isWhiteSpace(U)||U===42||u.code.isLineTerminator(U))}function G(W){var U,ve,je;if(W.slice(0,5)!=="async"||!u.code.isWhiteSpace(W.charCodeAt(5)))return!1;for(ve=6,je=W.length;ve<je&&u.code.isWhiteSpace(W.charCodeAt(ve));++ve);return ve===je||W.slice(ve,ve+8)!=="function"?!1:(U=W.charCodeAt(ve+8),U===40||u.code.isWhiteSpace(U)||U===42||u.code.isLineTerminator(U))}return p=[this.generateExpression(l.expression,n.Sequence,q)],b=be(p).toString(),b.charCodeAt(0)===123||D(b)||T(b)||G(b)||X&&y&fe&&l.expression.type===t.Literal&&typeof l.expression.value=="string"?p=["(",p,")"+this.semicolon(y)]:p.push(this.semicolon(y)),p},ImportDeclaration:function(l,y){var p,b,D=this;return l.specifiers.length===0?["import",P,this.generateExpression(l.source,n.Sequence,q),this.semicolon(y)]:(p=["import"],b=0,l.specifiers[b].type===t.ImportDefaultSpecifier&&(p=ae(p,[this.generateExpression(l.specifiers[b],n.Sequence,q)]),++b),l.specifiers[b]&&(b!==0&&p.push(","),l.specifiers[b].type===t.ImportNamespaceSpecifier?p=ae(p,[P,this.generateExpression(l.specifiers[b],n.Sequence,q)]):(p.push(P+"{"),l.specifiers.length-b===1?(p.push(P),p.push(this.generateExpression(l.specifiers[b],n.Sequence,q)),p.push(P+"}"+P)):(Ie(function(T){var G,W;for(p.push(C),G=b,W=l.specifiers.length;G<W;++G)p.push(T),p.push(D.generateExpression(l.specifiers[G],n.Sequence,q)),G+1<W&&p.push(","+C)}),ke(be(p).toString())||p.push(C),p.push(o+"}"+P)))),p=ae(p,["from"+P,this.generateExpression(l.source,n.Sequence,q),this.semicolon(y)]),p)},VariableDeclarator:function(l,y){var p=y&z?q:ce;return l.init?[this.generateExpression(l.id,n.Assignment,p),P,"=",P,this.generateExpression(l.init,n.Assignment,p)]:this.generatePattern(l.id,n.Assignment,p)},VariableDeclaration:function(l,y){var p,b,D,T,G,W=this;p=[l.kind],G=y&z?Me:Be;function U(){for(T=l.declarations[0],_.comment&&T.leadingComments?(p.push(`
`),p.push(Oe(W.generateStatement(T,G)))):(p.push(We()),p.push(W.generateStatement(T,G))),b=1,D=l.declarations.length;b<D;++b)T=l.declarations[b],_.comment&&T.leadingComments?(p.push(","+C),p.push(Oe(W.generateStatement(T,G)))):(p.push(","+P),p.push(W.generateStatement(T,G)))}return l.declarations.length>1?Ie(U):U(),p.push(this.semicolon(y)),p},ThrowStatement:function(l,y){return[ae("throw",this.generateExpression(l.argument,n.Sequence,q)),this.semicolon(y)]},TryStatement:function(l,y){var p,b,D,T;if(p=["try",this.maybeBlock(l.block,Me)],p=this.maybeBlockSuffix(l.block,p),l.handlers)for(b=0,D=l.handlers.length;b<D;++b)p=ae(p,this.generateStatement(l.handlers[b],Me)),(l.finalizer||b+1!==D)&&(p=this.maybeBlockSuffix(l.handlers[b].body,p));else{for(T=l.guardedHandlers||[],b=0,D=T.length;b<D;++b)p=ae(p,this.generateStatement(T[b],Me)),(l.finalizer||b+1!==D)&&(p=this.maybeBlockSuffix(T[b].body,p));if(l.handler)if(Array.isArray(l.handler))for(b=0,D=l.handler.length;b<D;++b)p=ae(p,this.generateStatement(l.handler[b],Me)),(l.finalizer||b+1!==D)&&(p=this.maybeBlockSuffix(l.handler[b].body,p));else p=ae(p,this.generateStatement(l.handler,Me)),l.finalizer&&(p=this.maybeBlockSuffix(l.handler.body,p))}return l.finalizer&&(p=ae(p,["finally",this.maybeBlock(l.finalizer,Me)])),p},SwitchStatement:function(l,y){var p,b,D,T,G,W=this;if(Ie(function(){p=["switch"+P+"(",W.generateExpression(l.discriminant,n.Sequence,q),")"+P+"{"+C]}),l.cases)for(G=Me,D=0,T=l.cases.length;D<T;++D)D===T-1&&(G|=se),b=Oe(this.generateStatement(l.cases[D],G)),p.push(b),ke(be(b).toString())||p.push(C);return p.push(Oe("}")),p},SwitchCase:function(l,y){var p,b,D,T,G,W=this;return Ie(function(){for(l.test?p=[ae("case",W.generateExpression(l.test,n.Sequence,q)),":"]:p=["default:"],D=0,T=l.consequent.length,T&&l.consequent[0].type===t.BlockStatement&&(b=W.maybeBlock(l.consequent[0],Me),p.push(b),D=1),D!==T&&!ke(be(p).toString())&&p.push(C),G=Me;D<T;++D)D===T-1&&y&se&&(G|=se),b=Oe(W.generateStatement(l.consequent[D],G)),p.push(b),D+1!==T&&!ke(be(b).toString())&&p.push(C)}),p},IfStatement:function(l,y){var p,b,D,T=this;return Ie(function(){p=["if"+P+"(",T.generateExpression(l.test,n.Sequence,q),")"]}),D=y&se,b=Me,D&&(b|=se),l.alternate?(p.push(this.maybeBlock(l.consequent,Me)),p=this.maybeBlockSuffix(l.consequent,p),l.alternate.type===t.IfStatement?p=ae(p,["else ",this.generateStatement(l.alternate,b)]):p=ae(p,ae("else",this.maybeBlock(l.alternate,b)))):p.push(this.maybeBlock(l.consequent,b)),p},ForStatement:function(l,y){var p,b=this;return Ie(function(){p=["for"+P+"("],l.init?l.init.type===t.VariableDeclaration?p.push(b.generateStatement(l.init,Be)):(p.push(b.generateExpression(l.init,n.Sequence,ce)),p.push(";")):p.push(";"),l.test&&(p.push(P),p.push(b.generateExpression(l.test,n.Sequence,q))),p.push(";"),l.update&&(p.push(P),p.push(b.generateExpression(l.update,n.Sequence,q))),p.push(")")}),p.push(this.maybeBlock(l.body,y&se?Ye:Me)),p},ForInStatement:function(l,y){return this.generateIterationForStatement("in",l,y&se?Ye:Me)},ForOfStatement:function(l,y){return this.generateIterationForStatement("of",l,y&se?Ye:Me)},LabeledStatement:function(l,y){return[l.label.name+":",this.maybeBlock(l.body,y&se?Ye:Me)]},Program:function(l,y){var p,b,D,T,G;for(T=l.body.length,p=[k&&T>0?`
`:""],G=Je,D=0;D<T;++D)!k&&D===T-1&&(G|=se),V&&(D===0&&(l.body[0].leadingComments||Pt(l.range[0],l.body[D].range[0],p)),D>0&&!l.body[D-1].trailingComments&&!l.body[D].leadingComments&&Pt(l.body[D-1].range[1],l.body[D].range[0],p)),b=Oe(this.generateStatement(l.body[D],G)),p.push(b),D+1<T&&!ke(be(b).toString())&&(V&&l.body[D+1].leadingComments||p.push(C)),V&&D===T-1&&(l.body[D].trailingComments||Pt(l.body[D].range[1],l.range[1],p));return p},FunctionDeclaration:function(l,y){return[cn(l,!0),"function",Ce(l)||We(),l.id?tt(l.id):"",this.generateFunctionBody(l)]},ReturnStatement:function(l,y){return l.argument?[ae("return",this.generateExpression(l.argument,n.Sequence,q)),this.semicolon(y)]:["return"+this.semicolon(y)]},WhileStatement:function(l,y){var p,b=this;return Ie(function(){p=["while"+P+"(",b.generateExpression(l.test,n.Sequence,q),")"]}),p.push(this.maybeBlock(l.body,y&se?Ye:Me)),p},WithStatement:function(l,y){var p,b=this;return Ie(function(){p=["with"+P+"(",b.generateExpression(l.object,n.Sequence,q),")"]}),p.push(this.maybeBlock(l.body,y&se?Ye:Me)),p}},un(Re.prototype,Re.Statement),Re.Expression={SequenceExpression:function(l,y,p){var b,D,T;for(n.Sequence<y&&(p|=z),b=[],D=0,T=l.expressions.length;D<T;++D)b.push(this.generateExpression(l.expressions[D],n.Assignment,p)),D+1<T&&b.push(","+P);return he(b,n.Sequence,y)},AssignmentExpression:function(l,y,p){return this.generateAssignment(l.left,l.right,l.operator,y,p)},ArrowFunctionExpression:function(l,y,p){return he(this.generateFunctionBody(l),n.ArrowFunction,y)},ConditionalExpression:function(l,y,p){return n.Conditional<y&&(p|=z),he([this.generateExpression(l.test,n.Coalesce,p),P+"?"+P,this.generateExpression(l.consequent,n.Assignment,p),P+":"+P,this.generateExpression(l.alternate,n.Assignment,p)],n.Conditional,y)},LogicalExpression:function(l,y,p){return l.operator==="??"&&(p|=Ve),this.BinaryExpression(l,y,p)},BinaryExpression:function(l,y,p){var b,D,T,G,W,U;return G=i[l.operator],D=l.operator==="**"?n.Postfix:G,T=l.operator==="**"?G:G+1,G<y&&(p|=z),W=this.generateExpression(l.left,D,p),U=W.toString(),U.charCodeAt(U.length-1)===47&&u.code.isIdentifierPartES5(l.operator.charCodeAt(0))?b=[W,We(),l.operator]:b=ae(W,l.operator),W=this.generateExpression(l.right,T,p),l.operator==="/"&&W.toString().charAt(0)==="/"||l.operator.slice(-1)==="<"&&W.toString().slice(0,3)==="!--"?(b.push(We()),b.push(W)):b=ae(b,W),l.operator==="in"&&!(p&z)?["(",b,")"]:(l.operator==="||"||l.operator==="&&")&&p&Ve?["(",b,")"]:he(b,G,y)},CallExpression:function(l,y,p){var b,D,T;for(b=[this.generateExpression(l.callee,n.Call,ye)],l.optional&&b.push("?."),b.push("("),D=0,T=l.arguments.length;D<T;++D)b.push(this.generateExpression(l.arguments[D],n.Assignment,q)),D+1<T&&b.push(","+P);return b.push(")"),p&te?he(b,n.Call,y):["(",b,")"]},ChainExpression:function(l,y,p){n.OptionalChaining<y&&(p|=te);var b=this.generateExpression(l.expression,n.OptionalChaining,p);return he(b,n.OptionalChaining,y)},NewExpression:function(l,y,p){var b,D,T,G,W;if(D=l.arguments.length,W=p&Ae&&!w&&D===0?He:Ee,b=ae("new",this.generateExpression(l.callee,n.New,W)),!(p&Ae)||w||D>0){for(b.push("("),T=0,G=D;T<G;++T)b.push(this.generateExpression(l.arguments[T],n.Assignment,q)),T+1<G&&b.push(","+P);b.push(")")}return he(b,n.New,y)},MemberExpression:function(l,y,p){var b,D;return b=[this.generateExpression(l.object,n.Call,p&te?ye:Ee)],l.computed?(l.optional&&b.push("?."),b.push("["),b.push(this.generateExpression(l.property,n.Sequence,p&te?q:He)),b.push("]")):(!l.optional&&l.object.type===t.Literal&&typeof l.object.value=="number"&&(D=be(b).toString(),D.indexOf(".")<0&&!/[eExX]/.test(D)&&u.code.isDecimalDigit(D.charCodeAt(D.length-1))&&!(D.length>=2&&D.charCodeAt(0)===48)&&b.push(" ")),b.push(l.optional?"?.":"."),b.push(tt(l.property))),he(b,n.Member,y)},MetaProperty:function(l,y,p){var b;return b=[],b.push(typeof l.meta=="string"?l.meta:tt(l.meta)),b.push("."),b.push(typeof l.property=="string"?l.property:tt(l.property)),he(b,n.Member,y)},UnaryExpression:function(l,y,p){var b,D,T,G,W;return D=this.generateExpression(l.argument,n.Unary,q),P===""?b=ae(l.operator,D):(b=[l.operator],l.operator.length>2?b=ae(b,D):(G=be(b).toString(),W=G.charCodeAt(G.length-1),T=D.toString().charCodeAt(0),((W===43||W===45)&&W===T||u.code.isIdentifierPartES5(W)&&u.code.isIdentifierPartES5(T))&&b.push(We()),b.push(D))),he(b,n.Unary,y)},YieldExpression:function(l,y,p){var b;return l.delegate?b="yield*":b="yield",l.argument&&(b=ae(b,this.generateExpression(l.argument,n.Yield,q))),he(b,n.Yield,y)},AwaitExpression:function(l,y,p){var b=ae(l.all?"await*":"await",this.generateExpression(l.argument,n.Await,q));return he(b,n.Await,y)},UpdateExpression:function(l,y,p){return l.prefix?he([l.operator,this.generateExpression(l.argument,n.Unary,q)],n.Unary,y):he([this.generateExpression(l.argument,n.Postfix,q),l.operator],n.Postfix,y)},FunctionExpression:function(l,y,p){var b=[cn(l,!0),"function"];return l.id?(b.push(Ce(l)||We()),b.push(tt(l.id))):b.push(Ce(l)||P),b.push(this.generateFunctionBody(l)),b},ArrayPattern:function(l,y,p){return this.ArrayExpression(l,y,p,!0)},ArrayExpression:function(l,y,p,b){var D,T,G=this;return l.elements.length?(T=b?!1:l.elements.length>1,D=["[",T?C:""],Ie(function(W){var U,ve;for(U=0,ve=l.elements.length;U<ve;++U)l.elements[U]?(D.push(T?W:""),D.push(G.generateExpression(l.elements[U],n.Assignment,q))):(T&&D.push(W),U+1===ve&&D.push(",")),U+1<ve&&D.push(","+(T?C:P))}),T&&!ke(be(D).toString())&&D.push(C),D.push(T?o:""),D.push("]"),D):"[]"},RestElement:function(l,y,p){return"..."+this.generatePattern(l.argument)},ClassExpression:function(l,y,p){var b,D;return b=["class"],l.id&&(b=ae(b,this.generateExpression(l.id,n.Sequence,q))),l.superClass&&(D=ae("extends",this.generateExpression(l.superClass,n.Unary,q)),b=ae(b,D)),b.push(P),b.push(this.generateStatement(l.body,Ye)),b},MethodDefinition:function(l,y,p){var b,D;return l.static?b=["static"+P]:b=[],l.kind==="get"||l.kind==="set"?D=[ae(l.kind,this.generatePropertyKey(l.key,l.computed)),this.generateFunctionBody(l.value)]:D=[It(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)],ae(b,D)},Property:function(l,y,p){return l.kind==="get"||l.kind==="set"?[l.kind,We(),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:l.shorthand?l.value.type==="AssignmentPattern"?this.AssignmentPattern(l.value,n.Sequence,q):this.generatePropertyKey(l.key,l.computed):l.method?[It(l),this.generatePropertyKey(l.key,l.computed),this.generateFunctionBody(l.value)]:[this.generatePropertyKey(l.key,l.computed),":"+P,this.generateExpression(l.value,n.Assignment,q)]},ObjectExpression:function(l,y,p){var b,D,T,G=this;return l.properties.length?(b=l.properties.length>1,Ie(function(){T=G.generateExpression(l.properties[0],n.Sequence,q)}),!b&&!Cn(be(T).toString())?["{",P,T,P,"}"]:(Ie(function(W){var U,ve;if(D=["{",C,W,T],b)for(D.push(","+C),U=1,ve=l.properties.length;U<ve;++U)D.push(W),D.push(G.generateExpression(l.properties[U],n.Sequence,q)),U+1<ve&&D.push(","+C)}),ke(be(D).toString())||D.push(C),D.push(o),D.push("}"),D)):"{}"},AssignmentPattern:function(l,y,p){return this.generateAssignment(l.left,l.right,"=",y,p)},ObjectPattern:function(l,y,p){var b,D,T,G,W,U=this;if(!l.properties.length)return"{}";if(G=!1,l.properties.length===1)W=l.properties[0],W.type===t.Property&&W.value.type!==t.Identifier&&(G=!0);else for(D=0,T=l.properties.length;D<T;++D)if(W=l.properties[D],W.type===t.Property&&!W.shorthand){G=!0;break}return b=["{",G?C:""],Ie(function(ve){var je,En;for(je=0,En=l.properties.length;je<En;++je)b.push(G?ve:""),b.push(U.generateExpression(l.properties[je],n.Sequence,q)),je+1<En&&b.push(","+(G?C:P))}),G&&!ke(be(b).toString())&&b.push(C),b.push(G?o:""),b.push("}"),b},ThisExpression:function(l,y,p){return"this"},Super:function(l,y,p){return"super"},Identifier:function(l,y,p){return tt(l)},ImportDefaultSpecifier:function(l,y,p){return tt(l.id||l.local)},ImportNamespaceSpecifier:function(l,y,p){var b=["*"],D=l.id||l.local;return D&&b.push(P+"as"+We()+tt(D)),b},ImportSpecifier:function(l,y,p){var b=l.imported,D=[b.name],T=l.local;return T&&T.name!==b.name&&D.push(We()+"as"+We()+tt(T)),D},ExportSpecifier:function(l,y,p){var b=l.local,D=[b.name],T=l.exported;return T&&T.name!==b.name&&D.push(We()+"as"+We()+tt(T)),D},Literal:function(l,y,p){var b;if(l.hasOwnProperty("raw")&&S&&_.raw)try{if(b=S(l.raw).body[0].expression,b.type===t.Literal&&b.value===l.value)return l.raw}catch{}return l.regex?"/"+l.regex.pattern+"/"+l.regex.flags:typeof l.value=="bigint"?l.value.toString()+"n":l.bigint?l.bigint+"n":l.value===null?"null":typeof l.value=="string"?vt(l.value):typeof l.value=="number"?qt(l.value):typeof l.value=="boolean"?l.value?"true":"false":ui(l.value)},GeneratorExpression:function(l,y,p){return this.ComprehensionExpression(l,y,p)},ComprehensionExpression:function(l,y,p){var b,D,T,G,W=this;return b=l.type===t.GeneratorExpression?["("]:["["],_.moz.comprehensionExpressionStartsWithAssignment&&(G=this.generateExpression(l.body,n.Assignment,q),b.push(G)),l.blocks&&Ie(function(){for(D=0,T=l.blocks.length;D<T;++D)G=W.generateExpression(l.blocks[D],n.Sequence,q),D>0||_.moz.comprehensionExpressionStartsWithAssignment?b=ae(b,G):b.push(G)}),l.filter&&(b=ae(b,"if"+P),G=this.generateExpression(l.filter,n.Sequence,q),b=ae(b,["(",G,")"])),_.moz.comprehensionExpressionStartsWithAssignment||(G=this.generateExpression(l.body,n.Assignment,q),b=ae(b,G)),b.push(l.type===t.GeneratorExpression?")":"]"),b},ComprehensionBlock:function(l,y,p){var b;return l.left.type===t.VariableDeclaration?b=[l.left.kind,We(),this.generateStatement(l.left.declarations[0],Be)]:b=this.generateExpression(l.left,n.Call,q),b=ae(b,l.of?"of":"in"),b=ae(b,this.generateExpression(l.right,n.Sequence,q)),["for"+P+"(",b,")"]},SpreadElement:function(l,y,p){return["...",this.generateExpression(l.argument,n.Assignment,q)]},TaggedTemplateExpression:function(l,y,p){var b=ye;p&te||(b=Ee);var D=[this.generateExpression(l.tag,n.Call,b),this.generateExpression(l.quasi,n.Primary,ut)];return he(D,n.TaggedTemplate,y)},TemplateElement:function(l,y,p){return l.value.raw},TemplateLiteral:function(l,y,p){var b,D,T;for(b=["`"],D=0,T=l.quasis.length;D<T;++D)b.push(this.generateExpression(l.quasis[D],n.Primary,q)),D+1<T&&(b.push("${"+P),b.push(this.generateExpression(l.expressions[D],n.Sequence,q)),b.push(P+"}"));return b.push("`"),b},ModuleSpecifier:function(l,y,p){return this.Literal(l,y,p)},ImportExpression:function(l,y,p){return he(["import(",this.generateExpression(l.source,n.Assignment,q),")"],n.Call,y)}},un(Re.prototype,Re.Expression),Re.prototype.generateExpression=function(l,y,p){var b,D;return D=l.type||t.Property,_.verbatim&&l.hasOwnProperty(_.verbatim)?Fn(l,y):(b=this[D](l,y,p),_.comment&&(b=Kt(l,b)),be(b,l))},Re.prototype.generateStatement=function(l,y){var p,b;return p=this[l.type](l,y),_.comment&&(p=Kt(l,p)),b=be(p).toString(),l.type===t.Program&&!k&&C===""&&b.charAt(b.length-1)===`
`&&(p=x?be(p).replaceRight(/\s+$/,""):b.replace(/\s+$/,"")),be(p,l)};function yt(l){var y;if(y=new Re,O(l))return y.generateStatement(l,Me);if(ee(l))return y.generateExpression(l,n.Sequence,q);throw new Error("Unknown node type: "+l.type)}function bt(l,y){var p=ft(),b,D;return y!=null?(typeof y.indent=="string"&&(p.format.indent.style=y.indent),typeof y.base=="number"&&(p.format.indent.base=y.base),y=$t(p,y),c=y.format.indent.style,typeof y.base=="string"?o=y.base:o=Te(c,y.format.indent.base)):(y=p,c=y.format.indent.style,o=Te(c,y.format.indent.base)),h=y.format.json,d=y.format.renumber,g=h?!1:y.format.hexadecimal,m=h?"double":y.format.quotes,M=y.format.escapeless,C=y.format.newline,P=y.format.space,y.format.compact&&(C=P=c=o=""),w=y.format.parentheses,I=y.format.semicolons,k=y.format.safeConcatenation,X=y.directive,S=h?null:y.parse,x=y.sourceMap,N=y.sourceCode,V=y.format.preserveBlankLines&&N!==null,_=y,x&&(e.browser?r=BC.sourceMap.SourceNode:r=ZC().SourceNode),b=yt(l),x?(D=b.toStringWithSourceMap({file:y.file,sourceRoot:y.sourceMapRoot}),y.sourceContent&&D.map.setSourceContent(y.sourceMap,y.sourceContent),y.sourceMapWithCode?D:D.map.toString()):(D={code:b.toString(),map:null},y.sourceMapWithCode?D:D.code)}H={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},Z=ft().format,e.version=WC.version,e.generate=bt,e.attachComments=s.attachComments,e.Precedence=$t({},n),e.browser=!1,e.FORMAT_MINIFY=H,e.FORMAT_DEFAULTS=Z})()}(Gh)),Gh}var OC=zC();const jC=j2(OC);class $C{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:t=>this.replacement=t}}replace(t,n,i,r){t&&n&&(i!=null?t[n][i]=r:t[n]=r)}remove(t,n,i){t&&n&&(i!=null?t[n].splice(i,1):delete t[n])}}class qC extends $C{constructor(t,n){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:i=>this.replacement=i},this.enter=t,this.leave=n}visit(t,n,i,r){if(t){if(this.enter){const u=this.should_skip,o=this.should_remove,c=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,t,n,i,r),this.replacement&&(t=this.replacement,this.replace(n,i,r,t)),this.should_remove&&this.remove(n,i,r);const h=this.should_skip,d=this.should_remove;if(this.should_skip=u,this.should_remove=o,this.replacement=c,h)return t;if(d)return null}let s;for(s in t){const u=t[s];if(u&&typeof u=="object")if(Array.isArray(u)){const o=u;for(let c=0;c<o.length;c+=1){const h=o[c];d3(h)&&(this.visit(h,t,s,c)||c--)}}else d3(u)&&this.visit(u,t,s,null)}if(this.leave){const u=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,t,n,i,r),this.replacement&&(t=this.replacement,this.replace(n,i,r,t)),this.should_remove&&this.remove(n,i,r);const c=this.should_remove;if(this.replacement=u,this.should_remove=o,c)return null}}return t}}function d3(e){return e!==null&&typeof e=="object"&&"type"in e&&typeof e.type=="string"}function KC(e,{enter:t,leave:n}){return new qC(t,n).visit(e,null)}let m3=[];function HC(e){m3.push(e)}function p3(e,t={}){const{wrapAsync:n=!1,addReturn:i=!0,emitMiniLocations:r=!0,emitWidgets:s=!0}=t;let u=SC(e,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),o=[];const c=(m,M)=>{const C=as(`"${m}"`,M.start,e);o=o.concat(C)};let h=[];KC(u,{enter(m,M){if(uv(m)){const C=m.quasi.quasis[0].value.raw,P=m.quasi.start+1;if(r){const w=av(C,P);o=o.concat(w)}return this.skip(),this.replace(ov(C,P))}if(UC(m,M)){const{quasis:C}=m,{raw:P}=C[0].value;return this.skip(),r&&c(P,m),this.replace(g3(P,m))}if(JC(m)){const{value:C}=m;return this.skip(),r&&c(C,m),this.replace(g3(C,m))}if(YC(m))return s&&h.push({from:m.arguments[0].start,to:m.arguments[0].end,value:m.arguments[0].raw,min:m.arguments[1]?.value??0,max:m.arguments[2]?.value??1,step:m.arguments[3]?.value,type:"slider"}),this.replace(ev(m));if(QC(m)){const C=m.callee.property.name,P=h.filter(I=>I.type===C).length,w={to:m.end,index:P,type:C,id:t.id};return s&&h.push(w),this.replace(tv(m,w))}if(nv(m,M))return this.replace(iv(m));if(rv(m))return this.replace(sv(m))},leave(m,M,C,P){}});const{body:d}=u;if(!d?.[d.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(i){const{expression:m}=d[d.length-1];d[d.length-1]={type:"ReturnStatement",argument:m}}let g=jC.generate(u);return n&&(g=`(async ()=>{${g}})()`),r?{output:g,miniLocations:o,widgets:h}:{output:g}}function JC(e,t,n){return e.type!=="Literal"?!1:e.raw[0]==='"'}function UC(e,t){return e.type==="TemplateLiteral"&&t.type!=="TaggedTemplateExpression"}function g3(e,t){const{start:n}=t;return{type:"CallExpression",callee:{type:"Identifier",name:"m"},arguments:[{type:"Literal",value:e},{type:"Literal",value:n}],optional:!1}}function YC(e){return e.type==="CallExpression"&&e.callee.name==="slider"}function QC(e){return e.type==="CallExpression"&&m3.includes(e.callee.property?.name)}function ev(e){const t="slider_"+e.arguments[0].start;return e.arguments.unshift({type:"Literal",value:t,raw:t}),e.callee.name="sliderWithID",e}function y3(e){return`${e.id||""}_widget_${e.type}_${e.index}`}function tv(e,t){const n=y3(t);return e.arguments.unshift({type:"Literal",value:n,raw:n}),e}function nv(e,t){return e.type==="CallExpression"&&e.callee.name==="samples"&&t.type!=="AwaitExpression"}function iv(e){return{type:"AwaitExpression",argument:e}}function rv(e){return e.type==="LabeledStatement"}function sv(e){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:e.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:e.label.name,raw:`'${e.label.name}'`}]}}}function uv(e){return e.type==="TaggedTemplateExpression"&&e.tag.name==="tidal"}function av(e,t){return e.split("").reduce((n,i,r)=>(i!=='"'||(!n.length||n[n.length-1].length>1?n.push([r+1]):n[n.length-1].push(r)),n),[]).map(([n,i])=>{const r=e.slice(n,i);return as(`"${r}"`,t+n-1)}).flat()}function ov(e,t){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:e},{type:"Literal",value:t}],optional:!1}}function Uh(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function Yh(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var b3=[0,2,4,-1,1,3,5],A3=b3.map(e=>Math.floor(e*7/12));function M3(e){const{step:t,alt:n,oct:i,dir:r=1}=e,s=b3[t]+7*n;if(i===void 0)return[r*s];const u=i-A3[t]-4*n;return[r*s,r*u]}var cv=[3,0,4,1,5,2,6];function C3(e){const[t,n,i]=e,r=cv[lv(t)],s=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:s,dir:i};const u=n+4*s+A3[r];return{step:r,alt:s,oct:u,dir:i}}function lv(e){const t=(e+1)%7;return t<0?7+t:t}var v3=(e,t)=>Array(Math.abs(t)+1).join(e),Qh=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),fv="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",hv="(AA|A|P|M|m|d|dd)([-+]?\\d+)",dv=new RegExp("^"+fv+"|"+hv+"$");function mv(e){const t=dv.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var P3={};function nn(e){return typeof e=="string"?P3[e]||(P3[e]=pv(e)):Yh(e)?nn(yv(e)):Uh(e)?nn(e.name):Qh}var D3=[0,2,4,5,7,9,11],F3="PMMPPMM";function pv(e){const t=mv(e);if(t[0]==="")return Qh;const n=+t[0],i=t[1],r=(Math.abs(n)-1)%7,s=F3[r];if(s==="M"&&i==="P")return Qh;const u=s==="M"?"majorable":"perfectable",o=""+n+i,c=n<0?-1:1,h=n===8||n===-8?n:c*(r+1),d=gv(u,i),g=Math.floor((Math.abs(n)-1)/7),m=c*(D3[r]+d+12*g),M=(c*(D3[r]+d)%12+12)%12,C=M3({step:r,alt:d,oct:g,dir:c});return{empty:!1,name:o,num:n,q:i,step:r,alt:d,dir:c,type:u,simple:h,semitones:m,chroma:M,coord:C,oct:g}}function E3(e,t){const[n,i=0]=e,r=n*7+i*12<0,s=t||r?[-n,-i,-1]:[n,i,1];return nn(C3(s))}function gv(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function yv(e){const{step:t,alt:n,oct:i=0,dir:r}=e;if(!r)return"";const s=t+1+7*i,u=s===0?t+1:s,o=r<0?"-":"",c=F3[t]==="M"?"majorable":"perfectable";return o+u+bv(c,n)}function bv(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?v3("A",t):v3("d",e==="perfectable"?t:t+1)}var w3=(e,t)=>Array(Math.abs(t)+1).join(e),S3=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),B3=new Map,Av=e=>"CDEFGAB".charAt(e),As=e=>e<0?w3("b",-e):w3("#",e),e1=e=>e[0]==="b"?-e.length:e.length;function _e(e){const t=JSON.stringify(e),n=B3.get(t);if(n)return n;const i=typeof e=="string"?Pv(e):Yh(e)?_e(Dv(e)):Uh(e)?_e(e.name):S3;return B3.set(t,i),i}var Mv=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function t1(e){const t=Mv.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function Cv(e){return _e(C3(e))}var vv=(e,t)=>(e%t+t)%t,n1=[0,2,4,5,7,9,11];function Pv(e){const t=t1(e);if(t[0]===""||t[3]!=="")return S3;const n=t[0],i=t[1],r=t[2],s=(n.charCodeAt(0)+3)%7,u=e1(i),o=r.length?+r:void 0,c=M3({step:s,alt:u,oct:o}),h=n+i+r,d=n+i,g=(n1[s]+u+120)%12,m=o===void 0?vv(n1[s]+u,12)-12*99:n1[s]+u+12*(o+1),M=m>=0&&m<=127?m:null,C=o===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:i,alt:u,chroma:g,coord:c,freq:C,height:m,letter:n,midi:M,name:h,oct:o,pc:d,step:s}}function Dv(e){const{step:t,alt:n,oct:i}=e,r=Av(t);if(!r)return"";const s=r+As(n);return i||i===0?s+i:s}function zt(e,t){const n=_e(e),i=Array.isArray(t)?t:nn(t).coord;if(n.empty||!i||i.length<2)return"";const r=n.coord,s=r.length===1?[r[0]+i[0]]:[r[0]+i[0],r[1]+i[1]];return Cv(s).name}function _3(e,t){const n=e.length;return i=>{if(!t)return"";const r=i<0?(n- -i%n)%n:i%n,s=Math.floor(i/n),u=zt(t,[0,s]);return zt(u,e[r])}}function Ms(e,t){const n=_e(e),i=_e(t);if(n.empty||i.empty)return"";const r=n.coord,s=i.coord,u=s[0]-r[0],o=r.length===2&&s.length===2?s[1]-r[1]:-Math.floor(u*7/12),c=i.height===n.height&&i.midi!==null&&n.oct===i.oct&&n.step>i.step;return E3([u,o],c).name}var x3=(e,t)=>Array(t+1).join(e),Fv=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function k3(e){const t=Fv.exec(e);return t?[t[1],t[2],t[3]]:["","",""]}function Cs(e){const[t,n,i]=k3(e);if(n==="")return"";let r=4;for(let u=0;u<i.length;u++)r+=i.charAt(u)===","?-1:1;const s=t[0]==="_"?t.replace(/_/g,"b"):t[0]==="^"?t.replace(/\^/g,"#"):"";return n.charCodeAt(0)>96?n.toUpperCase()+s+(r+1):n+s+r}function I3(e){const t=_e(e);if(t.empty||!t.oct&&t.oct!==0)return"";const{letter:n,acc:i,oct:r}=t,s=i[0]==="b"?i.replace(/b/g,"_"):i.replace(/#/g,"^"),u=r>4?n.toLowerCase():n,o=r===5?"":r>4?x3("'",r-5):x3(",",4-r);return s+u+o}function Ev(e,t){return I3(zt(Cs(e),t))}function wv(e,t){return Ms(Cs(e),Cs(t))}var Sv={abcToScientificNotation:Cs,scientificToAbcNotation:I3,tokenize:k3,transpose:Ev,distance:wv};function Bv(e,t){const n=[];for(;t--;n[t]=t+e);return n}function _v(e,t){const n=[];for(;t--;n[t]=e-t);return n}function xv(e,t){return e<t?Bv(e,t-e+1):_v(e,e-t+1)}function kv(e,t){const n=t.length,i=(e%n+n)%n;return t.slice(i,n).concat(t.slice(0,i))}function Iv(e){return e.filter(t=>t===0||t)}function N3(e){return e.map(n=>_e(n)).filter(n=>!n.empty).sort((n,i)=>n.height-i.height).map(n=>n.name)}function Nv(e){return N3(e).filter((t,n,i)=>n===0||t!==i[n-1])}function Vv(e,t=Math.random){let n,i,r=e.length;for(;r;)n=Math.floor(t()*r--),i=e[r],e[r]=e[n],e[n]=i;return e}function V3(e){return e.length===0?[[]]:V3(e.slice(1)).reduce((t,n)=>t.concat(e.map((i,r)=>{const s=n.slice();return s.splice(r,0,e[0]),s})),[])}const Tv=Object.freeze(Object.defineProperty({__proto__:null,compact:Iv,permutations:V3,range:xv,rotate:kv,shuffle:Vv,sortedNoteNames:N3,sortedUniqNoteNames:Nv},Symbol.toStringTag,{value:"Module"}));function Lv(e,t){const n=[];for(;t--;n[t]=t+e);return n}function Rv(e,t){const n=[];for(;t--;n[t]=e-t);return n}function vs(e,t){return e<t?Lv(e,t-e+1):Rv(e,e-t+1)}function Ai(e,t){const n=t.length,i=(e%n+n)%n;return t.slice(i,n).concat(t.slice(0,i))}function i1(e){return e.filter(t=>t===0||t)}function Gv(e,t=Math.random){let n,i,r=e.length;for(;r;)n=Math.floor(t()*r--),i=e[r],e[r]=e[n],e[n]=i;return e}function T3(e){return e.length===0?[[]]:T3(e.slice(1)).reduce((t,n)=>t.concat(e.map((i,r)=>{const s=n.slice();return s.splice(r,0,e[0]),s})),[])}var Xv={compact:i1,permutations:T3,range:vs,rotate:Ai,shuffle:Gv},Rn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},r1=e=>Number(e).toString(2).padStart(12,"0"),L3=e=>parseInt(e,2),Zv=/^[01]{12}$/;function s1(e){return Zv.test(e)}var Wv=e=>typeof e=="number"&&e>=0&&e<=4095,zv=e=>e&&s1(e.chroma),R3={[Rn.chroma]:Rn};function nt(e){const t=s1(e)?e:Wv(e)?r1(e):Array.isArray(e)?tP(e):zv(e)?e.chroma:Rn.chroma;return R3[t]=R3[t]||eP(t)}var Ov=nt,G3=e=>nt(e).chroma,jv=e=>nt(e).intervals,$v=e=>nt(e).setNum,qv=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function Kv(e){const t=[];for(let n=0;n<12;n++)e.charAt(n)==="1"&&t.push(qv[n]);return t}function Hv(e){return nt(e).intervals.map(t=>zt("C",t))}function Jv(){return vs(2048,4095).map(r1)}function u1(e,t=!0){const i=nt(e).chroma.split("");return i1(i.map((r,s)=>{const u=Ai(s,i);return t&&u[0]==="0"?null:u.join("")}))}function Uv(e,t){return nt(e).setNum===nt(t).setNum}function Ps(e){const t=nt(e).setNum;return n=>{const i=nt(n).setNum;return t&&t!==i&&(i&t)===i}}function Ds(e){const t=nt(e).setNum;return n=>{const i=nt(n).setNum;return t&&t!==i&&(i|t)===i}}function X3(e){const t=nt(e);return n=>{const i=_e(n);return t&&!i.empty&&t.chroma.charAt(i.chroma)==="1"}}function Yv(e){const t=X3(e);return n=>n.filter(t)}var Z3={get:nt,chroma:G3,num:$v,intervals:jv,chromas:Jv,isSupersetOf:Ds,isSubsetOf:Ps,isNoteIncludedIn:X3,isEqual:Uv,filter:Yv,modes:u1,notes:Hv,pcset:Ov};function Qv(e){const t=e.split("");return t.map((n,i)=>Ai(i,t).join(""))}function eP(e){const t=L3(e),n=Qv(e).map(L3).filter(s=>s>=2048).sort()[0],i=r1(n),r=Kv(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:i,intervals:r}}function tP(e){if(e.length===0)return Rn.chroma;let t;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let i=0;i<e.length;i++)t=_e(e[i]),t.empty&&(t=nn(e[i])),t.empty||(n[t.chroma]=1);return n.join("")}var nP=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],iP=nP;({...Rn});var a1=[],Fs={};function W3(){return a1.slice()}function rP(e,t,n){const i=uP(e),r={...nt(e),name:n||"",quality:i,intervals:e,aliases:t};a1.push(r),r.name&&(Fs[r.name]=r),Fs[r.setNum]=r,Fs[r.chroma]=r,r.aliases.forEach(s=>sP(r,s))}function sP(e,t){Fs[t]=e}function uP(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}iP.forEach(([e,t,n])=>rP(e.split(" "),n.split(" "),t)),a1.sort((e,t)=>e.setNum-t.setNum);var aP=e=>{const t=e.reduce((n,i)=>{const r=_e(i).chroma;return r!==void 0&&(n[r]=n[r]||_e(i).name),n},{});return n=>t[n]};function oP(e,t={}){const n=e.map(r=>_e(r).pc).filter(r=>r);return _e.length===0?[]:pP(n,1,t).filter(r=>r.weight).sort((r,s)=>s.weight-r.weight).map(r=>r.name)}var Es={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},ws=e=>t=>!!(t&e),cP=ws(Es.anyThirds),lP=ws(Es.perfectFifth),fP=ws(Es.anySeventh),hP=ws(Es.nonPerfectFifths);function dP(e){const t=parseInt(e.chroma,2);return cP(t)&&lP(t)&&fP(t)}function mP(e){const t=parseInt(e,2);return hP(t)?e:(t|16).toString(2)}function pP(e,t,n){const i=e[0],r=_e(i).chroma,s=aP(e),u=u1(e,!1),o=[];return u.forEach((c,h)=>{const d=n.assumePerfectFifth&&mP(c);W3().filter(m=>n.assumePerfectFifth&&dP(m)?m.chroma===d:m.chroma===c).forEach(m=>{const M=m.aliases[0],C=s(h);h!==r?o.push({weight:.5*t,name:`${C}${M}/${i}`}):o.push({weight:1*t,name:`${C}${M}`})})}),o}function fr(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}var z3=[0,2,4,5,7,9,11],O3=({step:e,alt:t})=>(z3[e]+t+120)%12,o1=({step:e,alt:t,oct:n,dir:i=1})=>i*(z3[e]+t+12*(n===void 0?-100:n)),j3=e=>{const t=o1(e);return e.oct!==void 0&&t>=-12&&t<=115?t+12:null};function Ss(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var $3=[0,2,4,-1,1,3,5],q3=$3.map(e=>Math.floor(e*7/12));function Bs(e){const{step:t,alt:n,oct:i,dir:r=1}=e,s=$3[t]+7*n;if(i===void 0)return[r*s];const u=i-q3[t]-4*n;return[r*s,r*u]}var gP=[3,0,4,1,5,2,6];function _s(e){const[t,n,i]=e,r=gP[yP(t)],s=Math.floor((t+1)/7);if(n===void 0)return{step:r,alt:s,dir:i};const u=n+4*s+q3[r];return{step:r,alt:s,oct:u,dir:i}}function yP(e){const t=(e+1)%7;return t<0?7+t:t}var K3=(e,t)=>Array(Math.abs(t)+1).join(e),c1={empty:!0,name:"",acc:""},bP="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",AP="(AA|A|P|M|m|d|dd)([-+]?\\d+)",MP=new RegExp("^"+bP+"|"+AP+"$");function l1(e){const t=MP.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var H3={};function st(e){return typeof e=="string"?H3[e]||(H3[e]=CP(e)):Ss(e)?st(PP(e)):fr(e)?st(e.name):c1}var J3=[0,2,4,5,7,9,11],U3="PMMPPMM";function CP(e){const t=l1(e);if(t[0]==="")return c1;const n=+t[0],i=t[1],r=(Math.abs(n)-1)%7,s=U3[r];if(s==="M"&&i==="P")return c1;const u=s==="M"?"majorable":"perfectable",o=""+n+i,c=n<0?-1:1,h=n===8||n===-8?n:c*(r+1),d=vP(u,i),g=Math.floor((Math.abs(n)-1)/7),m=c*(J3[r]+d+12*g),M=(c*(J3[r]+d)%12+12)%12,C=Bs({step:r,alt:d,oct:g,dir:c});return{empty:!1,name:o,num:n,q:i,step:r,alt:d,dir:c,type:u,simple:h,semitones:m,chroma:M,coord:C,oct:g}}function hr(e,t){const[n,i=0]=e,r=n*7+i*12<0,s=t||r?[-n,-i,-1]:[n,i,1];return st(_s(s))}function vP(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function PP(e){const{step:t,alt:n,oct:i=0,dir:r}=e;if(!r)return"";const s=t+1+7*i,u=s===0?t+1:s,o=r<0?"-":"",c=U3[t]==="M"?"majorable":"perfectable";return o+u+DP(c,n)}function DP(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?K3("A",t):K3("d",e==="perfectable"?t:t+1)}var Y3=(e,t)=>Array(Math.abs(t)+1).join(e),Q3={empty:!0,name:"",pc:"",acc:""},eb=new Map,f1=e=>"CDEFGAB".charAt(e),h1=e=>e<0?Y3("b",-e):Y3("#",e),d1=e=>e[0]==="b"?-e.length:e.length;function rn(e){const t=JSON.stringify(e),n=eb.get(t);if(n)return n;const i=typeof e=="string"?wP(e):Ss(e)?rn(SP(e)):fr(e)?rn(e.name):Q3;return eb.set(t,i),i}var FP=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function xs(e){const t=FP.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function m1(e){return rn(_s(e))}var EP=(e,t)=>(e%t+t)%t,p1=[0,2,4,5,7,9,11];function wP(e){const t=xs(e);if(t[0]===""||t[3]!=="")return Q3;const n=t[0],i=t[1],r=t[2],s=(n.charCodeAt(0)+3)%7,u=d1(i),o=r.length?+r:void 0,c=Bs({step:s,alt:u,oct:o}),h=n+i+r,d=n+i,g=(p1[s]+u+120)%12,m=o===void 0?EP(p1[s]+u,12)-12*99:p1[s]+u+12*(o+1),M=m>=0&&m<=127?m:null,C=o===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:i,alt:u,chroma:g,coord:c,freq:C,height:m,letter:n,midi:M,name:h,oct:o,pc:d,step:s}}function SP(e){const{step:t,alt:n,oct:i}=e,r=f1(t);if(!r)return"";const s=r+h1(n);return i||i===0?s+i:s}function Mi(e,t){const n=rn(e),i=Array.isArray(t)?t:st(t).coord;if(n.empty||!i||i.length<2)return"";const r=n.coord,s=r.length===1?[r[0]+i[0]]:[r[0]+i[0],r[1]+i[1]];return m1(s).name}function ks(e,t){const n=e.length;return i=>{if(!t)return"";const r=i<0?(n- -i%n)%n:i%n,s=Math.floor(i/n),u=Mi(t,[0,s]);return Mi(u,e[r])}}function g1(e,t){const n=rn(e),i=rn(t);if(n.empty||i.empty)return"";const r=n.coord,s=i.coord,u=s[0]-r[0],o=r.length===2&&s.length===2?s[1]-r[1]:-Math.floor(u*7/12),c=i.height===n.height&&i.midi!==null&&n.midi!==null&&n.step>i.step;return hr([u,o],c).name}var tb=(e,t)=>Array(Math.abs(t)+1).join(e);function Ci(e,t,n){return function(...i){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,i)}}var nb=Ci("isNamed","isNamedPitch",fr);const ib=Object.freeze(Object.defineProperty({__proto__:null,accToAlt:d1,altToAcc:h1,chroma:O3,coordToInterval:hr,coordToNote:m1,coordinates:Bs,deprecate:Ci,distance:g1,fillStr:tb,height:o1,interval:st,isNamed:nb,isNamedPitch:fr,isPitch:Ss,midi:j3,note:rn,pitch:_s,stepToLetter:f1,tokenizeInterval:l1,tokenizeNote:xs,tonicIntervalsTransposer:ks,transpose:Mi},Symbol.toStringTag,{value:"Module"}));var BP=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],_P=BP,xP={...Rn,name:"",quality:"Unknown",intervals:[],aliases:[]},vi=[],ei={};function y1(e){return ei[e]||xP}var kP=Ci("ChordType.chordType","ChordType.get",y1);function IP(){return vi.map(e=>e.name).filter(e=>e)}function NP(){return vi.map(e=>e.aliases[0]).filter(e=>e)}function VP(){return Object.keys(ei)}function Is(){return vi.slice()}var TP=Ci("ChordType.entries","ChordType.all",Is);function LP(){vi=[],ei={}}function rb(e,t,n){const i=GP(e),r={...nt(e),name:n||"",quality:i,intervals:e,aliases:t};vi.push(r),r.name&&(ei[r.name]=r),ei[r.setNum]=r,ei[r.chroma]=r,r.aliases.forEach(s=>RP(r,s))}function RP(e,t){ei[t]=e}function GP(e){const t=n=>e.indexOf(n)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}_P.forEach(([e,t,n])=>rb(e.split(" "),n.split(" "),t)),vi.sort((e,t)=>e.setNum-t.setNum);var sb={names:IP,symbols:NP,get:y1,all:Is,add:rb,removeAll:LP,keys:VP,entries:TP,chordType:kP},XP=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],ZP=XP,WP={...Rn,intervals:[],aliases:[]},Ns=[],ti={};function ub(){return Ns.map(e=>e.name)}function Vs(e){return ti[e]||WP}var zP=Vs;function Pi(){return Ns.slice()}var OP=Pi;function jP(){return Object.keys(ti)}function $P(){Ns=[],ti={}}function ab(e,t,n=[]){const i={...nt(e),name:t,intervals:e,aliases:n};return Ns.push(i),ti[i.name]=i,ti[i.setNum]=i,ti[i.chroma]=i,i.aliases.forEach(r=>qP(i,r)),i}function qP(e,t){ti[t]=e}ZP.forEach(([e,t,...n])=>ab(e.split(" "),t,n));var ob={names:ub,get:Vs,all:Pi,add:ab,removeAll:$P,keys:jP,entries:OP,scaleType:zP},b1={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function A1(e){const[t,n,i,r]=xs(e);return t===""?["",e]:t==="A"&&r==="ug"?["","aug"]:[t+n,i+r]}function ni(e){if(e==="")return b1;if(Array.isArray(e)&&e.length===2)return Ts(e[1],e[0]);{const[t,n]=A1(e),i=Ts(n,t);return i.empty?Ts(e):i}}function Ts(e,t,n){const i=y1(e),r=rn(t||""),s=rn(n||"");if(i.empty||t&&r.empty||n&&s.empty)return b1;const u=g1(r.pc,s.pc),o=i.intervals.indexOf(u)+1;if(!s.empty&&!o)return b1;const c=Array.from(i.intervals);for(let m=1;m<o;m++){const M=c[0][0],C=c[0][1],P=parseInt(M,10)+7;c.push(`${P}${C}`),c.shift()}const h=r.empty?[]:c.map(m=>Mi(r,m));e=i.aliases.indexOf(e)!==-1?e:i.aliases[0];const d=`${r.empty?"":r.pc}${e}${s.empty||o<=1?"":"/"+s.pc}`,g=`${t?r.pc+" ":""}${i.name}${o>1&&n?" over "+s.pc:""}`;return{...i,name:g,symbol:d,type:i.name,root:s.name,intervals:c,rootDegree:o,tonic:r.name,notes:h}}var KP=Ci("Chord.chord","Chord.get",ni);function HP(e,t){const[n,i]=A1(e);return n?Mi(n,t)+i:e}function JP(e){const t=ni(e),n=Ds(t.chroma);return Pi().filter(i=>n(i.chroma)).map(i=>i.name)}function UP(e){const t=ni(e),n=Ds(t.chroma);return Is().filter(i=>n(i.chroma)).map(i=>t.tonic+i.aliases[0])}function YP(e){const t=ni(e),n=Ps(t.chroma);return Is().filter(i=>n(i.chroma)).map(i=>t.tonic+i.aliases[0])}function QP(e){const{intervals:t,tonic:n}=ni(e),i=ks(t,n);return r=>r?i(r>0?r-1:r):""}function eD(e){const{intervals:t,tonic:n}=ni(e);return ks(t,n)}var tD={getChord:Ts,get:ni,detect:oP,chordScales:JP,extended:UP,reduced:YP,tokenize:A1,transpose:HP,degrees:QP,steps:eD,chord:KP},nD=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],iD=nD,Ls=[];iD.forEach(([e,t,n])=>fD(e,t,n));var rD={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function sD(){return Ls.reduce((e,t)=>(t.names.forEach(n=>e.push(n)),e),[])}function uD(){return Ls.map(e=>e.shorthand)}var aD=/^([^.]+)(\.*)$/;function M1(e){const[t,n,i]=aD.exec(e)||[],r=Ls.find(o=>o.shorthand===n||o.names.includes(n));if(!r)return rD;const s=hD(r.fraction,i.length),u=s[0]/s[1];return{...r,name:e,dots:i,value:u,fraction:s}}var oD=e=>M1(e).value,cD=e=>M1(e).fraction,lD={names:sD,shorthands:uD,get:M1,value:oD,fraction:cD};function fD(e,t,n){Ls.push({empty:!1,dots:"",name:"",value:1/e,fraction:e<1?[1/e,1]:[1,e],shorthand:t,names:n})}function hD(e,t){const n=Math.pow(2,t);let i=e[0]*n,r=e[1]*n;const s=i;for(let u=0;u<t;u++)i+=s/Math.pow(2,u+1);for(;i%2===0&&r%2===0;)i/=2,r/=2;return[i,r]}function dD(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var cb=st,mD=e=>st(e).name,pD=e=>st(e).semitones,gD=e=>st(e).q,yD=e=>st(e).num;function bD(e){const t=st(e);return t.empty?"":t.simple+t.q}function AD(e){const t=st(e);if(t.empty)return"";const n=(7-t.step)%7,i=t.type==="perfectable"?-t.alt:-(t.alt+1);return st({step:n,alt:i,oct:t.oct,dir:t.dir}).name}var MD=[1,2,2,3,3,4,5,5,6,6,7,7],CD="P m M m M P d P m M m M".split(" ");function vD(e){const t=e<0?-1:1,n=Math.abs(e),i=n%12,r=Math.floor(n/12);return t*(MD[i]+7*r)+CD[i]}var PD=Ms,lb=fb((e,t)=>[e[0]+t[0],e[1]+t[1]]),DD=e=>t=>lb(e,t),FD=fb((e,t)=>[e[0]-t[0],e[1]-t[1]]);function ED(e,t){const n=cb(e);if(n.empty)return"";const[i,r,s]=n.coord;return hr([i+t,r,s]).name}var Di={names:dD,get:cb,name:mD,num:yD,semitones:pD,quality:gD,fromSemitones:vD,distance:PD,invert:AD,simplify:bD,add:lb,addTo:DD,substract:FD,transposeFifths:ED};function fb(e){return(t,n)=>{const i=st(t).coord,r=st(n).coord;if(i&&r){const s=e(i,r);return hr(s).name}}}function hb(e){return+e>=0&&+e<=127}function db(e){if(hb(e))return+e;const t=_e(e);return t.empty?null:t.midi}function wD(e,t=440){return Math.pow(2,(e-69)/12)*t}var SD=Math.log(2),BD=Math.log(440);function C1(e){const t=12*(Math.log(e)-BD)/SD+69;return Math.round(t*100)/100}var _D="C C# D D# E F F# G G# A A# B".split(" "),xD="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Gn(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const i=(t.sharps===!0?_D:xD)[e%12];if(t.pitchClass)return i;const r=Math.floor(e/12)-1;return i+r}function v1(e){return e%12}function kD(e){return e.split("").reduce((t,n,i)=>(i<12&&n==="1"&&t.push(i),t),[])}function ID(e){return e.map(v1).sort((t,n)=>t-n).filter((t,n,i)=>n===0||t!==i[n-1])}function P1(e){return Array.isArray(e)?ID(e):kD(e)}function ND(e){const t=P1(e);return n=>{const i=v1(n);for(let r=0;r<12;r++){if(t.includes(i+r))return n+r;if(t.includes(i-r))return n-r}}}function mb(e,t){const n=P1(e),i=n.length;return r=>{const s=r<0?(i- -r%i)%i:r%i,u=Math.floor(r/i);return n[s]+u*12+t}}function VD(e,t){const n=mb(e,t);return i=>{if(i!==0)return n(i>0?i-1:i)}}var TD={chroma:v1,freqToMidi:C1,isMidi:hb,midiToFreq:wD,midiToNoteName:Gn,pcsetNearest:ND,pcset:P1,pcsetDegrees:VD,pcsetSteps:mb,toMidi:db},LD=["C","D","E","F","G","A","B"],pb=e=>e.name,gb=e=>e.map(_e).filter(t=>!t.empty);function RD(e){return e===void 0?LD.slice():Array.isArray(e)?gb(e).map(pb):[]}var Ot=_e,GD=e=>Ot(e).name,XD=e=>Ot(e).pc,ZD=e=>Ot(e).acc,WD=e=>Ot(e).oct,zD=e=>Ot(e).midi,OD=e=>Ot(e).freq,jD=e=>Ot(e).chroma;function yb(e){return Gn(e)}function $D(e){return Gn(C1(e))}function qD(e){return Gn(C1(e),{sharps:!0})}function KD(e){return Gn(e,{sharps:!0})}var HD=Ms,jt=zt,JD=zt,bb=e=>t=>jt(t,e),UD=bb,Ab=e=>t=>jt(e,t),YD=Ab;function Rs(e,t){return jt(e,[t,0])}var QD=Rs;function e5(e,t){return jt(e,[0,t])}var D1=(e,t)=>e.height-t.height,t5=(e,t)=>t.height-e.height;function Mb(e,t){return t=t||D1,gb(e).sort(t).map(pb)}function Cb(e){return Mb(e,D1).filter((t,n,i)=>n===0||t!==i[n-1])}var n5=e=>{const t=Ot(e);return t.empty?"":Gn(t.midi||t.chroma,{sharps:t.alt>0,pitchClass:t.midi===null})};function vb(e,t){const n=Ot(e);if(n.empty)return"";const i=Ot(t||Gn(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(i.empty||i.chroma!==n.chroma)return"";if(n.oct===void 0)return i.pc;const r=n.chroma-n.alt,s=i.chroma-i.alt,u=r>11||s<0?-1:r<0||s>11?1:0,o=n.oct+u;return i.pc+o}var Xn={names:RD,get:Ot,name:GD,pitchClass:XD,accidentals:ZD,octave:WD,midi:zD,ascending:D1,descending:t5,distance:HD,sortedNames:Mb,sortedUniqNames:Cb,fromMidi:yb,fromMidiSharps:KD,freq:OD,fromFreq:$D,fromFreqSharps:qD,chroma:jD,transpose:jt,tr:JD,transposeBy:bb,trBy:UD,transposeFrom:Ab,trFrom:YD,transposeFifths:Rs,transposeOctaves:e5,trFifths:QD,simplify:n5,enharmonic:vb},Pb={empty:!0,name:"",chordType:""},Db={};function Zn(e){return typeof e=="string"?Db[e]||(Db[e]=c5(e)):typeof e=="number"?Zn(Gs[e]||""):Yh(e)?s5(e):Uh(e)?Zn(e.name):Pb}var i5=Zn;function r5(e=!0){return(e?Gs:o5).slice()}function s5(e){return Zn(As(e.alt)+Gs[e.step])}var u5=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function a5(e){return u5.exec(e)||["","","",""]}var Fb="I II III IV V VI VII",Gs=Fb.split(" "),o5=Fb.toLowerCase().split(" ");function c5(e){const[t,n,i,r]=a5(e);if(!i)return Pb;const s=i.toUpperCase(),u=Gs.indexOf(s),o=e1(n),c=1;return{empty:!1,name:t,roman:i,interval:nn({step:u,alt:o,dir:c}).name,acc:n,chordType:r,alt:o,step:u,major:i===s,oct:0,dir:c}}var l5={names:r5,get:Zn,romanNumeral:i5},it=Object.freeze([]),Eb={type:"major",tonic:"",alteration:0,keySignature:""},Xs={tonic:"",grades:it,intervals:it,scale:it,triads:it,chords:it,chordsHarmonicFunction:it,chordScales:it,secondaryDominants:it,secondaryDominantSupertonics:it,substituteDominantsMinorRelative:it,substituteDominants:it,substituteDominantSupertonics:it,secondaryDominantsMinorRelative:it},f5={...Eb,...Xs,type:"major",minorRelative:"",scale:it,substituteDominants:it,secondaryDominantSupertonics:it,substituteDominantsMinorRelative:it},h5={...Eb,type:"minor",relativeMajor:"",natural:Xs,harmonic:Xs,melodic:Xs},F1=(e,t,n="")=>t.map((i,r)=>`${e[r]}${n}${i}`);function Zs(e,t,n,i,r){return s=>{const u=e.map(M=>Zn(M).interval||""),o=u.map(M=>jt(s,M)),c=F1(o,n),h=o.map(M=>jt(M,"5P")).map(M=>o.includes(M)&&!c.includes(M+"7")?M+"7":""),d=wb(h,t),g=h.map(M=>{if(!M)return"";const C=M.slice(0,-1);return jt(C,"5d")+"7"}),m=wb(g,t);return{tonic:s,grades:e,intervals:u,scale:o,triads:F1(o,t),chords:c,chordsHarmonicFunction:i.slice(),chordScales:F1(o,r," "),secondaryDominants:h,secondaryDominantSupertonics:d,substituteDominants:g,substituteDominantSupertonics:m,secondaryDominantsMinorRelative:d,substituteDominantsMinorRelative:m}}}var wb=(e,t)=>e.map((n,i)=>{if(!n)return"";const r=n.slice(0,-1),s=jt(r,"5P");return t[i].endsWith("m")?s+"m7":s+"m7b5"}),Sb=(e,t)=>{const n=_e(e),i=_e(t);return n.empty||i.empty?0:i.coord[0]-n.coord[0]},d5=Zs("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),m5=Zs("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),p5=Zs("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),g5=Zs("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function y5(e){const t=_e(e).pc;if(!t)return f5;const n=d5(t),i=Sb("C",t);return{...n,type:"major",minorRelative:jt(t,"-3m"),alteration:i,keySignature:As(i)}}function b5(e){const t=_e(e).pc;if(!t)return h5;const n=Sb("C",t)-3;return{type:"minor",tonic:t,relativeMajor:jt(t,"3m"),alteration:n,keySignature:As(n),natural:m5(t),harmonic:p5(t),melodic:g5(t)}}function A5(e){return typeof e=="number"?Rs("C",e):typeof e=="string"&&/^b+|#+$/.test(e)?Rs("C",e1(e)):null}var M5={majorKey:y5,majorTonicFromKeySignature:A5,minorKey:b5},C5=nn;function v5(e){const t=nn(e);return t.empty?"":t.simple+t.q}function P5(e,t){const n=C5(e);if(n.empty)return"";const[i,r,s]=n.coord;return E3([i+t,r,s]).name}var E1=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Bb={...Rn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},w1=E1.map(w5),S1={};w1.forEach(e=>{S1[e.name]=e,e.aliases.forEach(t=>{S1[t]=e})});function ii(e){return typeof e=="string"?S1[e.toLowerCase()]||Bb:e&&e.name?ii(e.name):Bb}var D5=ii;function _b(){return w1.slice()}var F5=_b;function E5(){return w1.map(e=>e.name)}function w5(e){const[t,n,i,r,s,u,o]=e,c=o?[o]:[],h=Number(n).toString(2);return{empty:!1,intervals:Vs(r).intervals,modeNum:t,chroma:h,normalized:h,name:r,setNum:n,alt:i,triad:s,seventh:u,aliases:c}}function S5(e,t){return ii(e).intervals.map(n=>zt(t,n))}function xb(e){return(t,n)=>{const i=ii(t);if(i.empty)return[];const r=Ai(i.modeNum,e),s=i.intervals.map(u=>zt(n,u));return r.map((u,o)=>s[o]+u)}}var B5=xb(E1.map(e=>e[4])),_5=xb(E1.map(e=>e[5]));function kb(e,t){const n=ii(t),i=ii(e);return n.empty||i.empty?"":v5(P5("1P",i.alt-n.alt))}function x5(e,t,n){return zt(n,kb(e,t))}var k5={get:ii,names:E5,all:_b,distance:kb,relativeTonic:x5,notes:S5,triads:B5,seventhChords:_5,entries:F5,mode:D5};function I5(e){const[t,n,i,r]=t1(e);return t===""?B1("",e):t==="A"&&r==="ug"?B1("","aug"):B1(t+n,i+r)}function B1(e,t){const n=t.split("/");if(n.length===1)return[e,n[0],""];const[i,r,s,u]=t1(n[1]);return i!==""&&s===""&&u===""?[e,n[0],i+r]:[e,t,""]}function N5(e,t){return t.map(Zn).map(i=>zt(e,nn(i))+i.chordType)}function V5(e,t){return t.map(n=>{const[i,r]=I5(n),s=Ms(e,i);return Zn(nn(s)).name+r})}var T5={fromRomanNumerals:N5,toRomanNumerals:V5};function Ib(e){const t=i1(e.map(n=>typeof n=="number"?n:db(n)));return!e.length||t.length!==e.length?[]:t.reduce((n,i)=>{const r=n[n.length-1];return n.concat(vs(r,i).slice(1))},[t[0]])}function L5(e,t){return Ib(e).map(n=>Gn(n,t))}var R5={numeric:Ib,chromatic:L5},G5={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Nb(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),n=_e(e.substring(0,t));if(n.empty){const r=_e(e);return r.empty?["",e]:[r.name,""]}const i=e.substring(n.name.length+1).toLowerCase();return[n.name,i.length?i:""]}var X5=ub;function sn(e){const t=Array.isArray(e)?e:Nb(e),n=_e(t[0]).name,i=Vs(t[1]);if(i.empty)return G5;const r=i.name,s=n?i.intervals.map(o=>zt(n,o)):[],u=n?n+" "+r:r;return{...i,name:u,type:r,tonic:n,notes:s}}var Z5=sn;function W5(e,t={}){const n=G3(e),i=_e(t.tonic??e[0]??""),r=i.chroma;if(r===void 0)return[];const s=n.split("");s[r]="1";const u=Ai(r,s).join(""),o=Pi().find(h=>h.chroma===u),c=[];return o&&c.push(i.name+" "+o.name),t.match==="exact"||Vb(u).forEach(h=>{c.push(i.name+" "+h)}),c}function z5(e){const t=sn(e),n=Ps(t.chroma);return W3().filter(i=>n(i.chroma)).map(i=>i.aliases[0])}function Vb(e){const t=s1(e)?e:sn(e).chroma,n=Ds(t);return Pi().filter(i=>n(i.chroma)).map(i=>i.name)}function O5(e){const t=Ps(sn(e).chroma);return Pi().filter(n=>t(n.chroma)).map(n=>n.name)}function Tb(e){const t=e.map(r=>_e(r).pc).filter(r=>r),n=t[0],i=Cb(t);return Ai(i.indexOf(n),i)}function j5(e){const t=sn(e);if(t.empty)return[];const n=t.tonic?t.notes:t.intervals;return u1(t.chroma).map((i,r)=>{const s=sn(i).name;return s?[n[r],s]:["",""]}).filter(i=>i[0])}function $5(e){const t=Array.isArray(e)?Tb(e):sn(e).notes,n=t.map(i=>_e(i).chroma);return i=>{const r=_e(typeof i=="number"?yb(i):i),s=r.height;if(s===void 0)return;const u=s%12,o=n.indexOf(u);if(o!==-1)return vb(r.name,t[o])}}function q5(e){const t=$5(e);return(n,i)=>{const r=_e(n).height,s=_e(i).height;return r===void 0||s===void 0?[]:vs(r,s).map(t).filter(u=>u)}}function K5(e){const{intervals:t,tonic:n}=sn(e),i=_3(t,n);return r=>r?i(r>0?r-1:r):""}function H5(e){const{intervals:t,tonic:n}=sn(e);return _3(t,n)}var Fi={degrees:K5,detect:W5,extended:Vb,get:sn,modeNames:j5,names:X5,rangeOf:q5,reduced:O5,scaleChords:z5,scaleNotes:Tb,steps:H5,tokenize:Nb,scale:Z5},J5={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},U5=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function Y5(){return U5.slice()}var Q5=/^(\d*\d(?:\+\d)*)\/(\d+)$/,Lb=new Map;function e9(e){const t=JSON.stringify(e),n=Lb.get(t);if(n)return n;const i=i9(_1(e));return Lb.set(t,i),i}function _1(e){if(typeof e=="string"){const[s,u,o]=Q5.exec(e)||[];return _1([u,o])}const[t,n]=e,i=+n;if(typeof t=="number")return[t,i];const r=t.split("+").map(s=>+s);return r.length===1?[r[0],i]:[r,i]}var t9={names:Y5,parse:_1,get:e9},n9=e=>Math.log(e)/Math.log(2)%1===0;function i9([e,t]){const n=Array.isArray(e)?e.reduce((o,c)=>o+c,0):e,i=t;if(n===0||i===0)return J5;const r=Array.isArray(e)?`${e.join("+")}/${t}`:`${e}/${t}`,s=Array.isArray(e)?e:[],u=i===4||i===2?"simple":i===8&&n%3===0?"compound":n9(i)?"irregular":"irrational";return{empty:!1,name:r,type:u,upper:n,lower:i,additive:s}}var r9=ib,s9=Z3,u9=sb,a9=ob;const o9=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:Sv,Array:Tv,Chord:tD,ChordDictionary:u9,ChordType:sb,Collection:Xv,Core:ib,DurationValue:lD,Interval:Di,Key:M5,Midi:TD,Mode:k5,Note:Xn,PcSet:s9,Pcset:Z3,Progression:T5,Range:R5,RomanNumeral:l5,Scale:Fi,ScaleDictionary:a9,ScaleType:ob,TimeSignature:t9,Tonal:r9,accToAlt:d1,altToAcc:h1,chroma:O3,coordToInterval:hr,coordToNote:m1,coordinates:Bs,deprecate:Ci,distance:g1,fillStr:tb,height:o1,interval:st,isNamed:nb,isNamedPitch:fr,isPitch:Ss,midi:j3,note:rn,pitch:_s,stepToLetter:f1,tokenizeInterval:l1,tokenizeNote:xs,tonicIntervalsTransposer:ks,transpose:Mi},Symbol.toStringTag,{value:"Module"})),c9=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],l9=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],f9=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],h9={b:-1,"#":1},d9=e=>{const[t,...n]=e.split("");return l9.indexOf(t.toLowerCase())+n.reduce((i,r)=>i+h9[r],0)};function m9(e){const t=(e||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return t?t.slice(1):[]}const x1=e=>e%12,Rb=e=>{let t=Number(e);return isNaN(t)?Di.semitones(e):t},k1=(e,t)=>{if(typeof e=="number")return e;if(typeof e=="string")return fn(e,t)},p9=(e,t=!1)=>{const n=Math.floor(e/12)-1;return(t?f9:c9)[e%12]+n};function g9(e,t,n=1){e=e.map(r=>typeof r=="string"?fn(r):r);const i=Math.floor(t/e.length)*n*12;return t=At(t,e.length),e[t]+i}function y9(e,t,n){let i=0,r=1/0;return t.forEach((s,u)=>{const o=Math.abs(s-e);(o<r||n)&&(i=u,r=o)}),i}let I1={};function b9(e,t,n,i){let[r,s]=Fi.tokenize(t);const u=k1(r),o=x1(u);if(!I1[s]){let{intervals:m}=Fi.get(`C ${s}`);I1[s]=m.map(Rb)}const c=I1[s];if(!c)return null;let h=u;if(n){n=k1(n,3);const m=x1(n),M=At(m-o,12),C=y9(M,c,i);e=e+C,h=n-M}const d=Math.floor(e/c.length)*12;return e=At(e,c.length),c[e]+h+d}let Gb={below:e=>e.slice(-1)[0],duck:e=>e.slice(-1)[0],above:e=>e[0],root:e=>e[0]};function A9({chord:e,dictionary:t,offset:n=0,n:i,mode:r="below",anchor:s="c5",octaves:u=1}){const[o,c]=m9(e),h=d9(o);s=k1(s?.note||s,4);const d=x1(s),g=t[c].map(x=>(typeof x=="string"?x.split(" "):x).map(Rb));let m,M,C=g.map((x,N)=>{const V=Gb[r](x),H=At(d-V-h,12);return(m===void 0||H<m)&&(m=H,M=N),H});r==="root"&&(M=0);const P=Math.ceil(n/g.length)*12,w=At(M+n,g.length),I=g[w],k=Gb[r](I),X=s-C[w]+P,_=I.map(x=>X-k+x);let S=_.map(x=>p9(x));return r==="duck"&&(S=S.filter((x,N)=>_[N]!==s)),i!==void 0?[g9(S,i,u)]:S}const M9=e=>(e<=0?-1:1)+e*7+"P";function C9(e,t){t=t.replaceAll(":"," "),e=Math.ceil(e);let{intervals:n,tonic:i,empty:r}=Fi.get(t);if(r&&_n(t)||!r&&!i)throw new Error('incomplete scale. Make sure to use ":" instead of spaces, example: .scale("C:major")');if(r)throw new Error(`invalid scale "${t}"`);i=i||"C";const{pc:s,oct:u=3}=Xn.get(i),o=Math.floor(e/n.length),c=At(e,n.length),h=Di.add(n[c],M9(o));return Xn.transpose(s+u,h)}function Xb(e,t,n){let[i,r]=Fi.tokenize(e),{notes:s}=Fi.get(`${i} ${r}`);if(s=s.map(M=>Xn.get(M).pc),t=Number(t),isNaN(t))throw new Error(`scale offset "${t}" not a number`);const{pc:u,oct:o=3}=Xn.get(n),c=s.indexOf(u);if(c===-1)throw new Error(`note "${n}" is not in scale "${e}"`);let h=c,d=o,g=u;const m=Math.sign(t);for(;Math.abs(h-c)<Math.abs(t);){h+=m;const M=At(h,s.length);m<0&&g[0]==="C"&&(d+=m),g=s[M],m>0&&g[0]==="C"&&(d+=m)}return g+d}const Zb=L("transpose",function(e,t){return t.withHap(n=>{const i=n.value.note??n.value;if(typeof i=="number"){let u;typeof e=="number"?u=e:typeof e=="string"&&(u=Di.semitones(e)||0);const o=i+u;return typeof n.value=="object"?n.withValue(()=>({...n.value,note:o})):n.withValue(()=>o)}if(typeof i!="string"||!_n(i))return Ue(`[tonal] transpose: not a note "${i}"`,"warning"),n;const r=isNaN(Number(e))?String(e):Di.fromSemitones(e),s=Xn.simplify(Xn.transpose(i,r));return typeof n.value=="object"?n.withValue(()=>({...n.value,note:s})):n.withValue(()=>s)})}),Wb=L("scaleTranspose",function(e,t){return t.withHap(n=>{if(!n.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof n.value=="object")return n.withValue(()=>({...n.value,note:Xb(n.context.scale,Number(e),n.value.note)}));if(typeof n.value!="string")throw new Error("can only use scaleTranspose with notes");return n.withValue(()=>Xb(n.context.scale,Number(e),n.value))})}),zb=L("scale",function(e,t){return Array.isArray(e)&&(e=e.flat().join(" ")),t.fmap(n=>{const i=typeof n=="object";let r=i?n.n:n;if(i&&delete n.n,_n(r))return qe(r);let s=Number(r),u=0;if(isNaN(s)){if(r=String(r),!/^[-+]?\d+(#*|b*){1}$/.test(r))return Ue(`[tonal] invalid scale step "${r}", expected number or integer with optional # b suffixes`,"error"),xe;const o=r.indexOf("#");if(o>=0)s=Number(r.substring(0,o)),u=r.length-o;else{const c=r.indexOf("b");s=Number(r.substring(0,c)),u=c-r.length}}try{let o;i&&n.anchor?o=b9(s,e,n.anchor):o=C9(s,e),u!=0&&(o=Xn.transpose(o,Di.fromSemitones(u))),n=qe(i?{...n,note:o}:o)}catch(o){Ue(`[tonal] ${o.message}`,"error"),n=xe}return n}).outerJoin().withHap(n=>n.setContext({...n.context,scale:e}))},!0,!0);var N1={},dr={},mr={},Ob;function jb(){if(Ob)return mr;Ob=1,mr.__esModule=!0,mr.getBestVoicing=void 0;function e(t){var n=t.chord,i=t.range,r=t.finder,s=t.picker,u=t.lastVoicing,o=r(n,i);return o.length?s(o,u):[]}return mr.getBestVoicing=e,mr}var pr={};const $b=_C(o9);var gr={},qb;function Kb(){if(qb)return gr;qb=1,gr.__esModule=!0,gr.tokenizeChord=void 0;function e(t){var n=(t||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return n?n.slice(1):[]}return gr.tokenizeChord=e,gr}var Hb;function v9(){if(Hb)return pr;Hb=1,pr.__esModule=!0,pr.voicingsInRange=void 0;var e=$b,t=Ub(),n=Kb();function i(r,s,u){s===void 0&&(s=t.lefthand),u===void 0&&(u=["D3","A4"]);var o=(0,n.tokenizeChord)(r),c=o[0],h=o[1];if(!s[h])return[];var d=s[h].map(function(m){return m.split(" ")}),g=e.Range.chromatic(u);return d.reduce(function(m,M){var C=M.map(function(k){return e.Interval.substract(k,M[0])}),P=e.Note.transpose(c,M[0]),w=g.filter(function(k){return e.Note.chroma(k)===e.Note.chroma(P)}).filter(function(k){return e.Note.midi(e.Note.transpose(k,C[C.length-1]))<=e.Note.midi(u[1])}).map(function(k){return e.Note.enharmonic(k,P)}),I=w.map(function(k){return C.map(function(X){return e.Note.transpose(k,X)})});return m.concat(I)},[])}return pr.voicingsInRange=i,pr}var Jb;function Ub(){return Jb||(Jb=1,function(e){var t=dr.__assign||function(){return t=Object.assign||function(o){for(var c,h=1,d=arguments.length;h<d;h++){c=arguments[h];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(o[g]=c[g])}return o},t.apply(this,arguments)},n=dr.__rest||function(o,c){var h={};for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&c.indexOf(d)<0&&(h[d]=o[d]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,d=Object.getOwnPropertySymbols(o);g<d.length;g++)c.indexOf(d[g])<0&&Object.prototype.propertyIsEnumerable.call(o,d[g])&&(h[d[g]]=o[d[g]]);return h};e.__esModule=!0,e.dictionaryVoicing=e.dictionaryVoicingFinder=e.triads=e.guidetones=e.lefthand=void 0;var i=jb(),r=v9();e.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},e.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},e.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var s=function(o){return function(c,h){return(0,r.voicingsInRange)(c,o,h)}};e.dictionaryVoicingFinder=s;var u=function(o){var c=o.dictionary,h=o.range,d=n(o,["dictionary","range"]);return(0,i.getBestVoicing)(t(t({},d),{range:h,finder:(0,e.dictionaryVoicingFinder)(c)}))};e.dictionaryVoicing=u}(dr)),dr}var yr={},Yb;function P9(){if(Yb)return yr;Yb=1,yr.__esModule=!0,yr.minTopNoteDiff=void 0;var e=$b;function t(n,i){if(!i)return n[0];var r=function(s){return Math.abs(e.Note.midi(i[i.length-1])-e.Note.midi(s[s.length-1]))};return n.reduce(function(s,u){return r(u)<r(s)?u:s},n[0])}return yr.minTopNoteDiff=t,yr}var Qb;function D9(){return Qb||(Qb=1,function(e){e.__esModule=!0;var t=Ub(),n=P9(),i=jb(),r=Kb();e.default={tokenizeChord:r.tokenizeChord,getBestVoicing:i.getBestVoicing,dictionaryVoicing:t.dictionaryVoicing,dictionaryVoicingFinder:t.dictionaryVoicingFinder,lefthand:t.lefthand,guidetones:t.guidetones,triads:t.triads,minTopNoteDiff:n.minTopNoteDiff}}(N1)),N1}var F9=D9();const eA=j2(F9),Ei={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},br={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:E9,minTopNoteDiff:w9}=eA.default||eA,ri={lefthand:{dictionary:{m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},mode:"below",anchor:"a4"},guidetones:{dictionary:{m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},mode:"above",anchor:"a4"},legacy:{dictionary:{"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},mode:"below",anchor:"a4"}};let tA="ireal";const V1=e=>tA=e,nA=(e,t)=>T1(e,ri[e].dictionary,t),T1=(e,t,n=["F3","A4"])=>{Object.assign(ri,{[e]:{dictionary:t,range:n}})},Ws=(e,t,n={})=>{Object.assign(ri,{[e]:{dictionary:t,...n}})},S9=(e,t,n)=>{const{dictionary:i,range:r}=ri[t];return E9({chord:e,dictionary:i,range:r,picker:w9,lastVoicing:n})};let zs;const iA=L("voicings",function(e,t){return t.fmap(n=>(zs=S9(n,e,zs),Ne(...zs))).outerJoin()}),rA=L("rootNotes",function(e,t){return t.fmap(n=>{const s=(n.chord||n).match(/^([a-gA-G][b#]?).*$/)[1]+e;return n.chord?{note:s}:s})}),sA=L("voicing",function(e){return e.fmap(t=>{t=typeof t=="string"?{chord:t}:t;let{dictionary:n=tA,chord:i,anchor:r,offset:s,mode:u,n:o,octaves:c,...h}=t;n=typeof n=="string"?ri[n]:{dictionary:n,mode:"below",anchor:"c5"};try{let d=A9({...n,chord:i,anchor:r,offset:s,mode:u,n:o,octaves:c});return Ne(...d).note().set(h)}catch{return Ue(`[voicing]: unknown chord "${i}"`),xe}}).outerJoin()});function wi(e,t,n){n=Array.isArray(n)?n:[n],n.forEach(i=>{i[t]=i[e]})}wi("^","",[Ei,br]),Object.keys(Ei).forEach(e=>{if(e.includes("-")){let t=e.replace("-","m");wi(e,t,[br,Ei])}if(e.includes("^")){let t=e.replace("^","M");wi(e,t,[br,Ei])}if(e.includes("+")){let t=e.replace("+","aug");wi(e,t,[br,Ei])}}),Ws("ireal",Ei),Ws("ireal-ext",br);function uA(){zs=void 0,V1("ireal")}const aA="@strudel/tonal",B9=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:T1,packageName:aA,registerVoicings:Ws,resetVoicings:uA,rootNotes:rA,scale:zb,scaleTranspose:Wb,setDefaultVoicings:V1,setVoicingRange:nA,transpose:Zb,voicing:sA,voicingAlias:wi,voicingRegistry:ri,voicings:iA},Symbol.toStringTag,{value:"Module"}));async function oA(){const e=zi(zi,Promise.resolve().then(()=>oy),Promise.resolve().then(()=>WM),Promise.resolve().then(()=>B9),Promise.resolve().then(()=>GM),{hush:lA,evaluate:fA});await Promise.all([e,oh()])}let L1,si;function cA(e={}){ih(),e.miniAllStrings!==!1&&Ph();const{prebake:t,...n}=e;return si=gh({...n,transpiler:p3}),L1=(async()=>(await oA(),await t?.(),si))(),Oi(()=>si.scheduler.now()),L1}window.initStrudel=cA,j.prototype.play=function(){if(!si)throw new Error(".play: no repl found. Have you called initStrudel?");return L1.then(()=>{si.setPattern(this,!0)}),this};function lA(){si.stop()}async function fA(e,t=!0){return si.evaluate(e,t)}return a.ClockCollator=hu,a.Cyclist=_f,a.DEFAULT_MAX_POLYPHONY=Yr,a.Fraction=$,a.Hap=ze,a.Pattern=j,a.StartRules=Qy,a.State=Hn,a.SyntaxError=Vn,a.TimeSpan=$e,a.__chooseWith=Or,a._brandBy=Wr,a._fitslice=_u,a._irand=zr,a._keyDown=$r,a._match=xu,a._mod=At,a._polymeterListSteps=Iu,a._retime=Ir,a._slices=Nr,a.accelerate=Qu,a.activeLabel=Lc,a.ad=O0,a.add=wd,a.addVoicings=T1,a.adsr=z0,a.aliasBank=wy,a.almostAlways=Rg,a.almostNever=Lg,a.always=Xg,a.amp=ia,a.analyze=ga,a.anchor=ol,a.and=$d,a.apply=vm,a.applyFM=Ki,a.applyGainCurve=In,a.ar=$0,a.arrange=hd,a.as=ff,a.att=sa,a.attack=ra,a.averageArray=tu,a.backgroundImage=uy,a.band=Id,a.bandf=Fa,a.bandq=Sa,a.bank=pa,a.base64ToUnicode=lu,a.bbexpr=Za,a.bbst=za,a.beat=Wp,a.begin=_a,a.binary=hg,a.binaryN=Pf,a.bind=bd,a.binshift=h0,a.bite=Sm,a.bjork=df,a.blshift=Td,a.bor=Nd,a.bp=wa,a.bpa=Po,a.bpattack=vo,a.bpd=Bo,a.bpdecay=So,a.bpe=yo,a.bpenv=go,a.bpf=Ea,a.bpq=Ba,a.bpr=Zo,a.bprelease=Xo,a.bps=Vo,a.bpsustain=No,a.brak=Rm,a.brand=bg,a.brandBy=yg,a.brshift=Ld,a.bxor=Vd,a.bypass=op,a.byteBeatExpression=Xa,a.byteBeatStartTime=Wa,a.calculateSteps=ad,a.cat=Pu,a.ccn=Y0,a.ccv=Q0,a.ceil=Ud,a.ch=ja,a.channel=so,a.channels=Oa,a.choose=Mg,a.chooseCycles=Ff,a.chooseInWith=jr,a.chooseWith=Wi,a.chop=xp,a.chord=sl,a.chunk=tp,a.chunkBack=rp,a.chunkback=sp,a.clamp=Ti,a.cleanupUi=ay,a.clip=D0,a.coarse=Ra,a.code2hash=rd,a.color=Z0,a.colour=W0,a.comb=c0,a.compose=Y1,a.compress=rm,a.compressSpan=sm,a.compressor=Sl,a.compressorAttack=xl,a.compressorKnee=Bl,a.compressorRatio=_l,a.compressorRelease=kl,a.compressspan=um,a.connectToDestination=Ji,a.constant=Q1,a.contract=Gu,a.control=U0,a.controls=zp,a.cosine=Yp,a.cosine2=Qp,a.cpm=Pm,a.cps=P0,a.createClock=pf,a.createFilter=$i,a.createParam=Xi,a.createParams=Lr,a.crush=La,a.ctf=oo,a.ctlNum=ef,a.ctranspose=Zc,a.curry=ge,a.curve=B0,a.cut=uo,a.cutoff=ao,a.cycleToSeconds=Br,a.dec=Aa,a.decay=ba,a.defaultPrebake=oA,a.degrade=Sg,a.degradeBy=wg,a.degradeByWith=Eg,a.degree=Gc,a.delay=rc,a.delayfb=uc,a.delayfeedback=sc,a.delayt=cc,a.delaytime=oc,a.deltaSlide=_0,a.det=dc,a.detune=hc,a.dfb=ac,a.dict=al,a.dictionary=ul,a.dist=wl,a.distort=El,a.div=_d,a.djf=ic,a.dough=Xy,a.doughTrigger=dh,a.drawFrequencyScope=bh,a.drawLine=pu,a.drawTimeScope=yh,a.drive=Ga,a.drop=Tu,a.dry=gc,a.drywet=Tf,a.ds=j0,a.dspWorklet=hh,a.dt=lc,a.dur=w0,a.duration=E0,a.early=Dm,a.echo=Hm,a.echoWith=jm,a.echowith=$m,a.end=xa,a.enhance=a0,a.eq=Wd,a.eqt=zd,a.euclid=jp,a.euclidLegato=Hp,a.euclidLegatoRot=Jp,a.euclidRot=qp,a.euclidrot=$p,a.evalScope=zi,a.evaluate=fA,a.every=Cm,a.expand=Ru,a.expression=Rl,a.extend=Lu,a.fadeInTime=Ac,a.fadeOutTime=bc,a.fadeTime=yc,a.fanchor=zo,a.fast=dm,a.fastChunk=ap,a.fastGap=am,a.fastcat=at,a.fastchunk=up,a.fastgap=om,a.fft=ya,a.filter=dp,a.filterWhen=mp,a.firstOf=Mm,a.fit=Lp,a.flatten=Ut,a.floor=Jd,a.fm=oa,a.fmattack=la,a.fmdecay=fa,a.fmenv=ca,a.fmh=ua,a.fmi=aa,a.fmrelease=da,a.fmsustain=ha,a.fmvelocity=ma,a.focus=cm,a.focusSpan=lm,a.focusspan=fm,a.fractionalArgs=ed,a.frameRate=p0,a.frames=g0,a.freeze=n0,a.freq=Mc,a.freqToMidi=Pr,a.fromBipolar=Qd,a.fshift=Ol,a.fshiftnote=jl,a.fshiftphase=$l,a.ftype=Wo,a.func=Kd,a.gain=ta,a.gainNode=Rt,a.gap=Jn,a.gat=Ic,a.gate=kc,a.getADSRValues=Xt,a.getAnalyserById=sh,a.getAnalyzerData=Ui,a.getAudioContext=De,a.getAudioContextCurrentTime=ky,a.getAudioDevices=Jf,a.getCachedBuffer=gy,a.getCompressor=Vf,a.getControlName=Rr,a.getCurrentKeyboardState=mu,a.getDefaultValue=Ke,a.getEventOffsetMs=K1,a.getFreq=eu,a.getFrequency=iu,a.getLeafLocation=us,a.getLeafLocations=as,a.getLeaves=vh,a.getLfo=ns,a.getLoadedBuffer=yy,a.getOscillator=lh,a.getParamADSR=Gt,a.getPerformanceTimeSeconds=ud,a.getPitchEnvelope=ci,a.getPlayableNoteValue=U1,a.getSampleBuffer=Xf,a.getSampleBufferSource=Zf,a.getSampleInfo=Gf,a.getSound=Hi,a.getSoundIndex=J1,a.getTime=Kr,a.getTrigger=kf,a.getVibratoOscillator=li,a.getWidgetID=y3,a.getWorklet=Ft,a.getZZFX=fh,a.grow=gp,a.gt=Gd,a.gte=Zd,a.h=n2,a.harmonic=Wc,a.hash2code=sd,a.hbrick=d0,a.hcutoff=Jo,a.hold=Da,a.hours=y0,a.hp=Yo,a.hpa=Co,a.hpattack=Mo,a.hpd=wo,a.hpdecay=Eo,a.hpe=po,a.hpenv=mo,a.hpf=Uo,a.hpq=ec,a.hpr=Go,a.hprelease=Ro,a.hps=Io,a.hpsustain=ko,a.hresonance=Qo,a.hsl=hp,a.hsla=fp,a.hurry=mm,a.hush=lA,a.id=Kn,a.imag=u0,a.inhabit=Ug,a.inhabitmod=Qg,a.initAudio=th,a.initAudioOnFirstClick=ih,a.initStrudel=cA,a.initializeAudioOutput=rh,a.innerBind=Ad,a.inside=ym,a.inv=Vm,a.invert=Nm,a.ir=Al,a.irand=Ag,a.iresponse=Ml,a.isNote=_n,a.isNoteWithOctave=$1,a.isPattern=xr,a.isaw=Zi,a.isaw2=Xr,a.iter=Um,a.iterBack=Ym,a.iterback=Qm,a.itri=ig,a.itri2=rg,a.jux=Om,a.juxBy=Wm,a.juxby=zm,a.kcutoff=Hl,a.keep=Fd,a.keepif=Ed,a.keyAlias=du,a.keyDown=Wg,a.krush=Kl,a.label=Rc,a.lastOf=Am,a.late=Eu,a.lbrick=m0,a.legato=F0,a.leslie=Nc,a.lfo=I0,a.linger=Bm,a.listRange=Dr,a.loadBuffer=Ur,a.lock=fc,a.logKey=vr,a.loop=ka,a.loopAt=Vp,a.loopAtCps=Rp,a.loopBegin=Ia,a.loopEnd=Va,a.loopat=Tp,a.loopatcps=Gp,a.loopb=Na,a.loope=Ta,a.lp=lo,a.lpa=Ao,a.lpattack=bo,a.lpd=Fo,a.lpdecay=Do,a.lpe=ho,a.lpenv=fo,a.lpf=co,a.lpq=nc,a.lpr=Lo,a.lprelease=To,a.lps=xo,a.lpsustain=_o,a.lrate=Vc,a.lsize=Tc,a.lt=Rd,a.lte=Xd,a.m=t2,a.mapArgs=Er,a.mask=md,a.midi2note=H1,a.midiToFreq=xn,a.midibend=of,a.midichan=q0,a.midicmd=J0,a.midimap=K0,a.midiport=H0,a.miditouch=cf,a.mini=os,a.mini2ast=di,a.miniAllStrings=Ph,a.minify=i2,a.minutes=b0,a.mod=xd,a.mode=fl,a.mouseX=og,a.mouseY=ug,a.mousex=ag,a.mousey=sg,a.mtranspose=Xc,a.mul=Bd,a.n=Uu,a.nanFallback=nu,a.ne=Od,a.net=jd,a.never=Gg,a.noise=qo,a.note=Yu,a.noteToMidi=fn,a.nothing=mt,a.nrpnn=tf,a.nrpv=nf,a.nudge=jc,a.numeralArgs=dt,a.objectMap=fu,a.octave=$c,a.octaveR=Oc,a.octaves=ll,a.octer=Jl,a.octersub=Ul,a.octersubsub=Yl,a.off=Lm,a.offset=cl,a.often=Vg,a.onTriggerSample=jf,a.or=qd,a.orbit=qc,a.outerBind=Md,a.outside=bm,a.overgain=Kc,a.overshape=Hc,a.pace=ku,a.packageName=aA,a.pairs=au,a.palindrome=Zm,a.pan=Jc,a.panchor=xc,a.panic=Iy,a.panorient=el,a.panspan=Uc,a.pansplay=Yc,a.panwidth=Qc,a.parse=Ch,a.parseFractional=uu,a.parseNumeral=Fr,a.partials=o0,a.patt=vc,a.pattack=Cc,a.patternifyAST=Qn,a.pcurve=_c,a.pdec=Dc,a.pdecay=Pc,a.penv=Bc,a.perlin=Fg,a.perlinWith=wf,a.ph=Ja,a.phasdp=ro,a.phaser=Ua,a.phasercenter=eo,a.phaserdepth=no,a.phaserrate=Ha,a.phasersweep=Ya,a.phc=to,a.phd=io,a.phs=Qa,a.pick=Sf,a.pickF=zg,a.pickOut=jg,a.pickReset=Hg,a.pickRestart=qg,a.pickSqueeze=Yg,a.pickmod=Bf,a.pickmodF=Og,a.pickmodOut=$g,a.pickmodReset=Jg,a.pickmodRestart=Kg,a.pickmodSqueeze=ey,a.pipe=su,a.pitchJump=x0,a.pitchJumpTime=k0,a.ply=hm,a.pm=ld,a.polyBind=Pd,a.polyTouch=lf,a.polymeter=Gi,a.polyrhythm=od,a.postgain=na,a.pow=kd,a.pr=cd,a.prel=Sc,a.prelease=wc,a.press=Xm,a.pressBy=Gm,a.processSampleMap=zf,a.progNum=rf,a.psus=Ec,a.psustain=Fc,a.pure=qe,a.pw=$a,a.pwrate=qa,a.pwsweep=Ka,a.rand=ct,a.rand2=gg,a.randcat=Cg,a.randrun=Df,a.range=em,a.range2=nm,a.rangex=tm,a.rarely=Tg,a.rate=tl,a.ratio=im,a.rdim=gl,a.real=s0,a.ref=Xp,a.register=L,a.registerControl=B,a.registerSamplesPrefix=Cy,a.registerSound=mn,a.registerSynthSounds=oh,a.registerVoicings=Ws,a.registerWidgetType=HC,a.registerZZFXSounds=Ry,a.reify=K,a.rel=Pa,a.release=va,a.removeUndefineds=qn,a.repeatCycles=ep,a.repeatTime=N0,a.repl=sy,a.resetDefaultValues=Yf,a.resetGlobalEffects=Ny,a.resetLoadedSounds=xy,a.resetVoicings=uA,a.resonance=tc,a.rev=wu,a.reverseBuffer=Wf,a.rfade=bl,a.rib=lp,a.ribbon=cp,a.ring=Ql,a.ringdf=t0,a.ringf=e0,a.rlp=ml,a.room=hl,a.roomdim=pl,a.roomfade=yl,a.roomlp=dl,a.roomsize=Cl,a.rootNotes=rA,a.rotate=ru,a.round=Hd,a.rsize=Dl,a.run=vf,a.s=qu,a.s_add=Pp,a.s_alt=Ap,a.s_cat=bp,a.s_contract=wp,a.s_expand=Fp,a.s_extend=Ep,a.s_polymeter=Mp,a.s_sub=Dp,a.s_taper=Cp,a.s_taperlist=vp,a.s_tour=Sp,a.s_zip=Bp,a.samples=Of,a.saw=oi,a.saw2=Gr,a.scale=zb,a.scaleTranspose=Wb,a.scram=f0,a.scramble=pg,a.scrub=hf,a.seconds=A0,a.seg=xm,a.segment=_m,a.semitone=il,a.seq=Du,a.seqPLoop=dd,a.sequence=Mt,a.sequenceP=bu,a.set=Dd,a.setDefaultAudioContext=Qf,a.setDefaultValue=Qr,a.setDefaultValues=By,a.setDefaultVoicings=V1,a.setGainCurve=Ey,a.setLogger=Nf,a.setMaxPolyphony=qf,a.setMultiChannelOrbits=Kf,a.setStringParser=yu,a.setTime=Oi,a.setVersionDefaults=_y,a.setVoicingRange=nA,a.shape=Fl,a.shrink=Zu,a.shrinklist=Xu,a.shuffle=mg,a.signal=Ct,a.silence=xe,a.sine=gf,a.sine2=Zr,a.size=vl,a.slice=Ou,a.slide=nl,a.slow=pm,a.slowChunk=ip,a.slowcat=hn,a.slowcatPrime=kr,a.slowchunk=np,a.smear=l0,a.sol2note=td,a.someCycles=Ng,a.someCyclesBy=Ig,a.sometimes=kg,a.sometimesBy=xg,a.songPtr=M0,a.sound=Ku,a.soundMap=Un,a.source=Hu,a.sparsity=gm,a.speak=iy,a.speed=Tr,a.splice=Np,a.splitAt=wr,a.spread=pc,a.square=yf,a.square2=eg,a.squeeze=ty,a.squeezeBind=Cd,a.squiz=Vl,a.src=Ju,a.stack=Ne,a.stackBy=fd,a.stackCentre=vu,a.stackLeft=Mu,a.stackRight=Cu,a.steady=Up,a.stepBind=vd,a.stepalt=Nu,a.stepcat=ot,a.steps=_p,a.stepsPerOctave=zc,a.stretch=Il,a.striate=kp,a.struct=pd,a.stut=Jm,a.stutWith=qm,a.stutwith=Km,a.sub=Sd,a.superdough=Qi,a.superdoughTrigger=Ty,a.superimpose=gd,a.sus=Ca,a.sustain=Ma,a.sustainpedal=Gl,a.swing=Im,a.swingBy=km,a.sysex=sf,a.sysexdata=af,a.sysexid=uf,a.sz=Pl,a.take=Vu,a.time=bf,a.timeCat=Vr,a.timecat=yp,a.toBipolar=Yd,a.tokenizeNote=Qs,a.tour=Wu,a.transpiler=p3,a.transpose=Zb,a.tremdp=Zl,a.tremolo=G0,a.tremolodepth=Xl,a.tremolorate=Wl,a.tremr=zl,a.tri=tg,a.tri2=ng,a.triode=ql,a.tsdelay=r0,a.uid=C0,a.undegrade=_g,a.undegradeBy=Bg,a.unicodeToBase64=cu,a.uniq=nd,a.uniqsort=id,a.uniqsortr=ou,a.unison=mc,a.unit=Nl,a.v=$o,a.val=v0,a.valueToMidi=q1,a.velocity=ea,a.vib=Oo,a.vibmod=Ko,a.vibrato=jo,a.vmod=Ho,a.voice=rl,a.voicing=sA,a.voicingAlias=wi,a.voicingRegistry=ri,a.voicings=iA,a.vowel=Tl,a.waveformN=ch,a.waveloss=Ll,a.wchoose=Pg,a.wchooseCycles=Ef,a.webAudioTimeout=qi,a.webaudioOutput=ph,a.webaudioOutputTrigger=mh,a.webaudioRepl=gh,a.when=Tm,a.whenKey=Zg,a.withValue=yd,a.within=pp,a.wrandcat=Dg,a.xfade=ju,a.xsdelay=i0,a.zcrush=L0,a.zdelay=R0,a.zip=zu,a.zipWith=Sr,a.zmod=T0,a.znoise=V0,a.zoom=Fm,a.zoomArc=Em,a.zoomarc=wm,a.zrand=S0,a.zzfx=X0,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),a}({});
